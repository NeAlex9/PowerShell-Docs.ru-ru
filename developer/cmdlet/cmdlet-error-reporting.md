---
title: Ошибка в командлете Reporting | Документация Майкрософт
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error records [PowerShell], terminating
- non-terminating errors [PowerShell]
- error records [PowerShell]
- terminating errors [PowerShell]
- error records [PowerShell], non-terminating
ms.assetid: 0b014035-52ea-44cb-ab38-bbe463c5465a
caps.latest.revision: 8
ms.openlocfilehash: 45f5934314a2871ceb921c7a66b9dfb658d0bd99
ms.sourcegitcommit: caac7d098a448232304c9d6728e7340ec7517a71
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/16/2019
ms.locfileid: "58057949"
---
# <a name="cmdlet-error-reporting"></a>Отчеты об ошибках командлета

Командлеты, должны отправлять ошибки по-разному в зависимости от ли ошибки прекращение выполняется ошибки или устранимые ошибки. Прерывающие ошибки являются ошибки, которые заставляют конвейер, чтобы немедленно прекращается или ошибки, возникающие при нет причин продолжать обработку. Устранимые ошибки — эти ошибки, которые указывают на текущее условие ошибки, но командлет может продолжать обрабатывать входные объекты. Устранимые ошибки проблемы обычно уведомления пользователя, но командлет продолжает обрабатывать следующего входного объекта.

## <a name="terminating-and-nonterminating-errors"></a>Завершающий и устранимые ошибки

Следующие рекомендации можно использовать для определения того, является ли условие ошибки неустранимую ошибку или устранимые ошибки.

- Условие ошибки не командлета успешно обрабатывал любые дополнительные входные объекты? Если Да, это неустранимую ошибку.

- Условие ошибки, связанные для конкретного входного объекта или подмножество входных объектов? Если Да, это устранимые ошибки.

- Командлет принимает несколько входных объектов, например обработка может завершиться успешно с другим входным объектом? Если Да, это устранимые ошибки.

- Командлеты, которые может принимать несколько входных объектов следует выбрать что прекращение выполняется и устранимые ошибки, даже в том случае, если применяется только один входной объект конкретной ситуации.

- Командлеты можно получать любое количество входных объектов и отправить любое число объектов успеха или ошибки до создания исключения завершающий. Отсутствует связь между числом входных объектов, принятых и числа объектов успеха и ошибки отправки.

- Командлеты, которые может принимать входные данные объектов только 0-1 и создать только 0-1 выходные объекты следует рассматривать ошибки как прерывающие ошибки и создают завершающий исключения.

## <a name="reporting-nonterminating-errors"></a>Устранимые ошибки

Создание отчетов по устранимые ошибки всегда должна выполняться в рамках реализации командлета [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) метода [ System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) метод, или [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) метод. Эти типы ошибок выводятся путем вызова [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) метода, который в свою очередь отправляет запись об ошибке в поток ошибок.

## <a name="reporting-terminating-errors"></a>Reporting прерывающие ошибки

Завершающий отображаются ошибки, исключения или вызвав [System.Management.Automation.Cmdlet.Throwterminatingerror*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) метод. Имейте в виду, что командлеты также можно перехватить и повторно сгенерировать исключения, например OutOfMemory, однако они не требуются для повторного создания исключения, как среда выполнения Windows PowerShell будет перехватывать их также.

Можно также определить собственные исключения для проблемы, относящиеся к вашей ситуации или добавления дополнительных сведений для существующих исключений с помощью его запись об ошибке.

## <a name="error-records"></a>Записи об ошибках

Windows PowerShell описываются устранимые ошибки помощи [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) объектов. Каждый [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) объект предоставляет сведения о категории ошибок, необязательный целевой объект и сведения об ошибке.

### <a name="error-identifiers"></a>Ошибка идентификаторы

Идентификатор ошибки — простая строка, обозначающий условия ошибки в данном командлете. Windows PowerShell объединяет этот идентификатор с идентификатором командлет для создания идентификатора полное ошибки, который может использоваться позже, при фильтрации потоков ошибку или ведение журнала ошибок при ответе на определенные ошибки, или с другими действиями конкретного пользователя.

Следующие рекомендации необходимо соблюдать при указании идентификаторов ошибки.

- Назначает идентификаторы отличные, высокоспециализированные, ошибка на разных путей кода. Каждый путь кода, который вызывает [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) или [System.Management.Automation.Cmdlet.Throwterminatingerror*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) должен иметь свой собственный идентификатор ошибки.

- Ошибка идентификаторы должны быть уникальными для типов исключений среды CLR для и устранимые ошибки.

- Не изменяет семантику идентификатора ошибка между версиями командлета или поставщика Windows PowerShell. После установления семантика идентификатор ошибка, она должна оставаться неизменным на протяжении всего жизненного цикла командлета.

- Для прерывающие ошибки используйте это ошибка уникальный идентификатор для определенного типа исключения среды CLR. Если изменяется тип исключения, используйте новый идентификатор ошибки.

- Устранимые ошибки используйте идентификатор конкретной ошибки для конкретного входного объекта.

- Выберите текст для идентификатора, кратко соответствующий сообщение об ошибке. Не используйте пробелы или знаки препинания.

- Не создают ошибки идентификаторы, которые не воспроизводятся. Например не создают идентификаторы, которые включают идентификатор процесса. Ошибка идентификаторы полезны только в том случае, если они соответствуют идентификаторы, которые будут видны другим пользователям, у которых возникают та же проблема.

### <a name="error-categories"></a>Категории ошибок

Категории ошибок используются для группировки ошибок для конечного пользователя. Windows PowerShell определяет эти категории и командлеты и поставщики Windows PowerShell необходимо выбрать между ними при создании запись об ошибке.

Описание категории ошибок, которые доступны, см. в разделе [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) перечисления. В общем случае следует использовать значение NoError UndefinedError и общая ошибка, когда это возможно.

Пользователи могут просматривать ошибки, основанной на категориях, когда они значение "`$ErrorView`" для «CategoryView».

## <a name="see-also"></a>См. также

[Командлеты Windows PowerShell](./cmdlet-overview.md)

[Выходные данные командлета](./types-of-cmdlet-output.md)

[Оболочка Windows PowerShell SDK](../windows-powershell-reference.md)
