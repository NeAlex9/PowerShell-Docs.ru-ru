---
title: Интерпретация объекты ErrorRecord | Документация Майкрософт
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2a65b964-5bc6-4ade-a66b-b6afa7351ce7
caps.latest.revision: 9
ms.openlocfilehash: 32ebf2531237bfd1042310ccc4155193a58401fd
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62067643"
---
# <a name="interpreting-errorrecord-objects"></a><span data-ttu-id="feb37-102">Интерпретация объектов ErrorRecord</span><span class="sxs-lookup"><span data-stu-id="feb37-102">Interpreting ErrorRecord Objects</span></span>

<span data-ttu-id="feb37-103">В большинстве случаев [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) представляет устранимую ошибку, созданные команды или сценария.</span><span class="sxs-lookup"><span data-stu-id="feb37-103">In most cases, an [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object represents a non-terminating error generated by a command or script.</span></span> <span data-ttu-id="feb37-104">Завершение ошибки можно также указать дополнительные сведения в ErrorRecord через [System.Management.Automation.Icontainserrorrecord](/dotnet/api/System.Management.Automation.IContainsErrorRecord) интерфейс.</span><span class="sxs-lookup"><span data-stu-id="feb37-104">Terminating errors can also specify the additional information in an ErrorRecord via the [System.Management.Automation.Icontainserrorrecord](/dotnet/api/System.Management.Automation.IContainsErrorRecord) interface.</span></span>

<span data-ttu-id="feb37-105">Если вы хотите написать обработчик ошибок в скрипте или узла для обработки определенных ошибок, возникающих во время выполнения команды или сценария, необходимо интерпретировать [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) объектом, чтобы определить ли он Представляет класс ошибки, необходимо обработать.</span><span class="sxs-lookup"><span data-stu-id="feb37-105">If you want to write an error handler in your script or a host to handle specific errors that occur during command or script execution, you must interpret the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object to determine whether it represents the class of error that you want to handle.</span></span>

<span data-ttu-id="feb37-106">Когда командлет встречает точки в конце или устранимую ошибку, оно должно создавать записи об ошибке, которое описывает условие ошибки.</span><span class="sxs-lookup"><span data-stu-id="feb37-106">When a cmdlet encounters a terminating or non-terminating error, it should create an error record that describes the error condition.</span></span> <span data-ttu-id="feb37-107">Ведущее приложение необходимо изучить эти записи об ошибках и выполните действие позволит устранить ошибки.</span><span class="sxs-lookup"><span data-stu-id="feb37-107">The host application must investigate these error records and perform whatever action will mitigate the error.</span></span> <span data-ttu-id="feb37-108">Ведущее приложение также необходимо изучить записи об ошибках для устранимые ошибки, которые не удалось обработать запись, но смогли продолжить, и она должна изучить записи об ошибках для неустранимых ошибок, вызвавшего конвейер остановить.</span><span class="sxs-lookup"><span data-stu-id="feb37-108">The host application must also investigate error records for nonterminating errors that failed to process a record but were able to continue, and it must investigate error records for terminating errors that caused the pipeline to stop.</span></span>

> [!NOTE]
> <span data-ttu-id="feb37-109">Для прерывающие ошибки вызывает командлет [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) метод.</span><span class="sxs-lookup"><span data-stu-id="feb37-109">For terminating errors, the cmdlet calls the [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="feb37-110">Устранимые ошибки вызывает командлет [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) метод.</span><span class="sxs-lookup"><span data-stu-id="feb37-110">For non-terminating errors, the cmdlet calls the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method.</span></span>

## <a name="error-record-design"></a><span data-ttu-id="feb37-111">Ошибка записи разработки</span><span class="sxs-lookup"><span data-stu-id="feb37-111">Error Record Design</span></span>

<span data-ttu-id="feb37-112">Записи об ошибках призваны обеспечить Дополнительные сведения об ошибке, но недоступный в исключениях гарантией того, что обобщенную информацию в каждой записи ошибка уникальна.</span><span class="sxs-lookup"><span data-stu-id="feb37-112">Error records are designed to provide additional error information that is not available in exceptions while ensuring that the combined information in each error record is unique.</span></span> <span data-ttu-id="feb37-113">Эта уникальность позволяет ведущему приложению для проверки различных частей запись об ошибке, чтобы его можно определить условие ошибки, и необходимо выполнить действие узла.</span><span class="sxs-lookup"><span data-stu-id="feb37-113">This uniqueness allows the host application to inspect the different parts of the error record so that it can identify the error condition and the action the host must take.</span></span>

## <a name="interpreting-error-records"></a><span data-ttu-id="feb37-114">Интерпретация записей ошибок</span><span class="sxs-lookup"><span data-stu-id="feb37-114">Interpreting Error Records</span></span>

<span data-ttu-id="feb37-115">Можно просмотреть отдельные части запись об ошибке, чтобы определить ошибку.</span><span class="sxs-lookup"><span data-stu-id="feb37-115">You can review several parts of the error record to identify the error.</span></span> <span data-ttu-id="feb37-116">Ниже приведены эти части:</span><span class="sxs-lookup"><span data-stu-id="feb37-116">These parts include the following:</span></span>

- <span data-ttu-id="feb37-117">Категория ошибки</span><span class="sxs-lookup"><span data-stu-id="feb37-117">The error category</span></span>

- <span data-ttu-id="feb37-118">Ошибка исключения</span><span class="sxs-lookup"><span data-stu-id="feb37-118">The error exception</span></span>

- <span data-ttu-id="feb37-119">Идентификатор ошибки полное (FQID)</span><span class="sxs-lookup"><span data-stu-id="feb37-119">The fully qualified error identifier (FQID)</span></span>

- <span data-ttu-id="feb37-120">Другие сведения</span><span class="sxs-lookup"><span data-stu-id="feb37-120">Other information</span></span>

### <a name="the-error-category"></a><span data-ttu-id="feb37-121">Категория ошибки</span><span class="sxs-lookup"><span data-stu-id="feb37-121">The Error Category</span></span>

<span data-ttu-id="feb37-122">Категория ошибки записи об ошибке является одним из предопределенных констант, предоставляемые [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) перечисления.</span><span class="sxs-lookup"><span data-stu-id="feb37-122">The error category of the error record is one of the predefined constants provided by the [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="feb37-123">Эти сведения можно получить через [System.Management.Automation.ErrorRecord.CategoryInfo](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) свойство [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) объекта.</span><span class="sxs-lookup"><span data-stu-id="feb37-123">This information  is available through the [System.Management.Automation.ErrorRecord.CategoryInfo](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) property of the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

<span data-ttu-id="feb37-124">Командлет можно указать категории CloseError, OpenError, InvalidType, ошибка чтения и WriteError и другие категории ошибок.</span><span class="sxs-lookup"><span data-stu-id="feb37-124">The cmdlet can specify the CloseError, OpenError, InvalidType, ReadError, and WriteError categories, and other error categories.</span></span> <span data-ttu-id="feb37-125">Ведущее приложение может использовать категорию ошибки для записи группы ошибок.</span><span class="sxs-lookup"><span data-stu-id="feb37-125">The host application can use the error category to capture groups of errors.</span></span>

### <a name="the-exception"></a><span data-ttu-id="feb37-126">Исключение</span><span class="sxs-lookup"><span data-stu-id="feb37-126">The Exception</span></span>

<span data-ttu-id="feb37-127">Исключение, включенных в запись об ошибке предоставляется с помощью командлета и может осуществляться через [System.Management.Automation.ErrorRecord.Exception\*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) свойство [ System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) объекта.</span><span class="sxs-lookup"><span data-stu-id="feb37-127">The exception included in the error record is provided by the cmdlet and can be accessed through the [System.Management.Automation.ErrorRecord.Exception\*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) property of the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

<span data-ttu-id="feb37-128">Ведущие приложения могут использовать `is` ключевое слово, чтобы определить, что исключение определенного класса или производного класса.</span><span class="sxs-lookup"><span data-stu-id="feb37-128">Host applications can use the `is` keyword to identify that the exception is of a specific class or of a derived class.</span></span> <span data-ttu-id="feb37-129">Лучше Branch на тип исключения, как показано в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="feb37-129">It is better to branch on the exception type, as shown in the following example.</span></span>

`if (MyNonTerminatingError.Exception is AccessDeniedException)`

<span data-ttu-id="feb37-130">Таким образом, можно перехватить производных классов.</span><span class="sxs-lookup"><span data-stu-id="feb37-130">This way, you catch the derived classes.</span></span> <span data-ttu-id="feb37-131">Тем не менее существуют проблемы, если исключение десериализуется.</span><span class="sxs-lookup"><span data-stu-id="feb37-131">However, there are problems if the exception is deserialized.</span></span>

### <a name="the-fqid"></a><span data-ttu-id="feb37-132">FQID</span><span class="sxs-lookup"><span data-stu-id="feb37-132">The FQID</span></span>

<span data-ttu-id="feb37-133">FQID является наиболее подходящим сведения, которые можно использовать для определения ошибки.</span><span class="sxs-lookup"><span data-stu-id="feb37-133">The FQID is the most specific information you can use to identify the error.</span></span> <span data-ttu-id="feb37-134">Это строка, которая включает в себя определенный идентификатор командлет, имя класса cmdlet и источник, сообщила об ошибке.</span><span class="sxs-lookup"><span data-stu-id="feb37-134">It is a string that includes a cmdlet-defined identifier, the name of the cmdlet class, and the source that reported the error.</span></span> <span data-ttu-id="feb37-135">В общем случае запись об ошибке аналогично записи события в журнал событий Windows.</span><span class="sxs-lookup"><span data-stu-id="feb37-135">In general, an error record is analogous to an event record of a Windows Event log.</span></span> <span data-ttu-id="feb37-136">FQID является аналогом следующий кортеж, который идентифицирует класс записи события: (*имя журнала*, *источника*, *событие с Идентификатором*).</span><span class="sxs-lookup"><span data-stu-id="feb37-136">The FQID is analogous to the following tuple, which identifies the class of the event record: (*log name*, *source*, *event ID*).</span></span>

<span data-ttu-id="feb37-137">FQID предназначен для проверяться в виде одной строки.</span><span class="sxs-lookup"><span data-stu-id="feb37-137">The FQID is designed to be inspected as a single string.</span></span> <span data-ttu-id="feb37-138">Тем не менее случаях существуют, в которых идентификатор ошибки предназначен для синтаксического анализа, ведущим приложением.</span><span class="sxs-lookup"><span data-stu-id="feb37-138">However, cases exist in which the error identifier is designed to be parsed by the host application.</span></span> <span data-ttu-id="feb37-139">Следующий пример — это идентификатор правильный формат полных ошибки.</span><span class="sxs-lookup"><span data-stu-id="feb37-139">The following example is a well-formed fully qualified error identifier.</span></span>

`CommandNotFoundException,Microsoft.PowerShell.Commands.GetCommandCommand.`

<span data-ttu-id="feb37-140">В предыдущем примере первый токен — ошибка идентификатора, который следует имя класса командлета.</span><span class="sxs-lookup"><span data-stu-id="feb37-140">In the previous example, the first token is the error identifier, which is followed by the name of the cmdlet class.</span></span> <span data-ttu-id="feb37-141">Идентификатор ошибки может быть один токен, или он может быть идентификатор с разделителями точками, который позволяет для ветвления для проверки идентификатора.</span><span class="sxs-lookup"><span data-stu-id="feb37-141">The error identifier can be a single token, or it can be a dot-separated identifier that allows for branching on inspection of the identifier.</span></span> <span data-ttu-id="feb37-142">Не используйте пробелы или знаки препинания в идентификатор ошибки.</span><span class="sxs-lookup"><span data-stu-id="feb37-142">Do not use white space or punctuation in the error identifier.</span></span> <span data-ttu-id="feb37-143">Это особенно важно, не следует использовать запятую; для разделения идентификатор и имя класса командлета по Windows PowerShell используется запятая.</span><span class="sxs-lookup"><span data-stu-id="feb37-143">It is especially important not to use a comma; a comma is used by Windows PowerShell to separate the identifier and the cmdlet class name.</span></span>

### <a name="other-information"></a><span data-ttu-id="feb37-144">Другие сведения</span><span class="sxs-lookup"><span data-stu-id="feb37-144">Other Information</span></span>

<span data-ttu-id="feb37-145">[System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) объект также может предоставлять сведения, описывающие среду, в которой произошла ошибка.</span><span class="sxs-lookup"><span data-stu-id="feb37-145">The [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object might also provide information that describes the environment in which the error occurred.</span></span> <span data-ttu-id="feb37-146">Эта информация включает сведения об ошибке, сведения о вызове и целевой объект, который обрабатывался во время возникновения ошибки.</span><span class="sxs-lookup"><span data-stu-id="feb37-146">This information includes items such as error details, invocation information, and the target object that was being processed when the error occurred.</span></span> <span data-ttu-id="feb37-147">Несмотря на то, что эти сведения могут пригодиться ведущему приложению, он обычно не используется для идентификации ошибки.</span><span class="sxs-lookup"><span data-stu-id="feb37-147">Although this information might be useful to the host application, it is not typically used to identify the error.</span></span> <span data-ttu-id="feb37-148">Эти сведения можно получить через следующие свойства:</span><span class="sxs-lookup"><span data-stu-id="feb37-148">This information is available through the following properties:</span></span>

[<span data-ttu-id="feb37-149">System.Management.Automation.ErrorRecord.ErrorDetails</span><span class="sxs-lookup"><span data-stu-id="feb37-149">System.Management.Automation.ErrorRecord.ErrorDetails</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails)

[<span data-ttu-id="feb37-150">System.Management.Automation.ErrorRecord.InvocationInfo</span><span class="sxs-lookup"><span data-stu-id="feb37-150">System.Management.Automation.ErrorRecord.InvocationInfo</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord.InvocationInfo)

[<span data-ttu-id="feb37-151">System.Management.Automation.ErrorRecord.TargetObject</span><span class="sxs-lookup"><span data-stu-id="feb37-151">System.Management.Automation.ErrorRecord.TargetObject</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord.TargetObject)

## <a name="see-also"></a><span data-ttu-id="feb37-152">См. также</span><span class="sxs-lookup"><span data-stu-id="feb37-152">See Also</span></span>

[<span data-ttu-id="feb37-153">System.Management.Automation.ErrorRecord</span><span class="sxs-lookup"><span data-stu-id="feb37-153">System.Management.Automation.ErrorRecord</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord)

[<span data-ttu-id="feb37-154">System.Management.Automation.Errorcategory</span><span class="sxs-lookup"><span data-stu-id="feb37-154">System.Management.Automation.Errorcategory</span></span>](/dotnet/api/System.Management.Automation.ErrorCategory)

[<span data-ttu-id="feb37-155">System.Management.Automation.Errorcategoryinfo</span><span class="sxs-lookup"><span data-stu-id="feb37-155">System.Management.Automation.Errorcategoryinfo</span></span>](/dotnet/api/System.Management.Automation.ErrorCategoryInfo)

[<span data-ttu-id="feb37-156">System.Management.Automation.Cmdlet.WriteError</span><span class="sxs-lookup"><span data-stu-id="feb37-156">System.Management.Automation.Cmdlet.WriteError</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)

[<span data-ttu-id="feb37-157">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span><span class="sxs-lookup"><span data-stu-id="feb37-157">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError)

[<span data-ttu-id="feb37-158">Добавление устранимую командлета отчетов об ошибках</span><span class="sxs-lookup"><span data-stu-id="feb37-158">Adding Non-Terminating Error Reporting to Your Cmdlet</span></span>](./adding-non-terminating-error-reporting-to-your-cmdlet.md)

[<span data-ttu-id="feb37-159">Отчетов об ошибках Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="feb37-159">Windows PowerShell Error Reporting</span></span>](./error-reporting-concepts.md)

[<span data-ttu-id="feb37-160">Запись командлета Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="feb37-160">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
