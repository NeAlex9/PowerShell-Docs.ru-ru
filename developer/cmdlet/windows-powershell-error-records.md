---
title: Ошибка Windows PowerShell записывает | Документация Майкрософт
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error category [PowerShell SDK]
- error identifier [PowerShell SDK]
- error records [PowerShell SDK]
- error category string [PowerShell SDK]
ms.assetid: bdd66fea-eb63-4bb6-9cbe-9a799e5e0db5
caps.latest.revision: 9
ms.openlocfilehash: bbe04a8fb556f0f6807bc0eae6634e3cf505759e
ms.sourcegitcommit: b6871f21bd666f9cd71dd336bb3f844cf472b56c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/03/2019
ms.locfileid: "56861980"
---
# <a name="windows-powershell-error-records"></a><span data-ttu-id="939fb-102">Записи об ошибках Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="939fb-102">Windows PowerShell Error Records</span></span>

<span data-ttu-id="939fb-103">Командлеты необходимо передать [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) , определяющий состояния ошибки для завершающего и устранимые ошибки.</span><span class="sxs-lookup"><span data-stu-id="939fb-103">Cmdlets must pass an [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object that identifies the error condition for terminating and non-terminating errors.</span></span>

<span data-ttu-id="939fb-104">[System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) объект содержит следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="939fb-104">The [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object contains the following information:</span></span>

- <span data-ttu-id="939fb-105">Исключение, которое описывает ошибку.</span><span class="sxs-lookup"><span data-stu-id="939fb-105">The exception that describes the error.</span></span> <span data-ttu-id="939fb-106">Часто это исключение, которое командлет перехвачено и преобразуются в записи об ошибке.</span><span class="sxs-lookup"><span data-stu-id="939fb-106">Often, this is an exception that the cmdlet caught and converted into an error record.</span></span> <span data-ttu-id="939fb-107">Каждая ошибка запись может содержать исключение.</span><span class="sxs-lookup"><span data-stu-id="939fb-107">Every error record must contain an exception.</span></span>

<span data-ttu-id="939fb-108">Если командлет не удалось перехватить исключение, его необходимо создать новое исключение и выберите класс исключений, который лучше всего описывает условие ошибки.</span><span class="sxs-lookup"><span data-stu-id="939fb-108">If the cmdlet did not catch an exception, it must create a new exception and choose the exception class that best describes the error condition.</span></span> <span data-ttu-id="939fb-109">Тем не менее, не нужно создавать исключение, так как он может осуществляться через [System.Management.Automation.Errorrecord.Exception\*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) свойство [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) объекта.</span><span class="sxs-lookup"><span data-stu-id="939fb-109">However, you do not need to throw the exception because it can be accessed through the [System.Management.Automation.Errorrecord.Exception\*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) property of the [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

- <span data-ttu-id="939fb-110">Идентификатор ошибки, который предоставляет целевые обозначение, который может использоваться для диагностики и скриптами Windows PowerShell для обработки условия возникновения данной ошибки с обработчиками определенных ошибок.</span><span class="sxs-lookup"><span data-stu-id="939fb-110">An error identifier that provides a targeted designator that can be used for diagnostic purposes and by Windows PowerShell scripts to handle specific error conditions with specific error handlers.</span></span> <span data-ttu-id="939fb-111">Каждой записи об ошибке должно содержать идентификатор ошибок (см. код ошибки).</span><span class="sxs-lookup"><span data-stu-id="939fb-111">Every error record must contain an error identifier (see Error Identifier).</span></span>

- <span data-ttu-id="939fb-112">Категория ошибки, который предоставляет общие обозначение, который может использоваться для диагностики.</span><span class="sxs-lookup"><span data-stu-id="939fb-112">An error category that provides a general designator that can be used for diagnostic purposes.</span></span> <span data-ttu-id="939fb-113">Каждая запись ошибки необходимо указать категорию (см. категорию ошибки).</span><span class="sxs-lookup"><span data-stu-id="939fb-113">Every error record must specify an error category (see Error Category).</span></span>

- <span data-ttu-id="939fb-114">Сообщение об ошибке необязательно замены и рекомендуемые действия (см. сообщение об ошибке замены).</span><span class="sxs-lookup"><span data-stu-id="939fb-114">An optional replacement error message and a recommended action (see Replacement Error Message).</span></span>

- <span data-ttu-id="939fb-115">Вызов необязательные сведения о командлете, вызвавшего ошибку.</span><span class="sxs-lookup"><span data-stu-id="939fb-115">Optional invocation information about the cmdlet that threw the error.</span></span> <span data-ttu-id="939fb-116">Эта информация определяется Windows PowerShell (см. сообщение о вызове).</span><span class="sxs-lookup"><span data-stu-id="939fb-116">This information is specified by Windows PowerShell (see Invocation Message).</span></span>

- <span data-ttu-id="939fb-117">Целевой объект, который обрабатывался во время возникновения ошибки.</span><span class="sxs-lookup"><span data-stu-id="939fb-117">The target object that was being processed when the error occurred.</span></span> <span data-ttu-id="939fb-118">Это может быть входной объект, или может быть другой объект, который выполнял обработку командлета.</span><span class="sxs-lookup"><span data-stu-id="939fb-118">This might be the input object, or it might be another object that your cmdlet was processing.</span></span> <span data-ttu-id="939fb-119">Например, для команды `remove-item -recurse c:\somedirectory`, ошибка может быть экземпляром объекта FileInfo для «c:\somedirectory\lockedfile».</span><span class="sxs-lookup"><span data-stu-id="939fb-119">For example, for the command `remove-item -recurse c:\somedirectory`, the error might be an instance of a FileInfo object for "c:\somedirectory\lockedfile".</span></span> <span data-ttu-id="939fb-120">Информации о целевой объект является необязательным.</span><span class="sxs-lookup"><span data-stu-id="939fb-120">The target object information is optional.</span></span>

## <a name="error-identifier"></a><span data-ttu-id="939fb-121">Идентификатор ошибки</span><span class="sxs-lookup"><span data-stu-id="939fb-121">Error Identifier</span></span>

<span data-ttu-id="939fb-122">При создании записи об ошибке, укажите идентификатор, обозначающий условия ошибки в командлет.</span><span class="sxs-lookup"><span data-stu-id="939fb-122">When you create an error record, specify an identifier that designates the error condition within your cmdlet.</span></span> <span data-ttu-id="939fb-123">Windows PowerShell объединяет целевой идентификатор с именем командлета для создания идентификатора полное ошибки.</span><span class="sxs-lookup"><span data-stu-id="939fb-123">Windows PowerShell combines the targeted identifier with the name of your cmdlet to create a fully qualified error identifier.</span></span> <span data-ttu-id="939fb-124">Идентификатор ошибки полное может осуществляться через [System.Management.Automation.Errorrecord.Fullyqualifiederrorid\*](/dotnet/api/System.Management.Automation.ErrorRecord.FullyQualifiedErrorId) свойство [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord)объекта.</span><span class="sxs-lookup"><span data-stu-id="939fb-124">The fully qualified error identifier can be accessed through the [System.Management.Automation.Errorrecord.Fullyqualifiederrorid\*](/dotnet/api/System.Management.Automation.ErrorRecord.FullyQualifiedErrorId) property of the [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span> <span data-ttu-id="939fb-125">Идентификатор ошибки сама по себе недоступен.</span><span class="sxs-lookup"><span data-stu-id="939fb-125">The error identifier is not available by itself.</span></span> <span data-ttu-id="939fb-126">Он доступен только в качестве идентификатора полное ошибки.</span><span class="sxs-lookup"><span data-stu-id="939fb-126">It is available only as part of the fully qualified error identifier.</span></span>

<span data-ttu-id="939fb-127">Для создания идентификаторов ошибка при создании записи об ошибках, следуйте приведенным ниже рекомендациям:</span><span class="sxs-lookup"><span data-stu-id="939fb-127">Use the following guidelines to generate error identifiers when you create error records:</span></span>

- <span data-ttu-id="939fb-128">Сделать идентификаторы ошибки для ошибки.</span><span class="sxs-lookup"><span data-stu-id="939fb-128">Make error identifiers specific to an error condition.</span></span> <span data-ttu-id="939fb-129">Целевые идентификаторы ошибок для диагностики, а также для сценариев, которые обрабатывают условия возникновения данной ошибки с обработчиками определенных ошибок.</span><span class="sxs-lookup"><span data-stu-id="939fb-129">Target the error identifiers for diagnostic purposes and for scripts that handle specific error conditions with specific error handlers.</span></span> <span data-ttu-id="939fb-130">Пользователь должен иметь возможность использовать идентификатор ошибки для идентификации ошибки и ее источник.</span><span class="sxs-lookup"><span data-stu-id="939fb-130">A user should be able to use the error identifier to identify the error and its source.</span></span> <span data-ttu-id="939fb-131">Идентификаторы ошибки также включить отчеты для конкретных условий ошибки из-за существующих исключений, таким образом, чтобы новые исключения подклассов не требуются.</span><span class="sxs-lookup"><span data-stu-id="939fb-131">Error identifiers also enable reporting for specific error conditions from existing exceptions so that new exception subclasses are not required.</span></span>

- <span data-ttu-id="939fb-132">Как правило назначает идентификаторы другую ошибку на разных путей кода.</span><span class="sxs-lookup"><span data-stu-id="939fb-132">In general, assign different error identifiers to different code paths.</span></span> <span data-ttu-id="939fb-133">Преимущества конечных пользователей из определенных идентификаторов.</span><span class="sxs-lookup"><span data-stu-id="939fb-133">The end-user benefits from specific identifiers.</span></span> <span data-ttu-id="939fb-134">Часто, каждый путь кода, который вызывает [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) или [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) имеет собственный идентификатор.</span><span class="sxs-lookup"><span data-stu-id="939fb-134">Often, each code path that calls [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) has its own identifier.</span></span> <span data-ttu-id="939fb-135">Как правило определите новый идентификатор, при определении новой строки шаблона для сообщение об ошибке и наоборот.</span><span class="sxs-lookup"><span data-stu-id="939fb-135">As a rule, define a new identifier when you define a new template string for the error message, and vice-versa.</span></span> <span data-ttu-id="939fb-136">Не используйте сообщение об ошибке в качестве идентификатора.</span><span class="sxs-lookup"><span data-stu-id="939fb-136">Do not use the error message as an identifier.</span></span>

- <span data-ttu-id="939fb-137">При публикации кода, с помощью идентификатора конкретной ошибки, вы устанавливаете, что семантика ошибок с помощью этого идентификатора продукта полный жизненный цикл поддержки.</span><span class="sxs-lookup"><span data-stu-id="939fb-137">When you publish code using a particular error identifier, you establish the semantics of errors with that identifier for your complete product support lifecycle.</span></span> <span data-ttu-id="939fb-138">Не использовать ее в контексте, который является семантически отличной от исходного контекста.</span><span class="sxs-lookup"><span data-stu-id="939fb-138">Do not reuse it in a context that is semantically different from the original context.</span></span> <span data-ttu-id="939fb-139">Если изменить семантики эту ошибку, создайте и затем использовать новый идентификатор.</span><span class="sxs-lookup"><span data-stu-id="939fb-139">If the semantics of this error change, create and then use a new identifier.</span></span>

- <span data-ttu-id="939fb-140">Идентификатор конкретной ошибки следует использовать только для исключений определенного типа CLR.</span><span class="sxs-lookup"><span data-stu-id="939fb-140">You should generally use a particular error identifier only for exceptions of a particular CLR type.</span></span> <span data-ttu-id="939fb-141">Тип исключения типа целевого объекта при изменении, создать и затем использовать новый идентификатор.</span><span class="sxs-lookup"><span data-stu-id="939fb-141">If the type of the exception or the type of the target object changes, create and then use a new identifier.</span></span>

- <span data-ttu-id="939fb-142">Выберите текст для вашего идентификатора ошибки, кратко соответствует ошибке, вы сообщаете.</span><span class="sxs-lookup"><span data-stu-id="939fb-142">Choose text for your error identifier that concisely corresponds to the error that you are reporting.</span></span> <span data-ttu-id="939fb-143">Используйте соглашения об именовании и регистр букв standard .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="939fb-143">Use standard .NET Framework naming and capitalization conventions.</span></span> <span data-ttu-id="939fb-144">Не используйте пробелы или знаки препинания.</span><span class="sxs-lookup"><span data-stu-id="939fb-144">Do not use white space or punctuation.</span></span> <span data-ttu-id="939fb-145">Не следует локализировать ошибке идентификаторы.</span><span class="sxs-lookup"><span data-stu-id="939fb-145">Do not localize error identifiers.</span></span>

- <span data-ttu-id="939fb-146">Не создавать идентификаторы ошибка динамически невоспроизводимых способом.</span><span class="sxs-lookup"><span data-stu-id="939fb-146">Do not dynamically generate error identifiers in a non-reproducible way.</span></span> <span data-ttu-id="939fb-147">Например не включают сведения об ошибке, например идентификатор процесса.</span><span class="sxs-lookup"><span data-stu-id="939fb-147">For example, do not incorporate error information such as a process ID.</span></span> <span data-ttu-id="939fb-148">Ошибка идентификаторы полезны только в том случае, если они соответствуют идентификаторам ошибки видны другим пользователям, у которых возникают то же условие ошибки.</span><span class="sxs-lookup"><span data-stu-id="939fb-148">Error identifiers are useful only if they correspond to the error identifiers seen by other users who are experiencing the same error condition.</span></span>

## <a name="error-category"></a><span data-ttu-id="939fb-149">Категория ошибки</span><span class="sxs-lookup"><span data-stu-id="939fb-149">Error Category</span></span>

<span data-ttu-id="939fb-150">Когда вы создаете записи об ошибке, указать категорию ошибки с использованием одной из констант, определенных [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) перечисления.</span><span class="sxs-lookup"><span data-stu-id="939fb-150">When you create an error record, specify the category of the error using one of the constants defined by the [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="939fb-151">Windows PowerShell использует категорию ошибки для отображения сведений об ошибке, когда пользователи `$ErrorView` переменной `"CategoryView"`.</span><span class="sxs-lookup"><span data-stu-id="939fb-151">Windows PowerShell uses the error category to display error information when users set the `$ErrorView` variable to `"CategoryView"`.</span></span>

<span data-ttu-id="939fb-152">Избегайте использования [System.Management.Automation.Errorcategory.Notspecified](/dotnet/api/System.Management.Automation.ErrorCategory.NotSpecified) константы.</span><span class="sxs-lookup"><span data-stu-id="939fb-152">Avoid using the [System.Management.Automation.Errorcategory.Notspecified](/dotnet/api/System.Management.Automation.ErrorCategory.NotSpecified) constant.</span></span> <span data-ttu-id="939fb-153">Если у вас есть все данные об ошибке или об операции, которая вызвала ошибку, выберите категорию, которая лучше всего описывает ошибку или операции, даже если категории не является идеальным дополнением.</span><span class="sxs-lookup"><span data-stu-id="939fb-153">If you have any information about the error or about the operation that caused the error, choose the category that best describes the error or the operation, even if the category is not a perfect match.</span></span>

<span data-ttu-id="939fb-154">Информация, отображаемая в Windows PowerShell, называется строка вид по категориям и построена на основе свойств [System.Management.Automation.Errorcategoryinfo](/dotnet/api/System.Management.Automation.ErrorCategoryInfo) класса.</span><span class="sxs-lookup"><span data-stu-id="939fb-154">The information displayed by Windows PowerShell is referred to as the category-view string and is built from the properties of the [System.Management.Automation.Errorcategoryinfo](/dotnet/api/System.Management.Automation.ErrorCategoryInfo) class.</span></span> <span data-ttu-id="939fb-155">(Этот класс осуществляется через ошибки [System.Management.Automation.Errorrecord.Categoryinfo\*](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) свойство.)</span><span class="sxs-lookup"><span data-stu-id="939fb-155">(This class is accessed through the error [System.Management.Automation.Errorrecord.Categoryinfo\*](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) property.)</span></span>

```
{Category}: ({TargetName}:{TargetType}):[{Activity}], {Reason}
```

<span data-ttu-id="939fb-156">Ниже приводятся отображаемые сведения.</span><span class="sxs-lookup"><span data-stu-id="939fb-156">The following list describes the information displayed:</span></span>

- <span data-ttu-id="939fb-157">Категория: Определяемые Windows PowerShell [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) константы.</span><span class="sxs-lookup"><span data-stu-id="939fb-157">Category: A Windows PowerShell-defined [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) constant.</span></span>

- <span data-ttu-id="939fb-158">TargetName: По умолчанию имя объекта командлет выполнял обработку при возникновении ошибки.</span><span class="sxs-lookup"><span data-stu-id="939fb-158">TargetName: By default, the name of the object the cmdlet was processing when the error occurred.</span></span> <span data-ttu-id="939fb-159">Или, другой строкой, определяемой командлет.</span><span class="sxs-lookup"><span data-stu-id="939fb-159">Or, another cmdlet-defined string.</span></span>

- <span data-ttu-id="939fb-160">TargetType: По умолчанию, тип целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="939fb-160">TargetType: By default, the type of the target object.</span></span> <span data-ttu-id="939fb-161">Или, другой строкой, определяемой командлет.</span><span class="sxs-lookup"><span data-stu-id="939fb-161">Or, another cmdlet-defined string.</span></span>

- <span data-ttu-id="939fb-162">Действие: По умолчанию имя командлета, для которого создана запись об ошибке.</span><span class="sxs-lookup"><span data-stu-id="939fb-162">Activity: By default, the name of the cmdlet that created the error record.</span></span> <span data-ttu-id="939fb-163">Или же другую строку, определяемые командлет.</span><span class="sxs-lookup"><span data-stu-id="939fb-163">Or, some other cmdlet-defined string.</span></span>

- <span data-ttu-id="939fb-164">Причина: По умолчанию, тип исключения.</span><span class="sxs-lookup"><span data-stu-id="939fb-164">Reason: By default, the exception type.</span></span> <span data-ttu-id="939fb-165">Или, другой строкой, определяемой командлет.</span><span class="sxs-lookup"><span data-stu-id="939fb-165">Or, another cmdlet-defined string.</span></span>

## <a name="replacement-error-message"></a><span data-ttu-id="939fb-166">Сообщение об ошибке замены</span><span class="sxs-lookup"><span data-stu-id="939fb-166">Replacement Error Message</span></span>

<span data-ttu-id="939fb-167">При разработке запись об ошибке для командлета, сообщение об ошибке по умолчанию для ошибки поступают из текст сообщения по умолчанию в [System.Exception.Message](/dotnet/api/System.Exception.Message) свойство.</span><span class="sxs-lookup"><span data-stu-id="939fb-167">When you develop an error record for a cmdlet, the default error message for the error comes from the default message text in the [System.Exception.Message](/dotnet/api/System.Exception.Message) property.</span></span> <span data-ttu-id="939fb-168">Это свойство только для чтения, текст сообщения предназначено только для отладки (согласно рекомендациям .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="939fb-168">This is a read-only property whose message text is intended only for debugging purposes (according to the .NET Framework guidelines).</span></span> <span data-ttu-id="939fb-169">Мы рекомендуем создать сообщение об ошибке, которая заменяет или дополняет текст сообщения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="939fb-169">We recommend that you create an error message that replaces or augments the default message text.</span></span> <span data-ttu-id="939fb-170">Сделать сообщения более понятно для пользователей и более конкретные в командлет.</span><span class="sxs-lookup"><span data-stu-id="939fb-170">Make the message more user-friendly and more specific to the cmdlet.</span></span>

<span data-ttu-id="939fb-171">Предоставляемые в заменяющее сообщение [System.Management.Automation.Errordetails](/dotnet/api/System.Management.Automation.ErrorDetails) объекта.</span><span class="sxs-lookup"><span data-stu-id="939fb-171">The replacement message is provided by an [System.Management.Automation.Errordetails](/dotnet/api/System.Management.Automation.ErrorDetails) object.</span></span> <span data-ttu-id="939fb-172">Используйте один из следующих конструкторов этого объекта, так как они предоставляют сведения о дополнительных локализации, который может использоваться с Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="939fb-172">Use one of the following constructors of this object because they provide additional localization information that can be used by Windows PowerShell.</span></span>

- <span data-ttu-id="939fb-173">[ErrorDetails.ErrorDetails (командлет, строки, строки, объекта\[System.Management.Automation.Errordetails.%23Ctor%28System.Management.Automation.Cmdlet%2Csystem.String%2Csystem.String%2Csystem.Object%5B%5D%29? Displayproperty = Fullname](/dotnet/api/System.Management.Automation.ErrorDetails.%23ctor%28System.Management.Automation.Cmdlet%2CSystem.String%2CSystem.String%2CSystem.Object%5B%5D%29): Этот конструктор используется, если строки шаблона строку ресурса в той же сборке, в котором реализован командлет, или если вы хотите загрузить строку шаблона с помощью переопределения [System.Management.Automation.Cmdlet.Getresourcestring\* ](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString) метод.</span><span class="sxs-lookup"><span data-stu-id="939fb-173">[ErrorDetails.ErrorDetails(Cmdlet, String, String, Object\[System.Management.Automation.Errordetails.%23Ctor%28System.Management.Automation.Cmdlet%2Csystem.String%2Csystem.String%2Csystem.Object%5B%5D%29?Displayproperty=Fullname](/dotnet/api/System.Management.Automation.ErrorDetails.%23ctor%28System.Management.Automation.Cmdlet%2CSystem.String%2CSystem.String%2CSystem.Object%5B%5D%29): Use this constructor if your template string is a resource string in the same assembly in which the cmdlet is implemented or if you want to load the template string through an override of the  [System.Management.Automation.Cmdlet.Getresourcestring\*](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString) method.</span></span>

- <span data-ttu-id="939fb-174">[ErrorDetails.ErrorDetails (сборки, строки, строки, объекта\[System.Management.Automation.Errordetails.%23Ctor%28System.Reflection.Assembly%2Csystem.String%2Csystem.String%2Csystem.Object%5B%5D%29? Displayproperty = Fullname](/dotnet/api/System.Management.Automation.ErrorDetails.%23ctor%28System.Reflection.Assembly%2CSystem.String%2CSystem.String%2CSystem.Object%5B%5D%29): Этот конструктор используется, если строка шаблона в другой сборке и не загрузит его через переопределение [System.Management.Automation.Cmdlet.Getresourcestring\*](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString).</span><span class="sxs-lookup"><span data-stu-id="939fb-174">[ErrorDetails.ErrorDetails(Assembly, String, String, Object\[System.Management.Automation.Errordetails.%23Ctor%28System.Reflection.Assembly%2Csystem.String%2Csystem.String%2Csystem.Object%5B%5D%29?Displayproperty=Fullname](/dotnet/api/System.Management.Automation.ErrorDetails.%23ctor%28System.Reflection.Assembly%2CSystem.String%2CSystem.String%2CSystem.Object%5B%5D%29): Use this constructor if the template string is in another assembly and you do not load it through an override of [System.Management.Automation.Cmdlet.Getresourcestring\*](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString).</span></span>

<span data-ttu-id="939fb-175">Заменяющее сообщение должны соответствовать правилам разработки .NET Framework для записи сообщения об исключениях с небольшими различиями.</span><span class="sxs-lookup"><span data-stu-id="939fb-175">The replacement message should conform to the .NET Framework design guidelines for writing exception messages with a small difference.</span></span> <span data-ttu-id="939fb-176">Состояние правила, сообщения об исключениях, которые должны быть написаны для разработчиков.</span><span class="sxs-lookup"><span data-stu-id="939fb-176">The guidelines state that exception messages should be written for developers.</span></span> <span data-ttu-id="939fb-177">Для командлета пользователя должны быть написаны эти сообщения замены.</span><span class="sxs-lookup"><span data-stu-id="939fb-177">These replacement messages should be written for the cmdlet user.</span></span>

<span data-ttu-id="939fb-178">Сообщение об ошибке замены необходимо добавить перед [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) или [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) методы вызываются .</span><span class="sxs-lookup"><span data-stu-id="939fb-178">The replacement error message must be added before the [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) methods are called.</span></span> <span data-ttu-id="939fb-179">Чтобы добавить сообщение замены, задайте [System.Management.Automation.Errorrecord.Errordetails\*](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails) свойство записи об ошибке.</span><span class="sxs-lookup"><span data-stu-id="939fb-179">To add a replacement message, set the [System.Management.Automation.Errorrecord.Errordetails\*](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails) property of the error record.</span></span> <span data-ttu-id="939fb-180">Если это свойство имеет значение, Windows PowerShell отображает [System.Management.Automation.Errordetails.Message\*](/dotnet/api/System.Management.Automation.ErrorDetails.Message) свойству, а не текст сообщения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="939fb-180">When this property is set, Windows PowerShell displays the [System.Management.Automation.Errordetails.Message\*](/dotnet/api/System.Management.Automation.ErrorDetails.Message) property instead of the default message text.</span></span>

## <a name="recommended-action-information"></a><span data-ttu-id="939fb-181">Рекомендуется использовать сведения о действии</span><span class="sxs-lookup"><span data-stu-id="939fb-181">Recommended Action Information</span></span>

<span data-ttu-id="939fb-182">[System.Management.Automation.Errordetails](/dotnet/api/System.Management.Automation.ErrorDetails) объект также может предоставлять сведения о действиях рекомендуются, когда произошла ошибка.</span><span class="sxs-lookup"><span data-stu-id="939fb-182">The [System.Management.Automation.Errordetails](/dotnet/api/System.Management.Automation.ErrorDetails) object can also provide information about what actions are recommended when the error occurs.</span></span>

## <a name="invocation-information"></a><span data-ttu-id="939fb-183">Сведения о вызове</span><span class="sxs-lookup"><span data-stu-id="939fb-183">Invocation information</span></span>

<span data-ttu-id="939fb-184">Если командлет использует [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) или [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) для сообщения запись об ошибке, Windows PowerShell автоматически добавляет сведения, описывающие команду, которая была вызвана ошибка.</span><span class="sxs-lookup"><span data-stu-id="939fb-184">When a cmdlet uses [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) to report an error record, Windows PowerShell automatically adds information that describes the command that was invoked when the error occurred.</span></span> <span data-ttu-id="939fb-185">Эта информация предоставляется по [System.Management.Automation.Invocationinfo](/dotnet/api/System.Management.Automation.InvocationInfo) , содержащий имя командлета, для которого была вызвана командой, команда и сведения о конвейере или сценарии.</span><span class="sxs-lookup"><span data-stu-id="939fb-185">This information is provided by a [System.Management.Automation.Invocationinfo](/dotnet/api/System.Management.Automation.InvocationInfo) object that contains the name of the cmdlet that was invoked by the command, the command itself, and information about the pipeline or script.</span></span> <span data-ttu-id="939fb-186">Это свойство только для чтения.</span><span class="sxs-lookup"><span data-stu-id="939fb-186">This property is read-only.</span></span>

## <a name="see-also"></a><span data-ttu-id="939fb-187">См. также</span><span class="sxs-lookup"><span data-stu-id="939fb-187">See Also</span></span>

[<span data-ttu-id="939fb-188">System.Management.Automation.Cmdlet.Writeerror\*</span><span class="sxs-lookup"><span data-stu-id="939fb-188">System.Management.Automation.Cmdlet.Writeerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)

[<span data-ttu-id="939fb-189">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span><span class="sxs-lookup"><span data-stu-id="939fb-189">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError)

[<span data-ttu-id="939fb-190">System.Management.Automation.Errorcategory</span><span class="sxs-lookup"><span data-stu-id="939fb-190">System.Management.Automation.Errorcategory</span></span>](/dotnet/api/System.Management.Automation.ErrorCategory)

[<span data-ttu-id="939fb-191">System.Management.Automation.Errorcategoryinfo</span><span class="sxs-lookup"><span data-stu-id="939fb-191">System.Management.Automation.Errorcategoryinfo</span></span>](/dotnet/api/System.Management.Automation.ErrorCategoryInfo)

[<span data-ttu-id="939fb-192">System.Management.Automation.Errorrecord</span><span class="sxs-lookup"><span data-stu-id="939fb-192">System.Management.Automation.Errorrecord</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord)

[<span data-ttu-id="939fb-193">System.Management.Automation.Errordetails</span><span class="sxs-lookup"><span data-stu-id="939fb-193">System.Management.Automation.Errordetails</span></span>](/dotnet/api/System.Management.Automation.ErrorDetails)

[<span data-ttu-id="939fb-194">System.Management.Automation.Invocationinfo</span><span class="sxs-lookup"><span data-stu-id="939fb-194">System.Management.Automation.Invocationinfo</span></span>](/dotnet/api/System.Management.Automation.InvocationInfo)

[<span data-ttu-id="939fb-195">Отчетов об ошибках Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="939fb-195">Windows PowerShell Error Reporting</span></span>](./error-reporting-concepts.md)

[<span data-ttu-id="939fb-196">Запись командлета Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="939fb-196">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
