---
title: Создание оболочки консоли | Документация Майкрософт
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Make-Shell [PowerShell Programmer's Guide]
ms.assetid: 6c24dd44-a8ec-421d-ac86-90912e1a8cc6
caps.latest.revision: 5
ms.openlocfilehash: 7166881bd1403ea8c81ec2928321f6b93e3ac58d
ms.sourcegitcommit: b6871f21bd666f9cd71dd336bb3f844cf472b56c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/03/2019
ms.locfileid: "56853500"
---
# <a name="how-to-create-a-console-shell"></a>Создание оболочки консоли

Windows PowerShell предоставляет средство создания оболочек, называемый также «убедитесь комплекта», который используется для создания оболочки консоли, который не является расширяемым. Оболочки, созданные с помощью этого нового средства невозможно расширить позже с помощью оснастки Windows PowerShell.

## <a name="syntax"></a>Синтаксис

Ниже приведен синтаксис, используемый для запуска создания оболочек из в файле марки.

```
make-shell
  -out n.exe
  -namespace ns
  [ -lib libdirectory1[,libdirectory2,..] ]
  [ -reference ca1.dll[,ca2.dll,...] ]
  [ -formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...] ]
  [ -typedata td1.type.ps1xml[,td2.type.ps1xml,...] ]
  [ -source c1.cs [,c2.cs,...] ]
  [ -authorizationmanager authorizationManagerType ]
  [ -win32icon i.ico ]
  [ -initscript p.ps1 ]
  [ -builtinscript s1.ps1[,s2.ps1,...] ]
  [ -resource resourcefile.txt ]
  [ -cscflags cscFlags ]
  [ -? | -help ]
```

## <a name="parameters"></a>Параметры

Вот краткое описание параметров создания оболочек.

> [!CAUTION]
> UNC-пути к сборкам, создания оболочек не поддерживаются.

|Параметр|Описание|
|---------------|-----------------|
|-out n.exe|Обязательный параметр. Имя для создания оболочки. Путь указывается как часть этого параметра.<br /><br /> Создания оболочек добавит «.exe» это значение, если он не указан. **Предупреждение:**  Не следует создавать выходной файл с тем же именем, на которую указывает ссылка DLL-файла. При попытке сделать это, средство создания оболочек создает CS-файл с тем же именем, что приведет к перезаписи CS-файл, имеющий исходный код командлета.|
|ns - пространство имен|Обязательный параметр. Пространство имен, используемое для производного [System.Management.Automation.Runspaces.Runspaceconfiguration](/dotnet/api/System.Management.Automation.Runspaces.RunspaceConfiguration) класс, который комплекта марки создает и компилирует.|
|-lib libdirectory1 [, libdirectory2,..]|Каталоги, в которых производится поиск сборок .NET, включая сборки Windows PowerShell, сборки, указанные `reference` параметра, сборок, косвенно ссылается другой сборки и сборки .NET system.|
|-reference ca1.dll[,ca2.dll,...]|Разделенный запятыми список сборок, которые включают в оболочке. Эти сборки включает в себя все командлета и сборок поставщика, а также сборки ресурсов, которые должны быть загружены. Если этот параметр не указан, оболочка будет создаваться, содержащий только основные командлеты и поставщики, предоставляемые Windows PowerShell.<br /><br /> Сборки можно указать при помощи их полный путь, в противном случае они будет выполнен поиск с помощью пути, указанному свойством `lib` параметра.|
|-formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...]|Разделенный запятыми список формат данных для включения в оболочке. Если этот параметр не указан, оболочка будет создаваться только с данными формата, предоставляемые Windows PowerShell.|
|-typedata td1.type.ps1xml[,td2.type.ps1xml,...]|Разделенный запятыми список типов данных для включения в оболочке. Если этот параметр не указан, оболочка будет создаваться, содержащий только тип данных, предоставляемых Windows PowerShell.|
|-source c1.cs [,c2.cs,...]|Имя файла, предоставленной разработчиком оболочки, который содержит весь исходный код, необходимые для создания оболочки.<br /><br /> Файл исходного кода может содержать следующий исходный код:<br /><br /> -Реализация диспетчера авторизации, которая переопределяет диспетчер авторизации по умолчанию. (Это может также быть указан в сборку.)<br />-Информационный атрибут объявления сборки: например AssemblyCompanyAttribute, AssemblyCopyrightAttribute, AssemblyFileVersionAttribute, AssemblyInformationalVersionAttribute, AssemblyProductAttribute, и AssemblyTrademarkAttribute.|
|-authorizationmanager authorizationManagerType|Тип, который содержит реализацию диспетчера авторизации. Это может быть определен в исходном коде или в сборку (определяется `reference` параметр). Если этот параметр не указан, используется диспетчер безопасности по умолчанию. Значение должно быть полное имя типа, включая пространства имен.|
|-win32icon i.ico|Значок файла .exe для оболочки. Если не указан, оболочка будет значок, который компилятор c# включает в себя (если таковые имеются).|
|-initscript p.ps1|В профиле запуска для оболочки. Файл включен «как-является»; Проверка допустимости выполняется путем создания оболочек.|
|-builtinscript s1.ps1[,s2.ps1,...]|Список встроенных скриптов для оболочки. Эти сценарии обнаруживаются перед скрипты в пути, и их содержимое не может изменяться после создания оболочки.<br /><br /> Файлы включаются «как-является»; Проверка допустимости выполняется путем создания оболочек.|
|-resourcefile.txt ресурсов|Txt-файл, содержащий ресурсы справки и баннер для оболочки. Первый ресурс называется ShellHelp и содержит текст, отображаемый, если оболочка вызывается с `help` параметра. Второй ресурс называется ShellBanner и содержит текст и сведения об авторских правах, отображается при запуске оболочки в интерактивном режиме.<br /><br /> Если этот параметр не указан, или эти ресурсы не существуют, то используются универсальные справки и баннер.|
|-cscflags cscFlags|Флаги, которые должны быть переданы C# компилятора (csc.exe). Они передаются через без изменений. Если этот параметр содержит пробелы, должны быть заключены в двойные кавычки.|
|-?<br /><br /> -Справка|Отображает сообщение об авторских правах и параметры командной строки для создания оболочек.|
|-verbose|Отображает подробные сведения во время создания оболочки.|

## <a name="see-also"></a>См. также

[Руководство программиста Windows PowerShell](./windows-powershell-programmer-s-guide.md)

[Пакет SDK для Windows PowerShell](../windows-powershell-reference.md)