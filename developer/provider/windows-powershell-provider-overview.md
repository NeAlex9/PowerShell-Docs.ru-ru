---
title: Общие сведения о поставщике PowerShell Windows | Документация Майкрософт
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 82244fbd-07b9-47f3-805c-3fb90ebbf58a
caps.latest.revision: 13
ms.openlocfilehash: 0d4addc0a064873701ae15c204dbd335f3374ab7
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62080919"
---
# <a name="windows-powershell-provider-overview"></a><span data-ttu-id="b4fd2-102">Общие сведения о поставщиках Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="b4fd2-102">Windows PowerShell Provider Overview</span></span>

<span data-ttu-id="b4fd2-103">Поставщик Windows PowerShell позволяет любое хранилище данных, должен быть предоставлен как в файловой системе, как если бы он был подключенного диска.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-103">A Windows PowerShell provider allows any data store to be exposed like a file system as if it were a mounted drive.</span></span> <span data-ttu-id="b4fd2-104">Например, встроенный поставщик реестра позволяет переходить в реестр, как перешла бы `c` диске компьютера.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-104">For example, the built-in Registry provider allows you to navigate the registry like you would navigate the `c` drive of your computer.</span></span> <span data-ttu-id="b4fd2-105">Можно также переопределить поставщик `Item` командлеты (например, `Get-Item`, `Set-Item`т. д.) таким образом, данные в хранилище данных, которые могут рассматриваться как файлы и каталоги, обрабатываются при навигации по файловой системе.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-105">A provider can also override the `Item` cmdlets (for example, `Get-Item`, `Set-Item`, etc.) such that the data in your data store can be treated like files and directories are treated when navigating a file system.</span></span> <span data-ttu-id="b4fd2-106">Дополнительные сведения о поставщиках и дисков и встроенные поставщики в Windows PowerShell см. в разделе [about_Providers](/powershell/module/microsoft.powershell.core/about/about_providers).</span><span class="sxs-lookup"><span data-stu-id="b4fd2-106">For more information about providers and drives, and the built-in providers in  Windows PowerShell, see [about_Providers](/powershell/module/microsoft.powershell.core/about/about_providers).</span></span>

## <a name="providers-and-drives"></a><span data-ttu-id="b4fd2-107">Поставщики и дисков</span><span class="sxs-lookup"><span data-stu-id="b4fd2-107">Providers and Drives</span></span>

<span data-ttu-id="b4fd2-108">Поставщик определяет логику, которая используется для доступа к, перемещения и изменения в хранилище данных, во время диск указывает конкретной точкой входа для хранилища данных (или его часть в хранилище данных), принадлежащее к типу, определенной поставщиком.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-108">A Provider defines the logic that is used to access, navigate, and edit a data store, while a drive specifies a specific entry point to a data store (or a portion of a data store) that is of the type defined by the provider.</span></span> <span data-ttu-id="b4fd2-109">Например поставщик Registry позволяет обращаться к кусты и разделы в реестре и дисках HKLM и HKCU укажите соответствующий кустов реестра.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-109">For example, the Registry provider allows you to access hives and keys in a registry, and the HKLM and HKCU drives specify the corresponding hives within the registry.</span></span> <span data-ttu-id="b4fd2-110">Диски HKLM и HKCU использовать поставщик реестра.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-110">The HKLM and HKCU drives both use the Registry provider.</span></span>

<span data-ttu-id="b4fd2-111">При написании поставщика можно указать диски дисков по умолчанию, которые создаются автоматически, когда доступен поставщик.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-111">When you write a provider, you can specify default drives-drives that are created automatically when the provider is available.</span></span> <span data-ttu-id="b4fd2-112">Можно также определить метод для создания новых дисков, которые используют этот поставщик.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-112">You also define a method to create new drives that use that provider.</span></span>

## <a name="type-of-providers"></a><span data-ttu-id="b4fd2-113">Тип поставщиков</span><span class="sxs-lookup"><span data-stu-id="b4fd2-113">Type of Providers</span></span>

<span data-ttu-id="b4fd2-114">Существует несколько типов поставщиков, каждый из которых предоставляет различный уровень функциональных возможностей.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-114">There are several types of providers, each of which provides a different level of functionality.</span></span> <span data-ttu-id="b4fd2-115">Поставщик реализуется как класс, производный от одного из потомков [System.Management.Automation.Sessionstatecategory.Cmdletprovider](/dotnet/api/System.Management.Automation.SessionStateCategory.CmdletProvider) класса.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-115">A provider is implemented as a class that derives from one of the descendants of the [System.Management.Automation.Sessionstatecategory.Cmdletprovider](/dotnet/api/System.Management.Automation.SessionStateCategory.CmdletProvider) class.</span></span> <span data-ttu-id="b4fd2-116">Сведения о различных типов поставщиков, см. в разделе [типы поставщиков](./provider-types.md).</span><span class="sxs-lookup"><span data-stu-id="b4fd2-116">For information about the different types of providers, see [Provider types](./provider-types.md).</span></span>

## <a name="provider-cmdlets"></a><span data-ttu-id="b4fd2-117">Командлеты поставщика</span><span class="sxs-lookup"><span data-stu-id="b4fd2-117">Provider cmdlets</span></span>

<span data-ttu-id="b4fd2-118">Поставщики могут реализовывать методы, соответствующие командлеты, создание пользовательских поведений для этих командлетов, при использовании на диске для данного поставщика.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-118">Providers can implement methods that correspond to cmdlets, creating custom behaviors for those cmdlets when used in a drive for that provider.</span></span> <span data-ttu-id="b4fd2-119">В зависимости от типа поставщика доступны различные наборы командлетов.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-119">Depending on the type of provider, different sets of cmdlets are available.</span></span> <span data-ttu-id="b4fd2-120">Полный список командлетов, доступных для настройки в поставщиках, см. в разделе [командлеты поставщика](./provider-cmdlets.md).</span><span class="sxs-lookup"><span data-stu-id="b4fd2-120">For a complete list of the cmdlets available for customization in providers, see [Provider cmdlets](./provider-cmdlets.md).</span></span>

## <a name="provider-paths"></a><span data-ttu-id="b4fd2-121">Пути поставщика</span><span class="sxs-lookup"><span data-stu-id="b4fd2-121">Provider paths</span></span>

<span data-ttu-id="b4fd2-122">Пользователи переходят поставщика носители, например файловых систем.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-122">Users navigate provider drives like file systems.</span></span> <span data-ttu-id="b4fd2-123">По этой причине они ожидают синтаксис пути в соответствии с пути, используемые в Навигация по файловой системе.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-123">Because of this, they expect the syntax of paths to correspond to the paths used in file system navigation.</span></span> <span data-ttu-id="b4fd2-124">При выполнении командлета, поставщика, они укажите путь для доступа к элементу.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-124">When a user runs a provider cmdlet, they specify a path to the item to be accessed.</span></span> <span data-ttu-id="b4fd2-125">Указываемый путь может интерпретироваться несколькими способами.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-125">The path that is specified can be interpreted in several ways.</span></span> <span data-ttu-id="b4fd2-126">Поставщик должен поддерживать один или несколько из следующих типов путь.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-126">A provider should support one or more of the following path types.</span></span>

### <a name="drive-qualified-paths"></a><span data-ttu-id="b4fd2-127">Диск с указанием пути</span><span class="sxs-lookup"><span data-stu-id="b4fd2-127">Drive-qualified paths</span></span>

<span data-ttu-id="b4fd2-128">Диск с указанием пути представляет собой сочетание имени элемента, контейнера и подконтейнеров, в которых расположен элемент и диск Windows PowerShell, через который осуществляется элемента.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-128">A drive-qualified path is a combination of the item name, the container and subcontainers in which the item is located, and the Windows PowerShell drive through which the item is accessed.</span></span> <span data-ttu-id="b4fd2-129">(Диски определяются поставщиком, который используется для доступа к хранилищу данных.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-129">(Drives are defined by the provider that is used to access the data store.</span></span> <span data-ttu-id="b4fd2-130">Этот путь начинается с имени диска, за которым следует двоеточие (:).</span><span class="sxs-lookup"><span data-stu-id="b4fd2-130">This path starts with the drive name followed by a colon (:).</span></span> <span data-ttu-id="b4fd2-131">Пример: `get-childitem C:`</span><span class="sxs-lookup"><span data-stu-id="b4fd2-131">For example: `get-childitem C:`</span></span>

### <a name="provider-qualified-paths"></a><span data-ttu-id="b4fd2-132">Поставщик с указанием пути</span><span class="sxs-lookup"><span data-stu-id="b4fd2-132">Provider-qualified paths</span></span>

<span data-ttu-id="b4fd2-133">Чтобы разрешить подсистемы Windows PowerShell для инициализации и отменить инициализацию поставщика, поставщик должен поддерживать путь с указанием поставщика.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-133">To allow the Windows PowerShell engine to initialize and uninitialize your provider, the provider must support a provider-qualified path.</span></span> <span data-ttu-id="b4fd2-134">Например, пользователь может инициализировать и инициализации поставщика файловой системы, так как она определяет следующий путь с указанием поставщика: `FileSystem::\\uncshare\abc\bar`.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-134">For example, the user can initialize and uninitialize the FileSystem provider because it defines the following provider-qualified path: `FileSystem::\\uncshare\abc\bar`.</span></span>

### <a name="provider-direct-paths"></a><span data-ttu-id="b4fd2-135">Поставщик direct пути</span><span class="sxs-lookup"><span data-stu-id="b4fd2-135">Provider-direct paths</span></span>

<span data-ttu-id="b4fd2-136">Чтобы разрешить удаленный доступ к поставщику Windows PowerShell, должен поддерживать путь direct поставщика для передачи непосредственно поставщика Windows PowerShell для текущего расположения.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-136">To allow remote access to your Windows PowerShell provider, it should support a provider-direct path to pass directly to the Windows PowerShell provider for the current location.</span></span> <span data-ttu-id="b4fd2-137">Например, можно использовать поставщик реестра Windows PowerShell `\\server\regkeypath` как путь напрямую с поставщиками.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-137">For example, the registry Windows PowerShell provider can use `\\server\regkeypath` as a provider-direct path.</span></span>

### <a name="provider-internal-paths"></a><span data-ttu-id="b4fd2-138">Поставщик внутреннего пути</span><span class="sxs-lookup"><span data-stu-id="b4fd2-138">Provider-internal paths</span></span>

<span data-ttu-id="b4fd2-139">Чтобы разрешить командлету поставщика доступа к данным с помощью отличных от Windows PowerShell прикладного программирования (API), поставщик Windows PowerShell должен поддерживать поставщик внутреннего пути.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-139">To allow the provider cmdlet to access data using non-Windows PowerShell application programming interfaces (APIs), your Windows PowerShell provider should support a provider-internal path.</span></span> <span data-ttu-id="b4fd2-140">Этот путь, указанный после «::» в пути поставщика с указанием.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-140">This path is indicated after the "::" in the provider-qualified path.</span></span> <span data-ttu-id="b4fd2-141">Например, поставщик: внутренняя путь для поставщика filesystem Windows PowerShell является `\\uncshare\abc\bar`.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-141">For example, the provider-internal path for the filesystem Windows PowerShell provider is `\\uncshare\abc\bar`.</span></span>

## <a name="overriding-cmdlet-parameters"></a><span data-ttu-id="b4fd2-142">Переопределение параметров командлета</span><span class="sxs-lookup"><span data-stu-id="b4fd2-142">Overriding cmdlet parameters</span></span>

<span data-ttu-id="b4fd2-143">Поведение некоторых командлетов поставщика можно переопределить с помощью поставщика.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-143">The behavior of some provider-specific cmdlets can be overridden by a provider.</span></span> <span data-ttu-id="b4fd2-144">Список параметров, которые могут быть переопределены и как их можно переопределить в классе поставщика, см. в разделе [параметры командлета поставщика](./provider-cmdlet-parameters.md)</span><span class="sxs-lookup"><span data-stu-id="b4fd2-144">For a list of parameters that can be overridden, and how to override them in your provider class, see [Provider cmdlet parameters](./provider-cmdlet-parameters.md)</span></span>

## <a name="dynamic-parameters"></a><span data-ttu-id="b4fd2-145">Динамические параметры</span><span class="sxs-lookup"><span data-stu-id="b4fd2-145">Dynamic parameters</span></span>

<span data-ttu-id="b4fd2-146">Поставщики можно определить динамических параметров, которые добавляются к командлету поставщика, когда пользователь задает определенное значение для одного из статических параметров командлета.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-146">Providers can define dynamic parameters that are added to a provider cmdlet when the user specifies a certain value for one of the static parameters of the cmdlet.</span></span> <span data-ttu-id="b4fd2-147">Поставщик делает это, реализовав один или несколько методов динамических параметров.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-147">A provider does this by implementing one or more dynamic parameter methods.</span></span> <span data-ttu-id="b4fd2-148">Список параметров командлета, которые могут использоваться для добавления динамического параметра и методы, используемые для их реализации, см. в разделе [динамические параметры командлета поставщика](./provider-cmdlet-dynamic-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="b4fd2-148">For a list of cmdlet parameters that can be used to add dynamic parameter, and the methods used to implement them, see [Provider cmdlet dynamic parameters](./provider-cmdlet-dynamic-parameters.md).</span></span>

## <a name="provider-capabilities"></a><span data-ttu-id="b4fd2-149">Возможностей поставщика</span><span class="sxs-lookup"><span data-stu-id="b4fd2-149">Provider capabilities</span></span>

<span data-ttu-id="b4fd2-150">[System.Management.Automation.Provider.Providercapabilities](/dotnet/api/System.Management.Automation.Provider.ProviderCapabilities) перечисление определяет ряд возможностей, поддерживаемых поставщиков.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-150">The [System.Management.Automation.Provider.Providercapabilities](/dotnet/api/System.Management.Automation.Provider.ProviderCapabilities) enumeration  defines a number of capabilities that providers can support.</span></span> <span data-ttu-id="b4fd2-151">К ним относятся возможность подстановочные элементы фильтра и поддерживает транзакции.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-151">These include the ability to use wildcards, filter items, and support transactions.</span></span> <span data-ttu-id="b4fd2-152">Чтобы указать возможности для поставщика, добавьте в список значений [System.Management.Automation.Provider.Providercapabilities](/dotnet/api/System.Management.Automation.Provider.ProviderCapabilities) перечисления, в сочетании с логическим `OR` операции, как [ System.Management.Automation.Provider.Cmdletproviderattribute.Providercapabilities\*](/dotnet/api/System.Management.Automation.Provider.CmdletProviderAttribute.ProviderCapabilities) свойство (второй параметр атрибута) [System.Management.Automation.Provider.Cmdletproviderattribute ](/dotnet/api/System.Management.Automation.Provider.CmdletProviderAttribute) атрибута для класса поставщика.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-152">To specify capabilities for a provider, add a list of values of the  [System.Management.Automation.Provider.Providercapabilities](/dotnet/api/System.Management.Automation.Provider.ProviderCapabilities) enumeration, combined with a logical `OR` operation, as the [System.Management.Automation.Provider.Cmdletproviderattribute.Providercapabilities\*](/dotnet/api/System.Management.Automation.Provider.CmdletProviderAttribute.ProviderCapabilities) property (the second parameter of the attribute) of the [System.Management.Automation.Provider.Cmdletproviderattribute](/dotnet/api/System.Management.Automation.Provider.CmdletProviderAttribute) attribute for your provider class.</span></span> <span data-ttu-id="b4fd2-153">Например, следующий атрибут указывает, что поставщик поддерживает [System.Management.Automation.Provider.Providercapabilities.Shouldprocess](/dotnet/api/System.Management.Automation.Provider.ProviderCapabilities.ShouldProcess) и [ System.Management.Automation.Provider.Providercapabilities.Transactions](/dotnet/api/System.Management.Automation.Provider.ProviderCapabilities.Transactions) возможности.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-153">For example, the following attribute specifies that the provider supports the [System.Management.Automation.Provider.Providercapabilities.Shouldprocess](/dotnet/api/System.Management.Automation.Provider.ProviderCapabilities.ShouldProcess) and [System.Management.Automation.Provider.Providercapabilities.Transactions](/dotnet/api/System.Management.Automation.Provider.ProviderCapabilities.Transactions) capabilities.</span></span>

```csharp
[CmdletProvider(RegistryProvider.ProviderName, ProviderCapabilities.ShouldProcess | ProviderCapabilities.Transactions)]

```

## <a name="provider-cmdlet-help"></a><span data-ttu-id="b4fd2-154">Справку по командлетам поставщика</span><span class="sxs-lookup"><span data-stu-id="b4fd2-154">Provider cmdlet help</span></span>

<span data-ttu-id="b4fd2-155">При написании поставщика, вы можете реализовать собственные справки по командлетам поставщика, вы поддерживаете.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-155">When writing a provider, you can implement your own Help for the provider cmdlets that you support.</span></span> <span data-ttu-id="b4fd2-156">Сюда входят одного раздела справки для каждого командлета поставщика или несколько версий раздела справки для случаев, где работает командлет поставщика по-разному с помощью динамических параметров.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-156">This includes a single help topic for each provider cmdlet or multiple versions of a help topic for cases where the provider cmdlet acts differently based on the use of dynamic parameters.</span></span> <span data-ttu-id="b4fd2-157">Для поддержки конкретного командлета справки о поставщике, поставщик должен реализовывать [System.Management.Automation.Provider.Icmdletprovidersupportshelp](/dotnet/api/System.Management.Automation.Provider.ICmdletProviderSupportsHelp) интерфейс.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-157">To support provider cmdlet-specific help, your provider must implement the [System.Management.Automation.Provider.Icmdletprovidersupportshelp](/dotnet/api/System.Management.Automation.Provider.ICmdletProviderSupportsHelp) interface.</span></span>

<span data-ttu-id="b4fd2-158">Вызывается подсистемой Windows PowerShell [System.Management.Automation.Provider.Icmdletprovidersupportshelp.Gethelpmaml\*](/dotnet/api/System.Management.Automation.Provider.ICmdletProviderSupportsHelp.GetHelpMaml) метод для отображения раздела справки для командлетов поставщика.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-158">The Windows PowerShell engine calls the [System.Management.Automation.Provider.Icmdletprovidersupportshelp.Gethelpmaml\*](/dotnet/api/System.Management.Automation.Provider.ICmdletProviderSupportsHelp.GetHelpMaml) method to display the Help topic for your provider cmdlets.</span></span> <span data-ttu-id="b4fd2-159">Ядро предоставляет имя, заданное пользователем при выполнении командлета `Get-Help` командлета и путь текущего пользователя.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-159">The engine provides the name of the cmdlet that the user specified when running the `Get-Help` cmdlet and the current path of the user.</span></span> <span data-ttu-id="b4fd2-160">Текущий путь является обязательным, если поставщик реализует различные версии того же командлета поставщика для разных дисков.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-160">The current path is required if your provider implements different versions of the same provider cmdlet for different drives.</span></span> <span data-ttu-id="b4fd2-161">Метод должен возвращать строку, которая содержит XML-код для справки по командлетам.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-161">The method must return a string that contains the XML for the cmdlet Help.</span></span>

<span data-ttu-id="b4fd2-162">Содержимое файла справки написан с помощью PSMAML XML.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-162">The content for the Help file is written using PSMAML XML.</span></span> <span data-ttu-id="b4fd2-163">Это той же схемой XML, который используется для записи содержимого справки для командлетов, автономный.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-163">This is the same XML schema that is used for writing Help content for stand-alone cmdlets.</span></span> <span data-ttu-id="b4fd2-164">Добавьте в него содержимое для пользовательский командлет справки к файлу справки для поставщика в разделе `CmdletHelpPaths` элемент.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-164">Add the content for your custom cmdlet Help to the Help file for your provider under the `CmdletHelpPaths` element.</span></span> <span data-ttu-id="b4fd2-165">В следующем примере показан `command` элемента для одного поставщика, а также показано, как указать имя командлета, поставщик, поставщик.</span><span class="sxs-lookup"><span data-stu-id="b4fd2-165">The following example shows the `command` element for a single provider cmdlet, and it shows how you specify the name of the provider cmdlet that your provider.</span></span> <span data-ttu-id="b4fd2-166">Поддерживает</span><span class="sxs-lookup"><span data-stu-id="b4fd2-166">supports</span></span>

```xml
<CmdletHelpPaths>
  <command:command>
    <command:details>
      <command:name>ProviderCmdletName</command:name>
      <command:verb>Verb</command:verb>
      <command:noun>Noun</command:noun>
    <command:details>
  </command:command>
<CmdletHelpPath>
```

## <a name="see-also"></a><span data-ttu-id="b4fd2-167">См. также</span><span class="sxs-lookup"><span data-stu-id="b4fd2-167">See Also</span></span>

[<span data-ttu-id="b4fd2-168">Функциональные возможности поставщика PowerShell Windows</span><span class="sxs-lookup"><span data-stu-id="b4fd2-168">Windows PowerShell Provider Functionality</span></span>](./provider-types.md)

[<span data-ttu-id="b4fd2-169">Командлеты поставщика</span><span class="sxs-lookup"><span data-stu-id="b4fd2-169">Provider Cmdlets</span></span>](./provider-cmdlets.md)

[<span data-ttu-id="b4fd2-170">Разработка поставщика Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="b4fd2-170">Writing a Windows PowerShell Provider</span></span>](./writing-a-windows-powershell-provider.md)