---
title: Как работает обновляемая Справка | Документация Майкрософт
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 7674636e-a0f2-4587-bfc5-dd3e6ce5489e
caps.latest.revision: 6
ms.openlocfilehash: 5b6ae54ee6c843996c875189b6ee553be5e4f614
ms.sourcegitcommit: debd2b38fb8070a7357bf1a4bf9cc736f3702f31
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2019
ms.locfileid: "72367083"
---
# <a name="how-updatable-help-works"></a><span data-ttu-id="a9e08-102">Как работает обновляемая справка</span><span class="sxs-lookup"><span data-stu-id="a9e08-102">How Updatable Help Works</span></span>

<span data-ttu-id="a9e08-103">В этом разделе объясняется, как обновляемая Справка обрабатывает файл HelpInfo XML и CAB-файлы для каждого модуля и устанавливает обновленную справку для пользователей.</span><span class="sxs-lookup"><span data-stu-id="a9e08-103">This topic explains how Updatable Help processes the HelpInfo XML file and CAB files for each module, and installs updated help for users.</span></span>

## <a name="the-update-help-process"></a><span data-ttu-id="a9e08-104">Процесс обновления и справки</span><span class="sxs-lookup"><span data-stu-id="a9e08-104">The Update-Help Process</span></span>

<span data-ttu-id="a9e08-105">В следующем списке описываются действия командлета [Update-Help](/powershell/module/Microsoft.PowerShell.Core/Update-Help) , когда пользователь выполняет команду, чтобы обновить файлы справки для модуля в определенном языке и региональных ПАРАМЕТРАХ пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="a9e08-105">The following list describes the actions of the [Update-Help](/powershell/module/Microsoft.PowerShell.Core/Update-Help) cmdlet when a user runs a command to update the help files for a module in a particular UI culture.</span></span>

1. <span data-ttu-id="a9e08-106">`Update-Help` получает XML-файл удаленного HelpInfo из расположения, указанного значением ключа **HelpInfoURI** в манифесте модуля, и проверяет файл на соответствие схеме.</span><span class="sxs-lookup"><span data-stu-id="a9e08-106">`Update-Help` gets the remote HelpInfo XML file from the location specified by the value of the **HelpInfoURI** key in the module manifest and validates the file against the schema.</span></span> <span data-ttu-id="a9e08-107">(Для просмотра схемы см. [HELPINFO XML Schema](./helpinfo-xml-schema.md).) Затем `Update-Help` ищет локальный XML-файл HelpInfo для модуля в каталоге Module на компьютере пользователя.</span><span class="sxs-lookup"><span data-stu-id="a9e08-107">(To view the schema, see [HelpInfo XML Schema](./helpinfo-xml-schema.md).) Then `Update-Help` looks for a local HelpInfo XML file for the module in the module directory on the user's computer.</span></span>

2. <span data-ttu-id="a9e08-108">`Update-Help` сравнивает номер версии файлов справки для указанного языка и региональных параметров пользовательского интерфейса в файлах удаленного и локального HelpInfo XML-файлов для модуля.</span><span class="sxs-lookup"><span data-stu-id="a9e08-108">`Update-Help` compares the version number of the help files for the specified UI culture in the remote and local HelpInfo XML files for the module.</span></span> <span data-ttu-id="a9e08-109">Если номер версии удаленного файла больше, чем номер версии локального файла, или если для модуля отсутствует локальный XML-файл HelpInfo, `Update-Help` готовится к скачиванию новых файлов справки.</span><span class="sxs-lookup"><span data-stu-id="a9e08-109">If the version number on the remote file is greater than version number on the local file, or if the there is no local HelpInfo XML file for the module, `Update-Help` prepares to download new help files.</span></span>

3. <span data-ttu-id="a9e08-110">`Update-Help` выбирает CAB-файл для модуля из расположения, указанного элементом **хелпконтентури** в файле удаленного HelpInfo XML.</span><span class="sxs-lookup"><span data-stu-id="a9e08-110">`Update-Help` selects the CAB file for the module from the location specified by the **HelpContentUri** element in the remote HelpInfo XML file.</span></span> <span data-ttu-id="a9e08-111">Для обнаружения CAB-файла в нем используются имя модуля, GUID модуля и язык и региональные параметры пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="a9e08-111">It uses the module name, module GUID, and UI culture to identify the CAB file.</span></span>

4. <span data-ttu-id="a9e08-112">`Update-Help` скачивает CAB-файл, выполняет его распаковку, проверяет файлы содержимого справки и сохраняет файлы содержимого справки в подкаталоге, относящемся к конкретному языку, в каталоге модуля на компьютере пользователя.</span><span class="sxs-lookup"><span data-stu-id="a9e08-112">`Update-Help` downloads the CAB file, unpacks it, validates the help content files, and saves the help content files in the language-specific subdirectory of the module directory on the user's computer.</span></span>

5. <span data-ttu-id="a9e08-113">`Update-Help` создает локальный XML-файл HelpInfo путем копирования удаленного XML-файла HelpInfo.</span><span class="sxs-lookup"><span data-stu-id="a9e08-113">`Update-Help` creates a local HelpInfo XML file by copying the remote HelpInfo XML file.</span></span> <span data-ttu-id="a9e08-114">Он изменяет локальный XML-файл HelpInfo таким образом, чтобы он включал элементы только для файла CAB, который он установил.</span><span class="sxs-lookup"><span data-stu-id="a9e08-114">It edits the local HelpInfo XML file so that it includes elements only for the CAB file that it installed.</span></span> <span data-ttu-id="a9e08-115">Затем он сохраняет локальный XML-файл HelpInfo в каталоге Module и завершает обновление.</span><span class="sxs-lookup"><span data-stu-id="a9e08-115">Then it saves the local HelpInfo XML file in the module directory and concludes the update.</span></span>

## <a name="the-save-help-process"></a><span data-ttu-id="a9e08-116">Процесс сохранения справки</span><span class="sxs-lookup"><span data-stu-id="a9e08-116">The Save-Help Process</span></span>

<span data-ttu-id="a9e08-117">В следующем списке описываются действия командлетов [Save-Help](/powershell/module/Microsoft.PowerShell.Core/Save-Help) и [Update-Help](/powershell/module/Microsoft.PowerShell.Core/Update-Help) , когда пользователь запускает команды для обновления файлов справки в общей папке, а затем использует эти файлы для обновления файлов справки на компьютере пользователя.</span><span class="sxs-lookup"><span data-stu-id="a9e08-117">The following list describes the actions of the [Save-Help](/powershell/module/Microsoft.PowerShell.Core/Save-Help) and [Update-Help](/powershell/module/Microsoft.PowerShell.Core/Update-Help) cmdlets when a user runs commands to update the help files in a file share, and then use those files to update the help files on the user's computer.</span></span>

<span data-ttu-id="a9e08-118">Командлет `Save-Help` выполняет следующие действия в ответ на команду сохранения файлов справки для модуля в общей папке, указанной параметром **DestinationPath** .</span><span class="sxs-lookup"><span data-stu-id="a9e08-118">The `Save-Help` cmdlet performs the following actions in response to a command to save the help files for a module in a file share that is specified by the **DestinationPath** parameter.</span></span>

1. <span data-ttu-id="a9e08-119">`Save-Help` получает XML-файл удаленного HelpInfo из расположения, указанного значением ключа **HelpInfoURI** в манифесте модуля, и проверяет файл на соответствие схеме.</span><span class="sxs-lookup"><span data-stu-id="a9e08-119">`Save-Help` gets  the remote HelpInfo XML file from the location specified by the value of the **HelpInfoURI** key in the module manifest and validates the file against the schema.</span></span> <span data-ttu-id="a9e08-120">(Для просмотра схемы см. [HELPINFO XML Schema](./helpinfo-xml-schema.md).) Затем `Save-Help` ищет локальный XML-файл HelpInfo в каталоге, указанном параметром **DestinationPath** в команде `Save-Help`.</span><span class="sxs-lookup"><span data-stu-id="a9e08-120">(To view the schema, see [HelpInfo XML Schema](./helpinfo-xml-schema.md).) Then `Save-Help` looks for a local HelpInfo XML file in the directory that is specified by the **DestinationPath** parameter in the `Save-Help` command.</span></span>

2. <span data-ttu-id="a9e08-121">`Save-Help` сравнивает номер версии файлов справки для указанного языка и региональных параметров пользовательского интерфейса в файлах удаленного и локального HelpInfo XML-файлов для модуля.</span><span class="sxs-lookup"><span data-stu-id="a9e08-121">`Save-Help` compares the version number of the help files for the specified UI culture in the remote and local HelpInfo XML files for the module.</span></span> <span data-ttu-id="a9e08-122">Если номер версии удаленного файла больше, чем номер версии локального файла, или если отсутствует локальный XML-файл HelpInfo для модуля в каталоге **DestinationPath** , `Save-Help` готовится к скачиванию новых файлов справки.</span><span class="sxs-lookup"><span data-stu-id="a9e08-122">If the version number on the remote file is greater than version number on the local file, or if the there is no local HelpInfo XML file for the module in the **DestinationPath** directory, `Save-Help` prepares to download new help files.</span></span>

3. <span data-ttu-id="a9e08-123">`Save-Help` выбирает CAB-файл для модуля из расположения, указанного элементом **хелпконтентури** в файле удаленного HelpInfo XML.</span><span class="sxs-lookup"><span data-stu-id="a9e08-123">`Save-Help` selects the CAB file for the module from the location specified by the **HelpContentUri** element in the remote HelpInfo XML file.</span></span> <span data-ttu-id="a9e08-124">Для обнаружения CAB-файла в нем используются имя модуля, GUID модуля и язык и региональные параметры пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="a9e08-124">It uses the module name, module GUID, and UI culture to identify the CAB file.</span></span>

4. <span data-ttu-id="a9e08-125">`Save-Help` скачивает CAB-файл и сохраняет его в каталоге **DestinationPath** .</span><span class="sxs-lookup"><span data-stu-id="a9e08-125">`Save-Help` downloads the CAB file and saves it in the **DestinationPath** directory.</span></span> <span data-ttu-id="a9e08-126">(Он не создает подкаталоги для конкретного языка.)</span><span class="sxs-lookup"><span data-stu-id="a9e08-126">(It does not create any language-specific subdirectories.)</span></span>

5. <span data-ttu-id="a9e08-127">`Save-Help` создает локальный XML-файл HelpInfo путем копирования удаленного XML-файла HelpInfo.</span><span class="sxs-lookup"><span data-stu-id="a9e08-127">`Save-Help` creates a local HelpInfo XML file by copying the remote HelpInfo XML file.</span></span> <span data-ttu-id="a9e08-128">Он изменяет локальный XML-файл HelpInfo таким образом, что он включает элементы только для сохраненного файла CAB.</span><span class="sxs-lookup"><span data-stu-id="a9e08-128">It edits the local HelpInfo XML file so that it includes elements only for the CAB file that it saved.</span></span> <span data-ttu-id="a9e08-129">Затем он сохраняет локальный XML-файл HelpInfo в каталоге **DestinationPath** и завершает обновление.</span><span class="sxs-lookup"><span data-stu-id="a9e08-129">Then it saves the local HelpInfo XML file in the  **DestinationPath** directory and concludes the update.</span></span>

   <span data-ttu-id="a9e08-130">Командлет `Update-Help` выполняет следующие действия в ответ на команду обновления файлов справки на компьютере пользователя из файлов в общей папке, заданной параметром **SourcePath** .</span><span class="sxs-lookup"><span data-stu-id="a9e08-130">The `Update-Help` cmdlet performs the following actions in response to a command to update the help files on a user's computer from the files in a file share that is specified by the **SourcePath** parameter.</span></span>

1. <span data-ttu-id="a9e08-131">`Update-Help` получает XML-файл удаленного HelpInfo из каталога **SourcePath** .</span><span class="sxs-lookup"><span data-stu-id="a9e08-131">`Update-Help` gets the remote HelpInfo XML file from the **SourcePath** directory.</span></span> <span data-ttu-id="a9e08-132">Затем он ищет локальный XML-файл HelpInfo в каталоге Module на компьютере пользователя.</span><span class="sxs-lookup"><span data-stu-id="a9e08-132">Then it looks for a local HelpInfo XML file in the module directory on the user's computer.</span></span>

2. <span data-ttu-id="a9e08-133">`Update-Help` сравнивает номер версии файлов справки для указанного языка и региональных параметров пользовательского интерфейса в файлах удаленного и локального HelpInfo XML-файлов для модуля.</span><span class="sxs-lookup"><span data-stu-id="a9e08-133">`Update-Help` compares the version number of the help files for the specified UI culture in the remote and local HelpInfo XML files for the module.</span></span> <span data-ttu-id="a9e08-134">Если номер версии удаленного файла превышает номер версии локального файла или если локальный XML-файл HelpInfo отсутствует, `Update-Help` готовится к установке новых файлов справки.</span><span class="sxs-lookup"><span data-stu-id="a9e08-134">If the version number on the remote file is greater than version number on the local file, or if the there is no local HelpInfo XML file, `Update-Help` prepares to install new help files.</span></span>

3. <span data-ttu-id="a9e08-135">`Update-Help` выбирает CAB-файл для модуля из каталога **SourcePath** .</span><span class="sxs-lookup"><span data-stu-id="a9e08-135">`Update-Help` selects the CAB file for the module from **SourcePath** directory.</span></span> <span data-ttu-id="a9e08-136">Для обнаружения CAB-файла в нем используются имя модуля, GUID модуля и язык и региональные параметры пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="a9e08-136">It uses the module name, module GUID, and UI culture to identify the CAB file.</span></span>

4. <span data-ttu-id="a9e08-137">`Update-Help` распаковать CAB-файл, проверит файлы содержимого справки и сохранит файлы содержимого справки в подкаталоге, зависящем от языка, в каталоге модуля на компьютере пользователя.</span><span class="sxs-lookup"><span data-stu-id="a9e08-137">`Update-Help` unpacks the CAB file, validates the help content files, and saves the help content files in the language-specific subdirectory of the module directory on the user's computer.</span></span>

5. <span data-ttu-id="a9e08-138">`Update-Help` создает локальный XML-файл HelpInfo путем копирования удаленного XML-файла HelpInfo.</span><span class="sxs-lookup"><span data-stu-id="a9e08-138">`Update-Help` creates a local HelpInfo XML file by copying the remote HelpInfo XML file.</span></span> <span data-ttu-id="a9e08-139">Он изменяет локальный XML-файл HelpInfo таким образом, чтобы он включал элементы только для файла CAB, который он установил.</span><span class="sxs-lookup"><span data-stu-id="a9e08-139">It edits the local HelpInfo XML file so that it includes elements only for the CAB file that it installed.</span></span> <span data-ttu-id="a9e08-140">Затем он сохраняет локальный XML-файл HelpInfo в каталоге Module и завершает обновление.</span><span class="sxs-lookup"><span data-stu-id="a9e08-140">Then it saves the local HelpInfo XML file in the module directory and concludes the update.</span></span>