---
ms.date: 09/13/2016
ms.topic: reference
title: Создание широкого представления
description: Создание широкого представления
ms.openlocfilehash: 4230ef91a3612e962b2773b12e8016df6f760eae
ms.sourcegitcommit: ba7315a496986451cfc1296b659d73ea2373d3f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "92655597"
---
# <a name="creating-a-wide-view"></a>Создание широкого представления

В расширенном представлении отображается одно значение для каждого отображаемого объекта. Отображаемое значение может быть значением свойства объекта .NET или значением скрипта. По умолчанию для этого представления отсутствует метка или заголовок.

## <a name="a-wide-view-display"></a>Отображение расширенного представления

В следующем примере показано, как Windows PowerShell отображает объект [System. Diagnostics. Process](/dotnet/api/System.Diagnostics.Process) , возвращаемый командлетом [Get-Process](/powershell/module/Microsoft.PowerShell.Management/Get-Process) , когда его выходные данные передаются в командлет [Format-Wide](/powershell/module/Microsoft.PowerShell.Utility/Format-Wide) . (По умолчанию командлет [Get-Process](/powershell/module/Microsoft.PowerShell.Management/Get-Process) возвращает табличное представление.) В этом примере два столбца используются для вывода имени процесса для каждого возвращаемого объекта. Имя свойства объекта не отображается, только значение свойства.

```
Get-Process | format-wide
AEADISRV                     agrsmsvc
Ati2evxx                     Ati2evxx
audiodg                      CCC
CcmExec                      communicator
Crypserv                     csrss
csrss                        DevDtct2
DM1Service                   dpupdchk
dwm                          DxStudio
EXCEL                        explorer
GoogleToolbarNotifier        GrooveMonitor
hpqwmiex                     hpservice
Idle                         InoRpc
InoRT                        InoTask
ipoint                       lsass
lsm                          MOM
MSASCui                      notepad
...                          ...

```

## <a name="defining-the-wide-view"></a>Определение расширенного представления

В следующем коде XML показана схема широкой схемы представления для объекта [System. Diagnostics. Process](/dotnet/api/System.Diagnostics.Process) .

```xml
View>
  <Name>process</Name>
  <ViewSelectedBy>
    <TypeName>System.Diagnostics.Process</TypeName>
  </ViewSelectedBy>
  <GroupBy>...</GroupBy>
  <Controls>...</Controls>
  <WideControl>
    <WideEntries>
      <WideEntry>
        <WideItem>
          <PropertyName>ProcessName</PropertyName>
        </WideItem>
      </WideEntry>
    </WideEntries>
  </WideControl>
</View>

```

Для определения широкого представления используются следующие XML-элементы:

- Элемент [View](./view-element-format.md) является родительским элементом для широкого представления. (Это тот же родительский элемент для представлений таблицы, списка и пользовательского элемента управления.)

- Элемент [Name](./name-element-for-view-format.md) указывает имя представления. Этот элемент является обязательным для всех представлений.

- Элемент [виевселектедби](./viewselectedby-element-format.md) определяет объекты, которые используют представление. Этот элемент является обязательным.

- Элемент [GroupBy](./groupby-element-for-view-format.md) определяет, когда отображается новая группа объектов. Новая группа запускается каждый раз при изменении значения определенного свойства или сценария. Этот элемент является необязательным.

- Элементы [управления](./controls-element-for-view-format.md) определяют пользовательские элементы управления, определяемые широким представлением. Элементы управления позволяют дополнительно указать способ отображения данных. Этот элемент является необязательным. Представление может определять собственные пользовательские элементы управления или использовать стандартные элементы управления, которые могут использоваться любыми представлениями в файле форматирования. Дополнительные сведения о пользовательских элементах управления см. в разделе [Создание пользовательских элементов управления](./creating-custom-controls.md).

- Элемент [видеконтрол](./widecontrol-element-format.md) и его дочерние элементы определяют, что отображается в представлении. В предыдущем примере представление предназначено для отображения свойства [System. Diagnostics. Process. ProcessName](/dotnet/api/System.Diagnostics.Process.ProcessName) .

Пример полного файла форматирования, определяющего простое представление, см. в разделе [широкие представления (базовый)](./wide-view-basic.md).

## <a name="providing-definitions-for-your-wide-view"></a>Предоставление определений для вашего широкого представления

Широкие представления могут предоставлять одно или несколько определений с помощью дочерних элементов элемента [видеконтрол](./widecontrol-element-format.md) . Как правило, представление будет иметь только одно определение. В следующем примере представление предоставляет одно определение, которое отображает значение свойства [System. Diagnostics. Process. ProcessName](/dotnet/api/System.Diagnostics.Process.ProcessName) . В расширенном представлении может отображаться значение свойства или значение скрипта (не показано в примере).

```xml
<WideControl>
  <AutoSize/>
  <ColumnNumber></ColumnNumber>
  <WideEntries>
    <WideEntry>
      <WideItem>
        <PropertyName>ProcessName</PropertyName>
      </WideItem>
    </WideEntry>
  </WideEntries>
</WideControl>
```

Следующие XML-элементы можно использовать для определения расширенного представления:

- Элемент [видеконтрол](./widecontrol-element-format.md) и его дочерние элементы определяют, что отображается в представлении.

- Элемент [AutoSize](./autosize-element-for-widecontrol-format.md) указывает, корректируется ли размер столбца и число столбцов в зависимости от размера данных. Этот элемент является необязательным.

- Элемент [columnNumber](./columnnumber-element-for-widecontrol-format.md) указывает количество столбцов, отображаемых в расширенном представлении. Этот элемент является необязательным.

- Элемент [видинтриес](./wideentries-element-for-widecontrol-format.md) предоставляет определения представления. В большинстве случаев представление будет иметь только одно определение. Этот элемент является обязательным.

- Элемент [видинтри](./wideentry-element-for-widecontrol-format.md) предоставляет определение представления. Требуется по крайней мере один [видинтри](./wideentry-element-for-widecontrol-format.md) ; Однако максимальное количество элементов, которые можно добавить, не ограничено. В большинстве случаев представление будет иметь только одно определение.

- Элемент [ентриселектедби](./entryselectedby-element-for-wideentry-format.md) указывает объекты, отображаемые конкретным определением. Этот элемент является необязательным и необходим только при определении нескольких элементов [видинтри](./wideentry-element-for-widecontrol-format.md) , отображающих разные объекты.

- Элемент [видеитем](./wideitem-element-for-widecontrol-format.md) указывает данные, отображаемые представлением. В отличие от других типов представлений, широкий элемент управления может отображать только один элемент.

- Элемент [PropertyName](./propertyname-element-for-wideitem-for-widecontrol-format.md) указывает свойство, значение которого отображается в представлении. Необходимо указать либо свойство, либо скрипт, но нельзя указать и то, и другое.

- Элемент [ScriptBlock](./scriptblock-element-for-wideitem-for-widecontrol-format.md) задает скрипт, значение которого отображается в представлении. Необходимо указать либо скрипт, либо свойство, но нельзя указать и то, и другое.

- Элемент [FormatString](./formatstring-element-for-wideitem-for-widecontrol-format.md) указывает шаблон, используемый для вывода данных. Этот элемент является необязательным.

Пример полного файла форматирования, определяющего определение расширенного представления, см. в разделе [широкие представления (базовый)](./wide-view-basic.md).

## <a name="defining-the-objects-that-use-the-wide-view"></a>Определение объектов, использующих широкие представления

Существует два способа определения объектов .NET, использующих широкое представление. Элемент [виевселектедби](./viewselectedby-element-format.md) можно использовать для определения объектов, которые могут отображаться всеми определениями представления, или можно использовать элемент [ентриселектедби](./entryselectedby-element-for-wideentry-format.md) для определения объектов, отображаемых определенным определением представления. В большинстве случаев представление имеет только одно определение, поэтому объекты обычно определяются элементом [виевселектедби](./viewselectedby-element-format.md) .

В следующем примере показано, как определить объекты, отображаемые в расширенном представлении с помощью элементов [виевселектедби](./viewselectedby-element-format.md) и [TypeName](./typename-element-for-viewselectedby-format.md) . Количество элементов [TypeName](./typename-element-for-viewselectedby-format.md) , которые можно указать, не ограничено, и их порядок не важен.

```xml
<View>
  <Name>System.ServiceProcess.ServiceController</Name>
  <ViewSelectedBy>
    <TypeName>System.Diagnostics.Process</TypeName>
  </ViewSelectedBy>
  <WideControl>...</WideControl>
</View>
```

Следующие XML-элементы можно использовать для указания объектов, используемых в расширенном представлении:

- Элемент [виевселектедби](./viewselectedby-element-format.md) определяет, какие объекты отображаются в расширенном представлении.

- Элемент [TypeName](./typename-element-for-viewselectedby-format.md) указывает .NET, отображаемый представлением. Требуется полное имя типа .NET. Необходимо указать по крайней мере один тип или набор элементов для представления, но максимальное количество заданных объектов не предусмотрено.

Пример полного файла форматирования см. в разделе [широкие представления (базовый)](./wide-view-basic.md).

В следующем примере используются элементы [виевселектедби](./viewselectedby-element-format.md) и [селектионсетнаме](./selectionsetname-element-for-viewselectedby-format.md) . Используйте наборы выбора, в которых имеется связанный набор объектов, отображаемых с помощью нескольких представлений, например при определении расширенного представления и табличного представления для тех же объектов. Дополнительные сведения о создании набора выбора см. в разделе [Определение наборов выбора](./defining-selection-sets.md).

```xml
<View>
  <Name>System.ServiceProcess.ServiceController</Name>
  <ViewSelectedBy>
    <SelectionSetName>.NET Type Set</SelectionSetName>
  </ViewSelectedBy>
  <WideControl>...</WideControl>
</View>
```

Следующие XML-элементы можно использовать для указания объектов, используемых в расширенном представлении:

- Элемент [виевселектедби](./viewselectedby-element-format.md) определяет, какие объекты отображаются в расширенном представлении.

- Элемент [селектионсетнаме](./selectionsetname-element-for-viewselectedby-format.md) указывает набор объектов, которые могут быть отображены представлением. Необходимо указать хотя бы один набор выбора или тип для представления, но максимальное количество элементов, которое можно указать, не существует.

В следующем примере показано, как определить объекты, отображаемые определенным определением расширенного представления с помощью элемента [ентриселектедби](./entryselectedby-element-for-wideentry-format.md) . С помощью этого элемента можно указать имя типа .NET объекта, набор элементов выбора объектов или условие выбора, которое указывает, когда используется определение. Дополнительные сведения о создании условий выбора см. в разделе [Определение условий для отображения данных](./defining-conditions-for-displaying-data.md).

```xml
<WideEntry>
  <EntrySelectedBy>
    <TypeName>.NET Type</TypeName>
  </EntrySelectedBy>
</WideEntry>
```

Следующие XML-элементы можно использовать для указания объектов, которые используются в определенном определении расширенного представления:

- Элемент [ентриселектедби](./entryselectedby-element-for-wideentry-format.md) определяет, какие объекты отображаются в определении.

- Элемент [TypeName](./typename-element-for-viewselectedby-format.md) указывает .NET, отображаемый определением. При использовании этого элемента требуется полное имя типа .NET. Необходимо указать по крайней мере один тип, набор выбора или условие выбора для определения, но максимальное число элементов, которое можно указать, не предусмотрено.

- Элемент [селектионсетнаме](./selectionsetname-element-for-viewselectedby-format.md) (не показан) задает набор объектов, которые могут отображаться в этом определении. Необходимо указать по крайней мере один тип, набор выбора или условие выбора для определения, но максимальное число элементов, которое можно указать, не предусмотрено.

- Элемент [селектионкондитион](./selectioncondition-element-for-entryselectedby-for-widecontrol-format.md) (не показано) указывает условие, которое должно существовать, чтобы использовать это определение. Необходимо указать по крайней мере один тип, набор выбора или условие выбора для определения, но максимальное число элементов, которое можно указать, не предусмотрено. Дополнительные сведения об определении условий выбора см. в разделе [Определение условий для отображения данных](./defining-conditions-for-displaying-data.md).

## <a name="displaying-groups-of-objects-in-a-wide-view"></a>Отображение групп объектов в широком представлении

Объекты, отображаемые в расширенном представлении, можно разделить на группы. Это не означает, что вы определяете группу, а только то, что Windows PowerShell запускает новую группу всякий раз, когда изменяется значение определенного свойства или сценария. В следующем примере новая группа запускается всякий раз, когда изменяется свойство [System. ServiceProcess. ServiceController. serviceType](/dotnet/api/System.ServiceProcess.ServiceController.ServiceType) .

```xml
<GroupBy>
  <Label>Service Type</Label>
  <PropertyName>ServiceType</PropertyName>
</GroupBy>

```

Следующие XML-элементы используются для определения времени запуска группы:

- Элемент [GroupBy](./groupby-element-for-view-format.md) определяет свойство или скрипт, который запускает новую группу и определяет, как будет отображаться группа.

- Элемент [PropertyName](./propertyname-element-for-groupby-format.md) указывает свойство, которое запускает новую группу при изменении ее значения. Необходимо указать свойство или скрипт для запуска группы, но нельзя указать и то, и другое.

- Элемент [ScriptBlock](./scriptblock-element-for-groupby-format.md) указывает скрипт, который запускает новую группу при изменении ее значения. Необходимо указать скрипт или свойство для запуска группы, но нельзя указать и то, и другое.

- Элемент [Label](./label-element-for-groupby-format.md) определяет метку, которая отображается в начале каждой группы. В дополнение к тексту, указанному этим элементом, Windows PowerShell отображает значение, вызвавшее новую группу, и добавляет пустую строку до и после метки. Этот элемент является необязательным.

- Элемент [Ошибка customcontrol](./customcontrol-element-for-groupby-format.md) определяет элемент управления, используемый для вывода данных. Этот элемент является необязательным.

- Элемент [кустомконтролнаме](./customcontrolname-element-for-groupby-format.md) указывает общий элемент управления или представление, которое используется для отображения данных. Этот элемент является необязательным.

Пример полного файла форматирования, определяющего группы, см. в разделе [широкие представления (GroupBy)](./wide-view-groupby.md).

## <a name="using-format-strings"></a>Использование строк формата

Строки форматирования можно добавить в расширенное представление, чтобы дополнительно определить способ отображения данных. В следующем примере показано, как определить строку форматирования для значения `StartTime` Свойства.

```xml
<WideItem>
  <PropertyName>StartTime</PropertyName>
  <FormatString>{0:MMM} (0:DD) (0:HH):(0:MM)</FormatString>
</WideItem>
```

Для указания шаблона формата можно использовать следующие XML-элементы:

- Элемент [видеитем](./wideitem-element-for-widecontrol-format.md) указывает данные, отображаемые представлением.

- Элемент [PropertyName](./propertyname-element-for-wideitem-for-widecontrol-format.md) указывает свойство, значение которого отображается в представлении. Необходимо указать либо свойство, либо скрипт, но нельзя указать и то, и другое.

- Элемент [FormatString](./formatstring-element-for-wideitem-for-widecontrol-format.md) задает шаблон формата, определяющий способ отображения значения свойства или скрипта в представлении.

- Элемент [ScriptBlock](./scriptblock-element-for-wideitem-for-widecontrol-format.md) (не показан) задает скрипт, значение которого отображается в представлении. Необходимо указать либо скрипт, либо свойство, но нельзя указать и то, и другое.

В следующем примере `ToString` метод вызывается для форматирования значения скрипта. Скрипты могут вызывать любой метод объекта. Таким образом, если у объекта есть метод, такой как `ToString` , имеющий параметры форматирования, скрипт может вызвать этот метод для форматирования выходного значения скрипта.

```xml
<WideItem>
  <ScriptBlock>
    [String}::Format("(0,10) (1,8)", .LastWriteTime.ToString("d"),
    $_.LastWriteTime.Totring("t"))
  </ScriptBlock>
</WideItem>
```

Для вызова метода можно использовать следующий XML-элемент `ToString` :

- Элемент [видеитем](./wideitem-element-for-widecontrol-format.md) указывает данные, отображаемые представлением.

- Элемент [ScriptBlock](./scriptblock-element-for-wideitem-for-widecontrol-format.md) (не показан) задает скрипт, значение которого отображается в представлении. Необходимо указать либо скрипт, либо свойство, но нельзя указать и то, и другое.

## <a name="see-also"></a>См. также:

[Широкое представление (базовое)](./wide-view-basic.md)

[Широкое представление (с группировкой)](./wide-view-groupby.md)

[Написание файла форматирования PowerShell](./writing-a-powershell-formatting-file.md)
