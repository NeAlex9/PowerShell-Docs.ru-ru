---
title: Создание оболочки консоли | Документация Майкрософт
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Make-Shell [PowerShell Programmer's Guide]
ms.assetid: 6c24dd44-a8ec-421d-ac86-90912e1a8cc6
caps.latest.revision: 5
ms.openlocfilehash: 7166881bd1403ea8c81ec2928321f6b93e3ac58d
ms.sourcegitcommit: debd2b38fb8070a7357bf1a4bf9cc736f3702f31
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2019
ms.locfileid: "72360273"
---
# <a name="how-to-create-a-console-shell"></a>Создание оболочки консоли

Windows PowerShell предоставляет средство make-Shell, которое также называется "make-Kit", которое используется для создания оболочки консоли, которая не является расширяемой. Оболочки, созданные с помощью этого нового средства, не могут быть расширены с помощью оснастки Windows PowerShell.

## <a name="syntax"></a>Синтаксис

Ниже приведен синтаксис, используемый для запуска программы make-Shell из файла make-File.

```
make-shell
  -out n.exe
  -namespace ns
  [ -lib libdirectory1[,libdirectory2,..] ]
  [ -reference ca1.dll[,ca2.dll,...] ]
  [ -formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...] ]
  [ -typedata td1.type.ps1xml[,td2.type.ps1xml,...] ]
  [ -source c1.cs [,c2.cs,...] ]
  [ -authorizationmanager authorizationManagerType ]
  [ -win32icon i.ico ]
  [ -initscript p.ps1 ]
  [ -builtinscript s1.ps1[,s2.ps1,...] ]
  [ -resource resourcefile.txt ]
  [ -cscflags cscFlags ]
  [ -? | -help ]
```

## <a name="parameters"></a>Параметры

Ниже приведено краткое описание параметров make-Shell.

> [!CAUTION]
> Пути в формате UNC к сборкам не поддерживаются программой make-Shell.

|Параметр|Описание|
|---------------|-----------------|
|-out n. exe|Обязательно. Имя создаваемой оболочки. Путь указывается как часть этого параметра.<br /><br /> Make-Shell добавит к этому значению ". exe", если оно не указано. **Внимание!**  Не создавайте выходной файл с тем же именем, что и у упоминаемого DLL-файла. Если вы попытаетесь сделать это, средство make-Shell создаст файл CS с тем же именем, который перезапишет файл CS с исходным кодом командлета.|
|— пространство имен NS|Обязательно. Пространство имен, используемое для производного класса [System. Management. Automation. ПространствоИмен. рунспацеконфигуратион](/dotnet/api/System.Management.Automation.Runspaces.RunspaceConfiguration) , создаваемого и компилируемого командлетом make-Kit.|
|-lib libdirectory1 [, libdirectory2,..]|Каталоги, в которых выполняется поиск сборок .NET, включая сборки Windows PowerShell, сборки, заданные параметром `reference`, сборки, косвенно упоминаемые в другой сборке, и сборки системы .NET.|
|-Reference CA1. dll [, Ca2. dll,...]|Разделенный запятыми список сборок, включаемых в оболочку. Эти сборки включают все сборки командлетов и поставщиков, а также сборки ресурсов, которые должны быть загружены. Если этот параметр не указан, создается оболочка, которая содержит только основные командлеты и поставщики, предоставляемые Windows PowerShell.<br /><br /> Сборки можно указать с помощью полного пути, в противном случае они будут искать данные по пути, указанному параметром `lib`.|
|-FormatData дс1 —. Format. ps1xml [, FD2. формат. ps1xml,...]|Разделенный запятыми список данных формата для включения в оболочку. Если этот параметр не указан, создается оболочка, содержащая только данные формата, предоставляемые Windows PowerShell.|
|-TypeData TD1. Type. ps1xml [, TD2. Type. ps1xml,...]|Разделенный запятыми список данных типа для включения в оболочку. Если этот параметр не указан, создается оболочка, которая содержит только данные типа, предоставленные Windows PowerShell.|
|-Source c1.cs [, c2.cs,...]|Имя файла, предоставленное разработчиком оболочки, которое содержит любой исходный код, необходимый для создания оболочки.<br /><br /> Файл исходного кода может содержать любой из следующих исходных кодов:<br /><br /> — Реализация диспетчера авторизации, переопределяющая Диспетчер авторизации по умолчанию. (Это также можно передать в сборку.)<br />— Объявления информационных атрибутов сборки: такие как AssemblyCompanyAttribute, AssemblyCopyrightAttribute, AssemblyFileVersionAttribute, AssemblyInformationalVersionAttribute, AssemblyProductAttribute и AssemblyTrademarkAttribute.|
|-аусоризатионманажер Аусоризатионманажертипе|Тип, содержащий реализацию диспетчера авторизации. Это значение может быть определено в исходном коде или скомпилировано в сборку (задается параметром `reference`). Если этот параметр не указан, используется диспетчер безопасности по умолчанию. Значение должно быть полным именем типа, включая пространства имен.|
|-win32icon i. ico|Значок exe для файла оболочки. Если этот параметр не указан, оболочка будет иметь значок, включаемый компилятором c# (если он есть).|
|-инитскрипт p. ps1|Профиль запуска оболочки. Файл включен "как есть"; Проверка действительности не выполняется с помощью make-Shell.|
|-буилтинскрипт S1. ps1 [, S2. ps1,...]|Список встроенных скриптов для оболочки. Эти скрипты обнаруживаются перед сценариями в пути, и их содержимое нельзя изменить после сборки оболочки.<br /><br /> Файлы включены "как есть"; Проверка действительности не выполняется с помощью make-Shell.|
|-Resource ResourceFile. txt|TXT файл, содержащий справку и ресурсы баннера для оболочки. Первый ресурс называется Шеллхелп и содержит текст, отображаемый, если оболочка вызывается с параметром `help`. Второй ресурс называется Шеллбаннер и содержит текст и сведения об авторском праве, отображаемые при запуске оболочки в интерактивном режиме.<br /><br /> Если этот параметр не указан или эти ресурсы отсутствуют, используются Общая справка и баннер.|
|-кскфлагс Кскфлагс|Флаги, которые должны быть переданы C# компилятору (CSC. exe). Они передаются без изменений. Если этот параметр содержит пробелы, он должен быть заключен в двойные кавычки.|
|-?<br /><br /> -help|Отображает сообщение об авторских правах и параметры командной строки make-Shell.|
|-verbose|Отображает подробные сведения во время создания оболочки.|

## <a name="see-also"></a>См. также:

[Руководством программиста Windows PowerShell](./windows-powershell-programmer-s-guide.md)

[Пакет SDK для Windows PowerShell](../windows-powershell-reference.md)