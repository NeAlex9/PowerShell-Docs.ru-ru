---
ms.date: 09/13/2016
ms.topic: reference
title: Создание оболочки консоли
description: Создание оболочки консоли
ms.openlocfilehash: 9ea67c43b1ee35b1fbfc553b22a1423419317ca2
ms.sourcegitcommit: ba7315a496986451cfc1296b659d73ea2373d3f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "92657226"
---
# <a name="how-to-create-a-console-shell"></a>Создание оболочки консоли

Windows PowerShell предоставляет Make-Shell средство, которое также называется "make-Kit", которое используется для создания консоли оболочки, которая не является расширяемой. Оболочки, созданные с помощью этого нового средства, не могут быть расширены с помощью оснастки Windows PowerShell.

## <a name="syntax"></a>Синтаксис

Ниже приведен синтаксис, используемый для запуска Make-Shell в файле make-File.

```
make-shell
  -out n.exe
  -namespace ns
  [ -lib libdirectory1[,libdirectory2,..] ]
  [ -reference ca1.dll[,ca2.dll,...] ]
  [ -formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...] ]
  [ -typedata td1.type.ps1xml[,td2.type.ps1xml,...] ]
  [ -source c1.cs [,c2.cs,...] ]
  [ -authorizationmanager authorizationManagerType ]
  [ -win32icon i.ico ]
  [ -initscript p.ps1 ]
  [ -builtinscript s1.ps1[,s2.ps1,...] ]
  [ -resource resourcefile.txt ]
  [ -cscflags cscFlags ]
  [ -? | -help ]
```

## <a name="parameters"></a>Параметры

Ниже приведено краткое описание параметров make-Shell.

> [!CAUTION]
> Пути в формате UNC к сборкам не поддерживаются программой make-Shell.

|Параметр|Описание|
|---------------|-----------------|
|-out n.exe|Обязательный элемент. Имя создаваемой оболочки. Путь указывается как часть этого параметра.<br /><br /> Make-Shell добавит к этому значению ". exe", если оно не указано. **Внимание!**  Не создавайте выходной файл с тем же именем, что и у упоминаемого DLL-файла. В этом случае средство Make-Shell создает CS-файл с тем же именем, который перезапишет CS-файл с исходным кодом командлета.|
|— пространство имен NS|Обязательный элемент. Пространство имен, используемое для производного класса [System. Management. Automation. ПространствоИмен. рунспацеконфигуратион](/dotnet/api/System.Management.Automation.Runspaces.RunspaceConfiguration) , создаваемого и компилируемого командлетом make-Kit.|
|-lib libdirectory1 [, libdirectory2,..]|Каталоги, в которых выполняется поиск сборок .NET, включая сборки Windows PowerShell, сборки, заданные `reference` параметром, сборки, косвенно упоминаемые в другой сборке, и сборки системы .NET.|
|-Reference ca1.dll [, ca2.dll,...]|Разделенный запятыми список сборок, включаемых в оболочку. Эти сборки включают все сборки командлетов и поставщиков, а также сборки ресурсов, которые должны быть загружены. Если этот параметр не указан, создается оболочка, которая содержит только основные командлеты и поставщики, предоставляемые Windows PowerShell.<br /><br /> Сборки можно указать с помощью полного пути, в противном случае они будут искать по пути, указанному `lib` параметром.|
|-FormatData fd1.format.ps1XML [, fd2.format.ps1XML,...]|Разделенный запятыми список данных формата для включения в оболочку. Если этот параметр не указан, создается оболочка, содержащая только данные формата, предоставляемые Windows PowerShell.|
|-TypeData td1.type.ps1XML [, td2.type.ps1XML,...]|Разделенный запятыми список данных типа для включения в оболочку. Если этот параметр не указан, создается оболочка, которая содержит только данные типа, предоставленные Windows PowerShell.|
|-Source c1.cs [, c2.cs,...]|Имя файла, предоставленное разработчиком оболочки, которое содержит любой исходный код, необходимый для создания оболочки.<br /><br /> Файл исходного кода может содержать любой из следующих исходных кодов:<br /><br /> — Реализация диспетчера авторизации, переопределяющая Диспетчер авторизации по умолчанию. (Это также можно передать в сборку.)<br />— Объявления информационных атрибутов сборки: например, AssemblyCompanyAttribute, AssemblyCopyrightAttribute, AssemblyFileVersionAttribute, AssemblyInformationalVersionAttribute, AssemblyProductAttribute и AssemblyTrademarkAttribute.|
|-аусоризатионманажер Аусоризатионманажертипе|Тип, содержащий реализацию диспетчера авторизации. Его можно определить в исходном коде или скомпилировать в сборку (заданную `reference` параметром). Если этот параметр не указан, используется диспетчер безопасности по умолчанию. Значение должно быть полным именем типа, включая пространства имен.|
|-win32icon i. ico|Значок exe для файла оболочки. Если этот параметр не указан, оболочка будет иметь значок, включаемый компилятором c# (если он есть).|
|-инитскрипт p.ps1|Профиль запуска оболочки. Файл включен "как есть"; Проверка действительности не выполняется с помощью make-Shell.|
|-буилтинскрипт s1.ps1 [, s2.ps1,...]|Список встроенных скриптов для оболочки. Эти скрипты обнаруживаются перед сценариями в пути, и их содержимое нельзя изменить после сборки оболочки.<br /><br /> Файлы включены "как есть"; Проверка действительности не выполняется с помощью make-Shell.|
|-resourcefile.txt ресурсов|TXT файл, содержащий справку и ресурсы баннера для оболочки. Первый ресурс называется Шеллхелп и содержит текст, отображаемый, если оболочка вызывается с `help` параметром. Второй ресурс называется Шеллбаннер и содержит текст и сведения об авторском праве, отображаемые при запуске оболочки в интерактивном режиме.<br /><br /> Если этот параметр не указан или эти ресурсы отсутствуют, используются Общая справка и баннер.|
|-кскфлагс Кскфлагс|Флаги, которые должны быть переданы компилятору C# (csc.exe). Они передаются без изменений. Если этот параметр содержит пробелы, он должен быть заключен в двойные кавычки.|
|-?<br /><br /> -help|Отображает сообщение об авторских правах и Make-Shell параметры командной строки.|
|-verbose|Отображает подробные сведения во время создания оболочки.|

## <a name="see-also"></a>См. также:

[Руководство программиста по Windows PowerShell](./windows-powershell-programmer-s-guide.md)

[Пакет SDK для Windows PowerShell](../windows-powershell-reference.md)
