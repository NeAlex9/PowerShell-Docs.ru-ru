---
ms.date: 09/13/2016
ms.topic: reference
title: Объявление атрибута командлета
description: Объявление атрибута командлета
ms.openlocfilehash: 6bdfe39a4ab9ef4d4cc98daa592f69f7fab95e84
ms.sourcegitcommit: ba7315a496986451cfc1296b659d73ea2373d3f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "92653543"
---
# <a name="cmdlet-attribute-declaration"></a><span data-ttu-id="72878-103">Объявление атрибута командлета</span><span class="sxs-lookup"><span data-stu-id="72878-103">Cmdlet Attribute Declaration</span></span>

<span data-ttu-id="72878-104">Атрибут командлета определяет класс Microsoft .NET Framework в качестве командлета и указывает глагол и существительное, используемые для вызова командлета.</span><span class="sxs-lookup"><span data-stu-id="72878-104">The Cmdlet attribute identifies a Microsoft .NET Framework class as a cmdlet and specifies the verb and noun used to invoke the cmdlet.</span></span>

## <a name="syntax"></a><span data-ttu-id="72878-105">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="72878-105">Syntax</span></span>

```csharp
[Cmdlet("verbName", "nounName")]
[Cmdlet("verbName", "nounName", Named Parameters...)]
```

#### <a name="parameters"></a><span data-ttu-id="72878-106">Параметры</span><span class="sxs-lookup"><span data-stu-id="72878-106">Parameters</span></span>

<span data-ttu-id="72878-107">`VerbName` ([System. String](/dotnet/api/System.String)) обязательный.</span><span class="sxs-lookup"><span data-stu-id="72878-107">`VerbName` ([System.String](/dotnet/api/System.String)) Required.</span></span> <span data-ttu-id="72878-108">Задает команду командлета.</span><span class="sxs-lookup"><span data-stu-id="72878-108">Specifies the cmdlet verb.</span></span> <span data-ttu-id="72878-109">Эта команда задает действие, выполняемое командлетом.</span><span class="sxs-lookup"><span data-stu-id="72878-109">This verb specifies the action taken by the cmdlet.</span></span> <span data-ttu-id="72878-110">Дополнительные сведения о утвержденных командах командлетов см. в разделе [имена глаголов командлетов](./approved-verbs-for-windows-powershell-commands.md) и [необходимые рекомендации по разработке](./required-development-guidelines.md).</span><span class="sxs-lookup"><span data-stu-id="72878-110">For more information about approved cmdlet verbs, see [Cmdlet Verb Names](./approved-verbs-for-windows-powershell-commands.md) and [Required Development Guidelines](./required-development-guidelines.md).</span></span>

<span data-ttu-id="72878-111">`NounName` ([System. String](/dotnet/api/System.String)) обязательный.</span><span class="sxs-lookup"><span data-stu-id="72878-111">`NounName` ([System.String](/dotnet/api/System.String)) Required.</span></span> <span data-ttu-id="72878-112">Задает существительное командлет.</span><span class="sxs-lookup"><span data-stu-id="72878-112">Specifies the cmdlet noun.</span></span> <span data-ttu-id="72878-113">Это существительное Указывает ресурс, на основе которого работает командлет.</span><span class="sxs-lookup"><span data-stu-id="72878-113">This noun specifies the resource that the cmdlet acts upon.</span></span> <span data-ttu-id="72878-114">Дополнительные сведения о существительных командлетов см. в разделе [объявление командлета](./cmdlet-class-declaration.md) и [рекомендации по разработке настоятельно рекомендуется](./strongly-encouraged-development-guidelines.md).</span><span class="sxs-lookup"><span data-stu-id="72878-114">For more information about cmdlet nouns, see [Cmdlet Declaration](./cmdlet-class-declaration.md) and [Strongly Encouraged Development Guidelines](./strongly-encouraged-development-guidelines.md).</span></span>

<span data-ttu-id="72878-115">`SupportsShouldProcess` ([System. Boolean](/dotnet/api/System.Boolean)) необязательный именованный параметр.</span><span class="sxs-lookup"><span data-stu-id="72878-115">`SupportsShouldProcess` ([System.Boolean](/dotnet/api/System.Boolean)) Optional named parameter.</span></span> <span data-ttu-id="72878-116">`True` Указывает, что командлет поддерживает вызовы метода [System. Management. Automation. командлета. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) , который предоставляет командлету способ запроса пользователя перед действием, которое изменяет систему.</span><span class="sxs-lookup"><span data-stu-id="72878-116">`True` indicates that the cmdlet supports calls to the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method, which provides the cmdlet with a way to prompt the user before an action that changes the system is performed.</span></span> <span data-ttu-id="72878-117">`False`значение по умолчанию указывает, что командлет не поддерживает вызовы метода [System. Management. Automation. командлет. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) .</span><span class="sxs-lookup"><span data-stu-id="72878-117">`False`, the default value, indicates that the cmdlet does not support calls to the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method.</span></span> <span data-ttu-id="72878-118">Дополнительные сведения о запросах на подтверждение см. в разделе [запрос подтверждения](./requesting-confirmation-from-cmdlets.md).</span><span class="sxs-lookup"><span data-stu-id="72878-118">For more information about confirmation requests, see [Requesting Confirmation](./requesting-confirmation-from-cmdlets.md).</span></span>

<span data-ttu-id="72878-119">`ConfirmImpact` ([System. Management. Automation. ConfirmImpact](/dotnet/api/System.Management.Automation.ConfirmImpact)) необязательный именованный параметр.</span><span class="sxs-lookup"><span data-stu-id="72878-119">`ConfirmImpact` ([System.Management.Automation.Confirmimpact](/dotnet/api/System.Management.Automation.ConfirmImpact)) Optional named parameter.</span></span> <span data-ttu-id="72878-120">Указывает, когда действие командлета должно быть подтверждено вызовом метода [System. Management. Automation. командлет. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) .</span><span class="sxs-lookup"><span data-stu-id="72878-120">Specifies when the action of the cmdlet should be confirmed by a call to the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method.</span></span> <span data-ttu-id="72878-121">Метод [System. Management. Automation. командлет. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) будет вызываться только тогда, когда значение ConfirmImpact командлета (по умолчанию) больше или равно значению `$ConfirmPreference` переменной.</span><span class="sxs-lookup"><span data-stu-id="72878-121">[System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) will only be called when the ConfirmImpact value of the cmdlet (by default, Medium) is equal to or greater than the value of the `$ConfirmPreference` variable.</span></span> <span data-ttu-id="72878-122">Этот параметр должен быть указан только в том случае, если `SupportsShouldProcess` указан параметр.</span><span class="sxs-lookup"><span data-stu-id="72878-122">This parameter should be specified only when the `SupportsShouldProcess` parameter is specified.</span></span>

<span data-ttu-id="72878-123">`DefaultParameterSetName` ([System. String](/dotnet/api/System.String)) необязательный именованный параметр.</span><span class="sxs-lookup"><span data-stu-id="72878-123">`DefaultParameterSetName` ([System.String](/dotnet/api/System.String)) Optional named parameter.</span></span> <span data-ttu-id="72878-124">Указывает набор параметров по умолчанию, который среда выполнения Windows PowerShell пытается использовать, если не может определить, какой набор параметров использовать.</span><span class="sxs-lookup"><span data-stu-id="72878-124">Specifies the default parameter set that the Windows PowerShell runtime attempts to use when it cannot determine which parameter set to use.</span></span> <span data-ttu-id="72878-125">Обратите внимание, что эту ситуацию можно устранить, сделав уникальный параметр для каждого параметра, устанавливая обязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="72878-125">Notice that this situation can be eliminated by making the unique parameter of each parameter set a mandatory parameter.</span></span>

<span data-ttu-id="72878-126">Существует один случай, когда Windows PowerShell не может использовать набор параметров по умолчанию, даже если задано имя набора параметров по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="72878-126">There is one case where Windows PowerShell cannot use the default parameter set even if a default parameter set name is specified.</span></span> <span data-ttu-id="72878-127">Среда выполнения Windows PowerShell не может отличить наборы параметров только от типа объекта.</span><span class="sxs-lookup"><span data-stu-id="72878-127">The Windows PowerShell runtime cannot distinguish between parameter sets based solely on object type.</span></span> <span data-ttu-id="72878-128">Например, если имеется один набор параметров, принимающий в качестве пути к файлу строку, и другой набор, который напрямую принимает объект **FileInfo** , Windows PowerShell не может определить, какой набор параметров следует использовать, на основе значений, переданных в командлет, и не использует набор параметров по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="72878-128">For example, if you have one parameter set that takes a string as the file path, and another set that takes a **FileInfo** object directly, Windows PowerShell cannot determine which parameter set to use based on the values passed to the cmdlet, nor does it use the default parameter set.</span></span> <span data-ttu-id="72878-129">В этом случае, даже если указать имя набора параметров по умолчанию, Windows PowerShell выдает неоднозначное сообщение об ошибке набора параметров.</span><span class="sxs-lookup"><span data-stu-id="72878-129">In this case, even if you specify a default parameter set name, Windows PowerShell throws an ambiguous parameter set error message.</span></span>

<span data-ttu-id="72878-130">`SupportsTransactions` ([System. Boolean](/dotnet/api/System.Boolean)) необязательный именованный параметр.</span><span class="sxs-lookup"><span data-stu-id="72878-130">`SupportsTransactions` ([System.Boolean](/dotnet/api/System.Boolean)) Optional named parameter.</span></span> <span data-ttu-id="72878-131">`True` Указывает, что командлет можно использовать в транзакции.</span><span class="sxs-lookup"><span data-stu-id="72878-131">`True` indicates that the cmdlet can be used within a transaction.</span></span> <span data-ttu-id="72878-132">Если `True` указан аргумент, среда выполнения Windows PowerShell добавляет `UseTransaction` параметр в список параметров командлета.</span><span class="sxs-lookup"><span data-stu-id="72878-132">When `True` is specified, the Windows PowerShell runtime adds the `UseTransaction` parameter to the parameter list of the cmdlet.</span></span> <span data-ttu-id="72878-133">`False`значение по умолчанию указывает, что командлет нельзя использовать в транзакции.</span><span class="sxs-lookup"><span data-stu-id="72878-133">`False`, the default value, indicates that the cmdlet cannot be used within a transaction.</span></span>

## <a name="remarks"></a><span data-ttu-id="72878-134">Комментарии</span><span class="sxs-lookup"><span data-stu-id="72878-134">Remarks</span></span>

- <span data-ttu-id="72878-135">Вместе команда и существительное используются для задания зарегистрированного командлета и вызова командлета в скрипте.</span><span class="sxs-lookup"><span data-stu-id="72878-135">Together, the verb and noun are used to identify your registered cmdlet and to invoke your cmdlet within a script.</span></span>

- <span data-ttu-id="72878-136">При вызове командлета из консоли Windows PowerShell команда напоминает следующую команду:</span><span class="sxs-lookup"><span data-stu-id="72878-136">When the cmdlet is invoked from the Windows PowerShell console, the command resembles the following command:</span></span>

<span data-ttu-id="72878-137">**Вербнаме — Науннаме**</span><span class="sxs-lookup"><span data-stu-id="72878-137">**VerbName-NounName**</span></span>

- <span data-ttu-id="72878-138">Все командлеты, изменяющие ресурсы за пределами Windows PowerShell, должны включать `SupportsShouldProcess` ключевое слово при объявлении атрибута командлета, что позволяет командлету вызвать метод [System. Management. Automation. командлет. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) перед выполнением командлетом действия.</span><span class="sxs-lookup"><span data-stu-id="72878-138">All cmdlets that change resources outside of Windows PowerShell should include the `SupportsShouldProcess` keyword when the Cmdlet attribute is declared, which allows the cmdlet to call the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method before the cmdlet performs its action.</span></span> <span data-ttu-id="72878-139">Если вызов [System. Management. Automation. командлет. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) возвращает `false` , действие не должно выполняться.</span><span class="sxs-lookup"><span data-stu-id="72878-139">If the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) call returns `false`, the action should not be taken.</span></span> <span data-ttu-id="72878-140">Дополнительные сведения о запросах подтверждения, создаваемых вызовом [System. Management. Automation. командлет. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) , см. в разделе [запрос подтверждения](./requesting-confirmation-from-cmdlets.md).</span><span class="sxs-lookup"><span data-stu-id="72878-140">For more information about the confirmation requests generated by the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) call, see [Requesting Confirmation](./requesting-confirmation-from-cmdlets.md).</span></span>

<span data-ttu-id="72878-141">`Confirm` `WhatIf` Параметры командлета и доступны только для командлетов, поддерживающих вызовы [System. Management. Automation. командлет. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) .</span><span class="sxs-lookup"><span data-stu-id="72878-141">The `Confirm` and `WhatIf` cmdlet parameters are available only for cmdlets that support [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) calls.</span></span>

## <a name="example"></a><span data-ttu-id="72878-142">Пример</span><span class="sxs-lookup"><span data-stu-id="72878-142">Example</span></span>

<span data-ttu-id="72878-143">Следующее определение класса использует атрибут командлета для определения класса .NET Framework для командлета **Get-proc** , который получает сведения о процессах, выполняемых на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="72878-143">The following class definition uses the Cmdlet attribute to identify the .NET Framework class for a **Get-Proc** cmdlet that retrieves information about the processes running on the local computer.</span></span>

```csharp
[Cmdlet(VerbsCommon.Get, "Proc")]
public class GetProcCommand : Cmdlet
```

<span data-ttu-id="72878-144">Дополнительные сведения о командлете **Get-proc** см. в [руководстве по процедуре INPROC](./getproc-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="72878-144">For more information about the **Get-Proc** cmdlet, see [GetProc Tutorial](./getproc-tutorial.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="72878-145">См. также</span><span class="sxs-lookup"><span data-stu-id="72878-145">See Also</span></span>

[<span data-ttu-id="72878-146">Запись командлета Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="72878-146">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
