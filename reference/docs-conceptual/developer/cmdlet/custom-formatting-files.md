---
title: Пользовательские файлы форматирования | Документация Майкрософт
ms.date: 09/13/2016
ms.openlocfilehash: a9633e2ee18e1817459645b4a5950ea8a622850b
ms.sourcegitcommit: 0907b8c6322d2c7c61b17f8168d53452c8964b41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2020
ms.locfileid: "87784356"
---
# <a name="custom-formatting-files"></a>Пользовательские файлы форматирования

Формат вывода объектов, возвращаемых командлетами, функциями и скриптами, определяется с помощью файлов форматирования (format.ps1XML-файлов). Некоторые из этих файлов предоставляются Windows PowerShell, чтобы определить формат представления по умолчанию для объектов, возвращаемых командлетами Windows PowerShell. Однако можно также создать собственные файлы форматирования, чтобы перезаписать форматы вывода по умолчанию или определить отображение объектов, возвращаемых собственными командами.

Windows PowerShell использует данные в этих файлах форматирования для определения того, что отображается и как форматируются данные. Отображаемые данные могут включать свойства объекта или значение блока скрипта.  Блоки сценариев используются, если требуется отобразить какое-либо значение, недоступное непосредственно из свойств объекта. Например, может потребоваться добавить значение двух свойств объекта и отобразить сумму в виде отдельного фрагмента данных. При написании собственного файла форматирования необходимо определить *представления* для объектов, которые необходимо отобразить. Можно определить одно представление для каждого объекта, можно определить одно представление для нескольких объектов или определить несколько представлений для одного и того же объекта. Количество представлений, которые можно определить, не ограничено.

> [!IMPORTANT]
> Файлы форматирования не определяют элементы объекта, возвращаемого в конвейер. При возврате объекта в конвейер все члены этого объекта становятся доступными.

## <a name="format-views"></a>Формат представления

Представления форматирования могут отображать объекты в табличном формате, формате списка, расширенном формате и пользовательском формате. В большей части каждое определение форматирования описывается набором XML-тегов, описывающих представление. Каждое представление содержит имя представления, объекты, использующие представление, и элементы представления, такие как сведения о столбцах и строках для табличного представления.

Доступны следующие представления.

Табличное представление содержит список свойств объекта или значения блока скрипта в одном или нескольких столбцах. Каждый столбец представляет свойство объекта или значение блока скрипта. Можно определить табличное представление, в котором отображаются все свойства объекта, подмножество свойств объекта или сочетание свойств и значений блока скрипта. Каждая строка таблицы представляет возвращаемый объект. Дополнительные сведения об этом представлении см. в разделе [табличное представление](../format/creating-a-table-view.md).

Представление списка содержит свойства объекта или значения блока скрипта в одном столбце. В каждой строке списка отображается необязательная метка или имя свойства, за которым следует значение свойства или блока скрипта. Дополнительные сведения об этом представлении см. в разделе [представление списка](../format/creating-a-list-view.md).

Расширенное представление перечисляет одно свойство объекта или значение блока скрипта в одном или нескольких столбцах. Для этого представления отсутствует метка или заголовок. Дополнительные сведения об этом представлении см. в разделе [широкие представления](../format/creating-a-wide-view.md).

Настраиваемое представление отображает настраиваемое представление свойств объекта или значений блока скрипта, которые не соответствуют жестким структурам табличных представлений, представлений списков или расширенных представлений. Можно определить отдельное пользовательское представление или определить пользовательское представление, используемое другим представлением, например табличное представление или представление списка. Дополнительные сведения об этом представлении см. в разделе [пользовательское представление](../format/creating-custom-controls.md).

## <a name="view-xml-elements"></a>Просмотр XML-элементов

В следующем примере показаны XML-теги, используемые для определения табличного представления, содержащего два столбца. Элемент [виевдефинитионс](../format/viewdefinitions-element-format.md) является элементом-контейнером для всех представлений, определенных в файле форматирования. Элемент [View](../format/view-element-format.md) определяет определенную таблицу, список, широкий или настраиваемое представление. В каждом представлении элемент [Name](../format/name-element-for-view-format.md) задает имя представления, элемент [виевселектедби](../format/viewselectedby-element-format.md) определяет объекты, использующие представление, а различные элементы управления (такие как `TableControl` элемент) определяют формат представления.

```xml
ViewDefinitions
  <View>
    <Name>Name of View</Name>
    <ViewSelectedBy>
      <TypeName>Object to display using this view</TypeName>
      <TypeName>Object to display using this view</TypeName>
    </ViewSelectedBy>
    <TableControl>
      <TableHeaders>
        <TableColumnHeader>
          <Width></Width>
        </TableColumnHeader>
        <TableColumnHeader>
          <Width></Width>
        </TableColumnHeader>
      </TableHeaders>
      <TableRowEntries>
        <TableRowEntry>
          <TableColumnItems>
            <TableColumnItem>
              <PropertyName>Header for column 1</PropertyName>
            </TableColumnItem>
            <TableColumnItem>
              <PropertyName>Header for column 2</PropertyName>
            </TableColumnItem>
          </TableColumnItems>
        </TableRowEntry>
      </TableRowEntries>
    </TableControl)
  </View>
</ViewDefinitions>

```

## <a name="see-also"></a>См. также:

[Табличное представление](../format/creating-a-table-view.md)

[Представление списка](../format/creating-a-list-view.md)

[Расширенное представление](../format/creating-a-wide-view.md)

[Пользовательское представление](../format/creating-custom-controls.md)

[Запись командлета Windows PowerShell](./writing-a-windows-powershell-cmdlet.md)
