---
ms.date: 09/13/2016
ms.topic: reference
title: Записи об ошибках Windows PowerShell
description: Записи об ошибках Windows PowerShell
ms.openlocfilehash: 899acf08508b1469b7ec3985d5665367fc2c1531
ms.sourcegitcommit: ba7315a496986451cfc1296b659d73ea2373d3f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "93355601"
---
# <a name="windows-powershell-error-records"></a><span data-ttu-id="cc02f-103">Записи об ошибках Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="cc02f-103">Windows PowerShell Error Records</span></span>

<span data-ttu-id="cc02f-104">Командлеты должны передавать объект [System. Management. Automation. ерроррекорд](/dotnet/api/System.Management.Automation.ErrorRecord) , который определяет условие ошибки для завершающих и устранимых ошибок.</span><span class="sxs-lookup"><span data-stu-id="cc02f-104">Cmdlets must pass an [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object that identifies the error condition for terminating and non-terminating errors.</span></span>

<span data-ttu-id="cc02f-105">Объект [System. Management. Automation. ерроррекорд](/dotnet/api/System.Management.Automation.ErrorRecord) содержит следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="cc02f-105">The [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object contains the following information:</span></span>

- <span data-ttu-id="cc02f-106">Исключение, описывающее ошибку.</span><span class="sxs-lookup"><span data-stu-id="cc02f-106">The exception that describes the error.</span></span> <span data-ttu-id="cc02f-107">Часто это исключение, которое командлет перехватывает и преобразует в запись об ошибке.</span><span class="sxs-lookup"><span data-stu-id="cc02f-107">Often, this is an exception that the cmdlet caught and converted into an error record.</span></span> <span data-ttu-id="cc02f-108">Каждая запись об ошибке должна содержать исключение.</span><span class="sxs-lookup"><span data-stu-id="cc02f-108">Every error record must contain an exception.</span></span>

<span data-ttu-id="cc02f-109">Если командлет не перехватывает исключение, он должен создать новое исключение и выбрать класс исключения, который наилучшим образом описывает условие ошибки.</span><span class="sxs-lookup"><span data-stu-id="cc02f-109">If the cmdlet did not catch an exception, it must create a new exception and choose the exception class that best describes the error condition.</span></span> <span data-ttu-id="cc02f-110">Однако исключение не требуется, так как доступ к нему можно получить с помощью свойства [System. Management. Automation. ерроррекорд. Exception](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) объекта [System. Management. Automation. ерроррекорд](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="cc02f-110">However, you do not need to throw the exception because it can be accessed through the [System.Management.Automation.ErrorRecord.Exception](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) property of the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

- <span data-ttu-id="cc02f-111">Идентификатор ошибки, предоставляющий целевой указатель, который может использоваться в целях диагностики и сценариях Windows PowerShell для обработки определенных условий ошибок с определенными обработчиками ошибок.</span><span class="sxs-lookup"><span data-stu-id="cc02f-111">An error identifier that provides a targeted designator that can be used for diagnostic purposes and by Windows PowerShell scripts to handle specific error conditions with specific error handlers.</span></span> <span data-ttu-id="cc02f-112">Каждая запись об ошибке должна содержать идентификатор ошибки (см. Идентификатор ошибки).</span><span class="sxs-lookup"><span data-stu-id="cc02f-112">Every error record must contain an error identifier (see Error Identifier).</span></span>

- <span data-ttu-id="cc02f-113">Категория ошибок, которая предоставляет общее обозначение, которое можно использовать в целях диагностики.</span><span class="sxs-lookup"><span data-stu-id="cc02f-113">An error category that provides a general designator that can be used for diagnostic purposes.</span></span>
  <span data-ttu-id="cc02f-114">Каждая запись об ошибке должна указывать категорию ошибок (см. раздел Категория ошибок).</span><span class="sxs-lookup"><span data-stu-id="cc02f-114">Every error record must specify an error category (see Error Category).</span></span>

- <span data-ttu-id="cc02f-115">Необязательное сообщение об ошибке замены и рекомендуемое действие (см. сообщение об ошибке замены).</span><span class="sxs-lookup"><span data-stu-id="cc02f-115">An optional replacement error message and a recommended action (see Replacement Error Message).</span></span>

- <span data-ttu-id="cc02f-116">Дополнительные сведения о вызове командлета, вызвавшего ошибку.</span><span class="sxs-lookup"><span data-stu-id="cc02f-116">Optional invocation information about the cmdlet that threw the error.</span></span> <span data-ttu-id="cc02f-117">Эти сведения указываются в Windows PowerShell (см. сообщение о вызове).</span><span class="sxs-lookup"><span data-stu-id="cc02f-117">This information is specified by Windows PowerShell (see Invocation Message).</span></span>

- <span data-ttu-id="cc02f-118">Целевой объект, который был обработан при возникновении ошибки.</span><span class="sxs-lookup"><span data-stu-id="cc02f-118">The target object that was being processed when the error occurred.</span></span> <span data-ttu-id="cc02f-119">Это может быть входной объект или другой объект, обрабатываемый командлетом.</span><span class="sxs-lookup"><span data-stu-id="cc02f-119">This might be the input object, or it might be another object that your cmdlet was processing.</span></span> <span data-ttu-id="cc02f-120">Например, для команды `remove-item -recurse c:\somedirectory` ошибка может быть экземпляром объекта FileInfo для "к:\сомедиректори\локкедфиле".</span><span class="sxs-lookup"><span data-stu-id="cc02f-120">For example, for the command `remove-item -recurse c:\somedirectory`, the error might be an instance of a FileInfo object for "c:\somedirectory\lockedfile".</span></span> <span data-ttu-id="cc02f-121">Сведения о целевом объекте являются необязательными.</span><span class="sxs-lookup"><span data-stu-id="cc02f-121">The target object information is optional.</span></span>

## <a name="error-identifier"></a><span data-ttu-id="cc02f-122">Идентификатор ошибки</span><span class="sxs-lookup"><span data-stu-id="cc02f-122">Error Identifier</span></span>

<span data-ttu-id="cc02f-123">При создании записи об ошибке укажите идентификатор, обозначающий условие ошибки в командлете.</span><span class="sxs-lookup"><span data-stu-id="cc02f-123">When you create an error record, specify an identifier that designates the error condition within your cmdlet.</span></span> <span data-ttu-id="cc02f-124">Windows PowerShell объединяет целевой идентификатор с именем командлета, чтобы создать полный идентификатор ошибки.</span><span class="sxs-lookup"><span data-stu-id="cc02f-124">Windows PowerShell combines the targeted identifier with the name of your cmdlet to create a fully qualified error identifier.</span></span> <span data-ttu-id="cc02f-125">Полный идентификатор ошибки можно получить с помощью свойства [System. Management. Automation. ерроррекорд. фулликуалифиедеррорид](/dotnet/api/System.Management.Automation.ErrorRecord.FullyQualifiedErrorId) объекта [System. Management. Automation. ерроррекорд](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="cc02f-125">The fully qualified error identifier can be accessed through the [System.Management.Automation.ErrorRecord.FullyQualifiedErrorId](/dotnet/api/System.Management.Automation.ErrorRecord.FullyQualifiedErrorId) property of the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span> <span data-ttu-id="cc02f-126">Идентификатор ошибки недоступен для самого себя.</span><span class="sxs-lookup"><span data-stu-id="cc02f-126">The error identifier is not available by itself.</span></span> <span data-ttu-id="cc02f-127">Он доступен только в составе полного идентификатора ошибки.</span><span class="sxs-lookup"><span data-stu-id="cc02f-127">It is available only as part of the fully qualified error identifier.</span></span>

<span data-ttu-id="cc02f-128">При создании записей об ошибках следуйте приведенным ниже рекомендациям по созданию идентификаторов ошибок.</span><span class="sxs-lookup"><span data-stu-id="cc02f-128">Use the following guidelines to generate error identifiers when you create error records:</span></span>

- <span data-ttu-id="cc02f-129">Создание идентификаторов ошибок, относящихся к условию ошибки.</span><span class="sxs-lookup"><span data-stu-id="cc02f-129">Make error identifiers specific to an error condition.</span></span> <span data-ttu-id="cc02f-130">Нацеливание идентификаторов ошибок для целей диагностики и скриптов, которые обрабатывали определенные условия ошибок с помощью конкретных обработчиков ошибок.</span><span class="sxs-lookup"><span data-stu-id="cc02f-130">Target the error identifiers for diagnostic purposes and for scripts that handle specific error conditions with specific error handlers.</span></span> <span data-ttu-id="cc02f-131">Пользователь должен иметь возможность использовать идентификатор ошибки для идентификации ошибки и ее источника.</span><span class="sxs-lookup"><span data-stu-id="cc02f-131">A user should be able to use the error identifier to identify the error and its source.</span></span> <span data-ttu-id="cc02f-132">Идентификаторы ошибок также позволяют создавать отчеты о конкретных условиях ошибок из существующих исключений, чтобы новые подклассы исключений не требовались.</span><span class="sxs-lookup"><span data-stu-id="cc02f-132">Error identifiers also enable reporting for specific error conditions from existing exceptions so that new exception subclasses are not required.</span></span>

- <span data-ttu-id="cc02f-133">В общем случае назначьте разные идентификаторы ошибок разным путям кода.</span><span class="sxs-lookup"><span data-stu-id="cc02f-133">In general, assign different error identifiers to different code paths.</span></span> <span data-ttu-id="cc02f-134">Преимущества конечных пользователей от конкретных идентификаторов.</span><span class="sxs-lookup"><span data-stu-id="cc02f-134">The end-user benefits from specific identifiers.</span></span> <span data-ttu-id="cc02f-135">Часто каждый путь кода, вызывающий [System. Management. Automation. командлет. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) или [System. Management. Automation. командлет. ThrowTerminatingError \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) , имеет свой собственный идентификатор.</span><span class="sxs-lookup"><span data-stu-id="cc02f-135">Often, each code path that calls [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) has its own identifier.</span></span> <span data-ttu-id="cc02f-136">В качестве правила определите новый идентификатор при определении новой строки шаблона для сообщения об ошибке и наоборот.</span><span class="sxs-lookup"><span data-stu-id="cc02f-136">As a rule, define a new identifier when you define a new template string for the error message, and vice-versa.</span></span> <span data-ttu-id="cc02f-137">Не используйте сообщение об ошибке в качестве идентификатора.</span><span class="sxs-lookup"><span data-stu-id="cc02f-137">Do not use the error message as an identifier.</span></span>

- <span data-ttu-id="cc02f-138">При публикации кода с использованием определенного идентификатора ошибки вы устанавливаете семантику ошибок с этим идентификатором для полного жизненного цикла поддержки продукта.</span><span class="sxs-lookup"><span data-stu-id="cc02f-138">When you publish code using a particular error identifier, you establish the semantics of errors with that identifier for your complete product support lifecycle.</span></span> <span data-ttu-id="cc02f-139">Не используйте его в контексте, который семантически отличается от исходного контекста.</span><span class="sxs-lookup"><span data-stu-id="cc02f-139">Do not reuse it in a context that is semantically different from the original context.</span></span> <span data-ttu-id="cc02f-140">При изменении семантики этой ошибки создайте и затем используйте новый идентификатор.</span><span class="sxs-lookup"><span data-stu-id="cc02f-140">If the semantics of this error change, create and then use a new identifier.</span></span>

- <span data-ttu-id="cc02f-141">Обычно конкретный идентификатор ошибки следует использовать только для исключений определенного типа CLR.</span><span class="sxs-lookup"><span data-stu-id="cc02f-141">You should generally use a particular error identifier only for exceptions of a particular CLR type.</span></span> <span data-ttu-id="cc02f-142">Если тип исключения или тип целевого объекта изменяется, создайте и используйте новый идентификатор.</span><span class="sxs-lookup"><span data-stu-id="cc02f-142">If the type of the exception or the type of the target object changes, create and then use a new identifier.</span></span>

- <span data-ttu-id="cc02f-143">Выберите текст для идентификатора ошибки, который кратко соответствует ошибке, о которой вы сообщаете.</span><span class="sxs-lookup"><span data-stu-id="cc02f-143">Choose text for your error identifier that concisely corresponds to the error that you are reporting.</span></span> <span data-ttu-id="cc02f-144">Используйте стандартные .NET Framework соглашения об именовании и капитализации.</span><span class="sxs-lookup"><span data-stu-id="cc02f-144">Use standard .NET Framework naming and capitalization conventions.</span></span> <span data-ttu-id="cc02f-145">Не используйте пробелы или знаки препинания.</span><span class="sxs-lookup"><span data-stu-id="cc02f-145">Do not use white space or punctuation.</span></span> <span data-ttu-id="cc02f-146">Не следует локализовать идентификаторы ошибок.</span><span class="sxs-lookup"><span data-stu-id="cc02f-146">Do not localize error identifiers.</span></span>

- <span data-ttu-id="cc02f-147">Не следует динамически создавать идентификаторы ошибок невоспроизводимым способом.</span><span class="sxs-lookup"><span data-stu-id="cc02f-147">Do not dynamically generate error identifiers in a non-reproducible way.</span></span> <span data-ttu-id="cc02f-148">Например, не следует включать сведения об ошибке, такие как идентификатор процесса.</span><span class="sxs-lookup"><span data-stu-id="cc02f-148">For example, do not incorporate error information such as a process ID.</span></span> <span data-ttu-id="cc02f-149">Идентификаторы ошибок полезны только в том случае, если они соответствуют идентификаторам ошибок, видимым другим пользователям, которые столкнулись с тем же условием ошибки.</span><span class="sxs-lookup"><span data-stu-id="cc02f-149">Error identifiers are useful only if they correspond to the error identifiers seen by other users who are experiencing the same error condition.</span></span>

## <a name="error-category"></a><span data-ttu-id="cc02f-150">Категория ошибки</span><span class="sxs-lookup"><span data-stu-id="cc02f-150">Error Category</span></span>

<span data-ttu-id="cc02f-151">При создании записи об ошибке укажите категорию ошибки с помощью одной из констант, определенных перечислением [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) .</span><span class="sxs-lookup"><span data-stu-id="cc02f-151">When you create an error record, specify the category of the error using one of the constants defined by the [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="cc02f-152">Windows PowerShell использует категорию ошибок для вывода сведений об ошибках, когда пользователь присваивает `$ErrorView` переменной значение `"CategoryView"` .</span><span class="sxs-lookup"><span data-stu-id="cc02f-152">Windows PowerShell uses the error category to display error information when users set the `$ErrorView` variable to `"CategoryView"`.</span></span>

<span data-ttu-id="cc02f-153">Старайтесь не использовать константу [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) 
 **NotSpecified** .</span><span class="sxs-lookup"><span data-stu-id="cc02f-153">Avoid using the [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory)
**NotSpecified** constant.</span></span> <span data-ttu-id="cc02f-154">Если у вас есть какие-либо сведения об ошибке или об операции, вызвавшей ошибку, выберите категорию, которая лучше описывает ошибку или операцию, даже если категория не является идеальным соответствием.</span><span class="sxs-lookup"><span data-stu-id="cc02f-154">If you have any information about the error or about the operation that caused the error, choose the category that best describes the error or the operation, even if the category is not a perfect match.</span></span>

<span data-ttu-id="cc02f-155">Информация, отображаемая Windows PowerShell, называется строкой представления категории и строится на основе свойств класса [System. Management. Automation. ерроркатегоринфо](/dotnet/api/System.Management.Automation.ErrorCategoryInfo) .</span><span class="sxs-lookup"><span data-stu-id="cc02f-155">The information displayed by Windows PowerShell is referred to as the category-view string and is built from the properties of the [System.Management.Automation.Errorcategoryinfo](/dotnet/api/System.Management.Automation.ErrorCategoryInfo) class.</span></span> <span data-ttu-id="cc02f-156">(Доступ к этому классу осуществляется через свойство Error [System. Management. Automation. ерроррекорд. CategoryInfo](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) .)</span><span class="sxs-lookup"><span data-stu-id="cc02f-156">(This class is accessed through the error [System.Management.Automation.ErrorRecord.CategoryInfo](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) property.)</span></span>

```
{Category}: ({TargetName}:{TargetType}):[{Activity}], {Reason}
```

<span data-ttu-id="cc02f-157">В следующем списке описаны отображаемые сведения.</span><span class="sxs-lookup"><span data-stu-id="cc02f-157">The following list describes the information displayed:</span></span>

- <span data-ttu-id="cc02f-158">Category: константа [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) , определяемая Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="cc02f-158">Category: A Windows PowerShell-defined [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) constant.</span></span>

- <span data-ttu-id="cc02f-159">TargetName: по умолчанию имя объекта, обрабатываемого командлетом при возникновении ошибки.</span><span class="sxs-lookup"><span data-stu-id="cc02f-159">TargetName: By default, the name of the object the cmdlet was processing when the error occurred.</span></span>
  <span data-ttu-id="cc02f-160">Или другая строка, определяемая командлетом.</span><span class="sxs-lookup"><span data-stu-id="cc02f-160">Or, another cmdlet-defined string.</span></span>

- <span data-ttu-id="cc02f-161">TargetType: по умолчанию это тип целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="cc02f-161">TargetType: By default, the type of the target object.</span></span> <span data-ttu-id="cc02f-162">Или другая строка, определяемая командлетом.</span><span class="sxs-lookup"><span data-stu-id="cc02f-162">Or, another cmdlet-defined string.</span></span>

- <span data-ttu-id="cc02f-163">Действие: по умолчанию имя командлета, создавшего запись об ошибке.</span><span class="sxs-lookup"><span data-stu-id="cc02f-163">Activity: By default, the name of the cmdlet that created the error record.</span></span> <span data-ttu-id="cc02f-164">Или другая строка, определяемая командлетом.</span><span class="sxs-lookup"><span data-stu-id="cc02f-164">Or, some other cmdlet-defined string.</span></span>

- <span data-ttu-id="cc02f-165">Причина: по умолчанию это тип исключения.</span><span class="sxs-lookup"><span data-stu-id="cc02f-165">Reason: By default, the exception type.</span></span> <span data-ttu-id="cc02f-166">Или другая строка, определяемая командлетом.</span><span class="sxs-lookup"><span data-stu-id="cc02f-166">Or, another cmdlet-defined string.</span></span>

## <a name="replacement-error-message"></a><span data-ttu-id="cc02f-167">Сообщение об ошибке замены</span><span class="sxs-lookup"><span data-stu-id="cc02f-167">Replacement Error Message</span></span>

<span data-ttu-id="cc02f-168">При разработке записи об ошибке для командлета сообщение об ошибке по умолчанию поступает из текста сообщения по умолчанию в свойстве [System. Exception. Message](/dotnet/api/System.Exception.Message) .</span><span class="sxs-lookup"><span data-stu-id="cc02f-168">When you develop an error record for a cmdlet, the default error message for the error comes from the default message text in the [System.Exception.Message](/dotnet/api/System.Exception.Message) property.</span></span> <span data-ttu-id="cc02f-169">Это свойство только для чтения, текст сообщения которого предназначен только для целей отладки (в соответствии с рекомендациями .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="cc02f-169">This is a read-only property whose message text is intended only for debugging purposes (according to the .NET Framework guidelines).</span></span> <span data-ttu-id="cc02f-170">Рекомендуется создать сообщение об ошибке, которое заменит или дополнит текст сообщения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cc02f-170">We recommend that you create an error message that replaces or augments the default message text.</span></span> <span data-ttu-id="cc02f-171">Сделайте сообщение более понятным для пользователя и более конкретным для командлета.</span><span class="sxs-lookup"><span data-stu-id="cc02f-171">Make the message more user-friendly and more specific to the cmdlet.</span></span>

<span data-ttu-id="cc02f-172">Заменяющее сообщение предоставляется объектом [System. Management. Automation. ErrorDetails](/dotnet/api/System.Management.Automation.ErrorDetails) .</span><span class="sxs-lookup"><span data-stu-id="cc02f-172">The replacement message is provided by an [System.Management.Automation.ErrorDetails](/dotnet/api/System.Management.Automation.ErrorDetails) object.</span></span> <span data-ttu-id="cc02f-173">Используйте один из следующих конструкторов этого объекта, так как они предоставляют дополнительные сведения о локализации, которые могут использоваться Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="cc02f-173">Use one of the following constructors of this object because they provide additional localization information that can be used by Windows PowerShell.</span></span>

- <span data-ttu-id="cc02f-174">[ErrorDetails (командлет, строка, строка, объект [])](/dotnet/api/system.management.automation.errordetails.-ctor#System_Management_Automation_ErrorDetails__ctor_System_Management_Automation_Cmdlet_System_String_System_String_System_Object___). Используйте этот конструктор, если строка шаблона является строкой ресурса в той же сборке, в которой реализуется командлет, или если требуется загрузить строку шаблона с помощью переопределения метода [System. Management. Automation. командлета. жетресаурцестринг](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString) .</span><span class="sxs-lookup"><span data-stu-id="cc02f-174">[ErrorDetails(Cmdlet, String, String, Object[])](/dotnet/api/system.management.automation.errordetails.-ctor#System_Management_Automation_ErrorDetails__ctor_System_Management_Automation_Cmdlet_System_String_System_String_System_Object___): Use this constructor if your template string is a resource string in the same assembly in which the cmdlet is implemented or if you want to load the template string through an override of the [System.Management.Automation.Cmdlet.GetResourceString](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString) method.</span></span>

- <span data-ttu-id="cc02f-175">[ErrorDetails (сборка, строка, строка, объект [])](/dotnet/api/system.management.automation.errordetails.-ctor#System_Management_Automation_ErrorDetails__ctor_System_Reflection_Assembly_System_String_System_String_System_Object___): Используйте этот конструктор, если строка шаблона находится в другой сборке и вы не загрузили ее с помощью переопределения [System. Management. Automation. командлета. жетресаурцестринг](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString).</span><span class="sxs-lookup"><span data-stu-id="cc02f-175">[ErrorDetails(Assembly, String, String, Object[])](/dotnet/api/system.management.automation.errordetails.-ctor#System_Management_Automation_ErrorDetails__ctor_System_Reflection_Assembly_System_String_System_String_System_Object___): Use this constructor if the template string is in another assembly and you do not load it through an override of [System.Management.Automation.Cmdlet.GetResourceString](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString).</span></span>

<span data-ttu-id="cc02f-176">Сообщение о замене должно соответствовать .NET Framework правилам проектирования для написания сообщений об исключениях с небольшими различиями.</span><span class="sxs-lookup"><span data-stu-id="cc02f-176">The replacement message should conform to the .NET Framework design guidelines for writing exception messages with a small difference.</span></span> <span data-ttu-id="cc02f-177">Рекомендации о том, что сообщения об исключениях должны быть написаны для разработчиков.</span><span class="sxs-lookup"><span data-stu-id="cc02f-177">The guidelines state that exception messages should be written for developers.</span></span> <span data-ttu-id="cc02f-178">Эти замещающие сообщения должны быть написаны для пользователя командлета.</span><span class="sxs-lookup"><span data-stu-id="cc02f-178">These replacement messages should be written for the cmdlet user.</span></span>

<span data-ttu-id="cc02f-179">Сообщение об ошибке замены должно быть добавлено перед вызовом методов [System. Management. Automation. командлет. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) или [System. Management. Automation. командлета. ThrowTerminatingError \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) .</span><span class="sxs-lookup"><span data-stu-id="cc02f-179">The replacement error message must be added before the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) methods are called.</span></span> <span data-ttu-id="cc02f-180">Чтобы добавить заменяющее сообщение, задайте свойство [System. Management. Automation. ерроррекорд. ErrorDetails](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails) записи об ошибке.</span><span class="sxs-lookup"><span data-stu-id="cc02f-180">To add a replacement message, set the [System.Management.Automation.ErrorRecord.ErrorDetails](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails) property of the error record.</span></span> <span data-ttu-id="cc02f-181">Если это свойство задано, Windows PowerShell отображает свойство [System. Management. Automation. ErrorDetails. Message \*](/dotnet/api/System.Management.Automation.ErrorDetails.Message) вместо текста сообщения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cc02f-181">When this property is set, Windows PowerShell displays the [System.Management.Automation.ErrorDetails.Message\*](/dotnet/api/System.Management.Automation.ErrorDetails.Message) property instead of the default message text.</span></span>

## <a name="recommended-action-information"></a><span data-ttu-id="cc02f-182">Рекомендуемые сведения о действии</span><span class="sxs-lookup"><span data-stu-id="cc02f-182">Recommended Action Information</span></span>

<span data-ttu-id="cc02f-183">Объект [System. Management. Automation. ErrorDetails](/dotnet/api/System.Management.Automation.ErrorDetails) также может предоставлять сведения о том, какие действия рекомендуются при возникновении ошибки.</span><span class="sxs-lookup"><span data-stu-id="cc02f-183">The [System.Management.Automation.ErrorDetails](/dotnet/api/System.Management.Automation.ErrorDetails) object can also provide information about what actions are recommended when the error occurs.</span></span>

## <a name="invocation-information"></a><span data-ttu-id="cc02f-184">Сведения о вызове</span><span class="sxs-lookup"><span data-stu-id="cc02f-184">Invocation information</span></span>

<span data-ttu-id="cc02f-185">Если командлет использует [System. Management. Automation. командлет. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) или [System. Management. Automation. командлет. ThrowTerminatingError \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) для передачи записи об ошибке, Windows PowerShell автоматически добавляет сведения, описывающие команду, которая была вызвана при возникновении ошибки.</span><span class="sxs-lookup"><span data-stu-id="cc02f-185">When a cmdlet uses [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) to report an error record, Windows PowerShell automatically adds information that describes the command that was invoked when the error occurred.</span></span> <span data-ttu-id="cc02f-186">Эта информация предоставляется объектом [System. Management. Automation. инвокатионинфо](/dotnet/api/System.Management.Automation.InvocationInfo) , который содержит имя командлета, который был вызван командой, самой командой, а также сведения о конвейере или скрипте.</span><span class="sxs-lookup"><span data-stu-id="cc02f-186">This information is provided by a [System.Management.Automation.Invocationinfo](/dotnet/api/System.Management.Automation.InvocationInfo) object that contains the name of the cmdlet that was invoked by the command, the command itself, and information about the pipeline or script.</span></span> <span data-ttu-id="cc02f-187">Это свойство доступно только для чтения.</span><span class="sxs-lookup"><span data-stu-id="cc02f-187">This property is read-only.</span></span>

## <a name="see-also"></a><span data-ttu-id="cc02f-188">См. также:</span><span class="sxs-lookup"><span data-stu-id="cc02f-188">See Also</span></span>

[<span data-ttu-id="cc02f-189">System. Management. Automation. командлет. WriteError</span><span class="sxs-lookup"><span data-stu-id="cc02f-189">System.Management.Automation.Cmdlet.WriteError</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)

[<span data-ttu-id="cc02f-190">System. Management. Automation. командлет. ThrowTerminatingError \*</span><span class="sxs-lookup"><span data-stu-id="cc02f-190">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError)

[<span data-ttu-id="cc02f-191">System. Management. Automation. ErrorCategory</span><span class="sxs-lookup"><span data-stu-id="cc02f-191">System.Management.Automation.ErrorCategory</span></span>](/dotnet/api/System.Management.Automation.ErrorCategory)

[<span data-ttu-id="cc02f-192">System. Management. Automation. Ерроркатегоринфо</span><span class="sxs-lookup"><span data-stu-id="cc02f-192">System.Management.Automation.Errorcategoryinfo</span></span>](/dotnet/api/System.Management.Automation.ErrorCategoryInfo)

[<span data-ttu-id="cc02f-193">System. Management. Automation. Ерроррекорд</span><span class="sxs-lookup"><span data-stu-id="cc02f-193">System.Management.Automation.ErrorRecord</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord)

[<span data-ttu-id="cc02f-194">System. Management. Automation. ErrorDetails</span><span class="sxs-lookup"><span data-stu-id="cc02f-194">System.Management.Automation.ErrorDetails</span></span>](/dotnet/api/System.Management.Automation.ErrorDetails)

[<span data-ttu-id="cc02f-195">System. Management. Automation. Инвокатионинфо</span><span class="sxs-lookup"><span data-stu-id="cc02f-195">System.Management.Automation.Invocationinfo</span></span>](/dotnet/api/System.Management.Automation.InvocationInfo)

[<span data-ttu-id="cc02f-196">Отчеты об ошибках Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="cc02f-196">Windows PowerShell Error Reporting</span></span>](./error-reporting-concepts.md)

[<span data-ttu-id="cc02f-197">Запись командлета Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="cc02f-197">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
