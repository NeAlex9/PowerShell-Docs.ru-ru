---
title: Как добавить синтаксис в раздел справки для командлета
ms.date: 09/12/2016
ms.openlocfilehash: 3457341a577b283bf3da5dc010de9bbbb36b78d2
ms.sourcegitcommit: de59ff77c6535fc772c1e327b3c823295eaed6ea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/22/2020
ms.locfileid: "86893056"
---
# <a name="how-to-add-syntax-to-a-cmdlet-help-topic"></a>Как добавить синтаксис в раздел справки для командлета

Прежде чем начать код XML для схемы синтаксиса в файле справки по командлетам, прочтите этот раздел, чтобы получить четкое представление о типе данных, которые необходимо предоставить, например атрибуты параметров, а также способ отображения данных на схеме синтаксиса.

## <a name="parameter-attributes"></a>Атрибуты параметра

- Обязательное
  - Если значение — true, параметр должен отображаться во всех командах, использующих набор параметров.
  - Если значение равно false, параметр является необязательным во всех командах, использующих набор параметров.
- Положение
  - Если задано имя, необходимо указать параметр Name.
  - При позиционировании имя параметра является необязательным. Если он не указан, значение параметра должно находиться в указанной положении в команде. Например, если значение равно "1", значение параметра должно быть первым или единственным неименованным значением параметра в команде.
- Входные данные конвейера
  - Если true (Бивалуе), можно передать входные данные в параметр. Входные данные связаны с параметром ("привязано к"), даже если имя свойства и тип объекта не соответствуют ожидаемому типу.
    Компоненты привязки параметров PowerShell пытаются преобразовать входные данные в правильный тип и завершить команду только в том случае, если тип не может быть преобразован. Только один параметр в наборе параметров может быть связан по значению.
  - Если true (Бипропертинаме), можно передать входные данные в параметр. Однако входные данные связываются с параметром только в том случае, если имя параметра совпадает с именем свойства входного объекта. Например, если имя параметра — `Path` , объекты, переданный в командлет, связываются с этим параметром только в том случае, если у объекта есть свойство с именем path.
  - Если true (Бивалуе, Бипропертинаме), можно передать входные данные в параметр по имени свойства или по значению. Только один параметр в наборе параметров может быть связан по значению.
  - Если значение равно false, нельзя передавать входные данные в этот параметр.
- Глобализации
  - Если значение — true, текст, который пользователь вводит в качестве значения параметра, может содержать подстановочные знаки.
  - Если значение равно false, то текст, который пользователь вводит в качестве значения параметра, не может содержать подстановочные знаки.

### <a name="parameter-value-attributes"></a>Атрибуты значения параметра

- Обязательное
  - Если значение — true, указанное значение должно использоваться при использовании параметра в команде.
  - При значении false значение параметра является необязательным. Как правило, значение является необязательным, только если оно является одним из нескольких допустимых значений для параметра, например в перечислимом типе.

**Обязательный** атрибут значения параметра отличается от **обязательного** атрибута параметра.

Обязательный атрибут параметра указывает, следует ли включать параметр (и его значение) при вызове командлета. В отличие от этого, обязательный атрибут значения параметра используется только в том случае, если параметр включен в команду. Указывает, следует ли использовать это конкретное значение с параметром.

Обычно значения параметров, которые являются заполнителями, являются обязательными, а значения параметров, являющиеся литералом, не являются обязательными, так как они являются одним из нескольких значений, которые могут использоваться с параметром.

### <a name="gathering-syntax-information"></a>Сбор сведений о синтаксисе

1. Начните с имени командлета.

   ```
   SYNTAX
       Get-Tech
   ```

1. Перечислите все параметры командлета. Введите дефис ( `-` ) (ASCII 45) перед именем каждого параметра.
   Разделите параметры на наборы параметров (некоторые командлеты могут иметь только один набор параметров). В этом примере командлет Get-Tech имеет два набора параметров.

   ```
   SYNTAX
       Get-Tech -name -type
       Get-Tech -ID -list -type
   ```

   Запустите каждый набор параметров с именем командлета.

   Сначала укажите набор параметров по умолчанию. Параметр по умолчанию задается классом командлета.

   Для каждого набора параметров сначала укажите его уникальный параметр, если не существуют параметры, которые должны отображаться первыми. В предыдущем примере параметры Name и ID являются уникальными параметрами для двух наборов параметров (каждый набор параметров должен иметь один параметр, уникальный для этого набора параметров). Это упрощает пользователям определение того, какой параметр необходимо предоставить для набора параметров.

   Перечислите параметры в том порядке, в котором они должны отображаться в команде. Если порядок не имеет значения, перечислите связанные параметры вместе или сначала перечислите наиболее часто используемые параметры.

   Обязательно перечислите параметры WhatIf и Confirm, если командлет поддерживает ShouldProcess.

   Не перечислите общие параметры (например, Verbose, Debug и ErrorAction) в схеме синтаксиса. `Get-Help`Командлет добавляет эти сведения при отображении раздела справки.

1. Добавьте значения параметров. В PowerShell значения параметров представлены их типом .NET.
   Однако имя типа может быть сокращено, например "String" для System. String.

   ```
   SYNTAX
       Get-Tech -name string -type basic advanced
       Get-Tech -ID int -list -type basic advanced
   ```

   Сокращенные типы при условии, что их смысл является понятным, например **String** для **System. String** и **int** для **System. Int32**.

   Перечислите все значения перечислений, например `-type` параметр в предыдущем примере, для которого можно задать значение **Basic** или **Advanced**.

   Параметры коммутатора, например, `-list` в предыдущем примере, не имеют значений.

1. Добавьте угловые скобки в значения параметров, которые являются заполнителями, по сравнению со значениями параметров, которые являются литералами.

   ```
   SYNTAX
       Get-Tech -name <string> -type basic advanced
       Get-Tech -ID <int> -list -type basic advanced
   ```

1. Заключите необязательные параметры и их а также корректируются в квадратные скобки.

   ```
   SYNTAX
       Get-Tech -name <string> [-type basic advanced]
       Get-Tech -ID <int> [-list] [-type basic advanced]
   ```

1. Заключите имена необязательных параметров (для параметров позиционирования) в квадратные скобки. Имя для параметров, которые являются позиционированными, например параметр Name в следующем примере, не обязательно включать в команду.

   ```
   SYNTAX
       Get-Tech [-name] <string> [-type basic advanced]
       Get-Tech -ID <int> [-list] [-type basic advanced]
   ```

1. Если значение параметра может содержать несколько значений, например список имен в параметре name, добавьте пару квадратных скобок непосредственно после значения параметра.

   ```
   SYNTAX
       Get-Tech [-name] <string[]> [-type basic advanced]
       Get-Tech -ID <int[]> [-list] [-type basic advanced]
   ```

1. Если пользователь может выбрать один из параметров или значений параметров, например параметр типа, заключите варианты в фигурные скобки и разделите их символом или (;).

   ```
   SYNTAX
       Get-Tech [-name] <string[]> [-type {basic | advanced}]
       Get-Tech -ID <int[]> [-list] [-type {basic | advanced}]
   ```

1. Если значение параметра должно использовать определенное форматирование, например кавычки или круглые скобки, то в синтаксисе отображается формат.

   ```
   SYNTAX
       Get-Tech [-name] <"string[]"> [-type {basic | advanced}]
       Get-Tech -ID <int[]> [-list] [-type {basic | advanced}]
   ```

## <a name="coding-the-syntax-diagram-xml"></a>Кодирование XML-кода схемы синтаксиса

Узел синтаксиса XML начинается сразу после узла Description, который заканчивается `</maml:description>` тегом. Сведения о сборе данных, используемых в схеме синтаксиса, см. в разделе [сбор сведений о синтаксисе](#gathering-syntax-information).

### <a name="adding-a-syntax-node"></a>Добавление синтаксического узла

Схема синтаксиса, отображаемая в разделе справки по командлетам, создается на основе данных в узле синтаксиса XML. Узел синтаксиса заключен в пары, если `<command:syntax>` теги. С каждым набором параметров командлета, заключенного в пару `<command:syntaxitem>` тегов. Количество `<command:syntaxitem>` тегов, которые можно добавить, не ограничено.

В следующем примере показан узел синтаксиса, который содержит узлы элементов синтаксиса для двух наборов параметров.

```xml
<command:syntax>
  <command:syntaxItem>
    ...
    <!--Parameter Set 1 (default parameter set) parameters go here-->
    ...
  </command:syntaxItem>
  <command:syntaxItem>
    ...
    <!--Parameter Set 2 parameters go here-->
    ...
  </command:syntaxItem>
</command:syntax>
```

### <a name="adding-the-cmdlet-name-to-the-parameter-set-data"></a>Добавление имени командлета в данные набора параметров

Каждый набор параметров командлета указывается в узле элемента синтаксиса. Каждый узел элемента синтаксиса начинается с пары `<maml:name>` тегов, включающих имя командлета.

Следующий пример включает узел синтаксиса, который содержит узлы элементов синтаксиса для двух наборов параметров.

```xml
<command:syntax>
  <command:syntaxItem>
    <maml:name>Cmdlet-Name</maml:name>
  </command:syntaxItem>
  <command:syntaxItem>
    <maml:name>Cmdlet-Name</maml:name>
  </command:syntaxItem>
</command:syntax>
```

### <a name="adding-parameters"></a>Добавление параметров

Каждый параметр, добавляемый в узел элемента синтаксиса, указывается в паре `<command:parameter>` тегов. `<command:parameter>`Для каждого параметра, включенного в набор параметров, требуется пара тегов, за исключением общих параметров, предоставляемых PowerShell.

Атрибуты открывающего `<command:parameter>` тега определяют, как параметр отображается на схеме синтаксиса. Дополнительные сведения об атрибутах параметров см. в разделе [атрибуты параметров](#parameter-attributes).

> [!NOTE]
> `<command:parameter>`Тег поддерживает дочерний элемент `<maml:description>` , содержимое которого никогда не отображается. Описания параметров указываются в узле параметров XML. Чтобы избежать несоответствий между данными в элементе синтаксиса бодес и узлом Parameter, опустите ( `<maml:description>` или оставьте его пустым.

Следующий пример включает узел элемента синтаксиса для набора параметров с двумя параметрами.

```xml
<command:syntaxItem>
  <maml:name>Cmdlet-Name</maml:name>
  <command:parameter required="true" globbing="true"
    pipelineInput="true (ByValue)" position="1">
    <maml:name>ParameterName1</maml:name>
    <command:parameterValue required="true">
      string[]
    </command:parameterValue>
  </command:parameter>
  <command:parameter required="true" globbing="true"
    pipelineInput="true (ByPropertyName)">
    <maml:name>ParameterName2</maml:name>
    <command:parameterValue required="true">
      int32[]
    </command:parameterValue>
  </command:parameter>
</command:syntaxItem>
```
