# <a name="whats-new-in-powershell-core-60"></a><span data-ttu-id="8ffb8-101">Новые возможности PowerShell Core 6.0</span><span class="sxs-lookup"><span data-stu-id="8ffb8-101">What's New in PowerShell Core 6.0</span></span>

<span data-ttu-id="8ffb8-102">[Core PowerShell 6.0][github] — это новый выпуск PowerShell, который является кроссплатформенным (Windows, macOS и Linux), обладает открытым исходным кодом и предназначен для разнородных сред и гибридного облака.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-102">[PowerShell Core 6.0][github] is a new edition of PowerShell that is cross-platform (Windows, macOS, and Linux), open-source, and built for heterogeneous environments and the hybrid cloud.</span></span>

## <a name="moved-from-net-framework-to-net-core"></a><span data-ttu-id="8ffb8-103">Переход с .NET Framework на .NET Core</span><span class="sxs-lookup"><span data-stu-id="8ffb8-103">Moved from .NET Framework to .NET Core</span></span>

<span data-ttu-id="8ffb8-104">PowerShell Core использует [.NET Core 2.0][] в качестве среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-104">PowerShell Core uses [.NET Core 2.0][] as its runtime.</span></span>
<span data-ttu-id="8ffb8-105">.NET Core 2.0 позволяет PowerShell Core работать на различных платформах (Windows, macOS и Linux).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-105">.NET Core 2.0 enables PowerShell Core to work on multiple platforms (Windows, macOS, and Linux).</span></span>
<span data-ttu-id="8ffb8-106">PowerShell Core также предлагает набор API, предоставляемый .NET Core 2.0 для использования в командлетах и сценариях PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-106">PowerShell Core also exposes the API set offered by .NET Core 2.0 to be used in PowerShell cmdlets and scripts.</span></span>

<span data-ttu-id="8ffb8-107">Продукт Windows PowerShell использовал среду выполнения .NET Framework для размещения подсистемы PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-107">Windows PowerShell used the .NET Framework runtime to host the PowerShell engine.</span></span>
<span data-ttu-id="8ffb8-108">Это означает, что Windows PowerShell предлагает набор API, предоставляемый платформой .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-108">This means that Windows PowerShell exposes the API set offered by .NET Framework.</span></span>

<span data-ttu-id="8ffb8-109">API, используемые .NET Core и .NET Framework совместо, определены как часть [.NET Standard][].</span><span class="sxs-lookup"><span data-stu-id="8ffb8-109">The APIs shared between .NET Core and .NET Framework are defined as part of [.NET Standard][].</span></span>

<span data-ttu-id="8ffb8-110">Дополнительные сведения о том, как это влияет на совместимость модулей/сценариев между PowerShell Core и Windows PowerShell, см. в разделе [Обратная совместимость с Windows PowerShell](#backwards-compatibility-with-windows-powershell).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-110">For more information on how this affects module/script compatibility between PowerShell Core and Windows PowerShell, see [Backwards compatibility with Windows PowerShell](#backwards-compatibility-with-windows-powershell).</span></span>

## <a name="support-for-macos-and-linux"></a><span data-ttu-id="8ffb8-111">Поддержка macOS и Linux</span><span class="sxs-lookup"><span data-stu-id="8ffb8-111">Support for macOS and Linux</span></span>

<span data-ttu-id="8ffb8-112">Теперь PowerShell официально поддерживает macOS и Linux, включая следующие версии:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-112">PowerShell now officially supports macOS and Linux, including:</span></span>

- <span data-ttu-id="8ffb8-113">Windows 7, 8.1 и 10</span><span class="sxs-lookup"><span data-stu-id="8ffb8-113">Windows 7, 8.1, and 10</span></span>
- <span data-ttu-id="8ffb8-114">Windows Server 2008 R2, 2012 R2, 2016</span><span class="sxs-lookup"><span data-stu-id="8ffb8-114">Windows Server 2008 R2, 2012 R2, 2016</span></span>
- <span data-ttu-id="8ffb8-115">[Windows Server Semi-Annual Channel][semi-annual]</span><span class="sxs-lookup"><span data-stu-id="8ffb8-115">[Windows Server Semi-Annual Channel][semi-annual]</span></span>
- <span data-ttu-id="8ffb8-116">Ubuntu 14.04, 16.04 и 17.04</span><span class="sxs-lookup"><span data-stu-id="8ffb8-116">Ubuntu 14.04, 16.04, and 17.04</span></span>
- <span data-ttu-id="8ffb8-117">Debian 8.7+ и 9</span><span class="sxs-lookup"><span data-stu-id="8ffb8-117">Debian 8.7+, and 9</span></span>
- <span data-ttu-id="8ffb8-118">CentOS 7</span><span class="sxs-lookup"><span data-stu-id="8ffb8-118">CentOS 7</span></span>
- <span data-ttu-id="8ffb8-119">Red Hat Enterprise Linux 7</span><span class="sxs-lookup"><span data-stu-id="8ffb8-119">Red Hat Enterprise Linux 7</span></span>
- <span data-ttu-id="8ffb8-120">OpenSUSE 42.2</span><span class="sxs-lookup"><span data-stu-id="8ffb8-120">OpenSUSE 42.2</span></span>
- <span data-ttu-id="8ffb8-121">Fedora 25, 26</span><span class="sxs-lookup"><span data-stu-id="8ffb8-121">Fedora 25, 26</span></span>
- <span data-ttu-id="8ffb8-122">macOS 10.12+</span><span class="sxs-lookup"><span data-stu-id="8ffb8-122">macOS 10.12+</span></span>

<span data-ttu-id="8ffb8-123">Наше сообщество также предоставило пакеты для следующих платформ, однако они не поддерживаются официально:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-123">Our community has also contributed packages for the following platforms, but they are not officially supported:</span></span>

- <span data-ttu-id="8ffb8-124">Arch Linux</span><span class="sxs-lookup"><span data-stu-id="8ffb8-124">Arch Linux</span></span>
- <span data-ttu-id="8ffb8-125">Kali Linux</span><span class="sxs-lookup"><span data-stu-id="8ffb8-125">Kali Linux</span></span>
- <span data-ttu-id="8ffb8-126">AppImage (работает на нескольких платформах Linux)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-126">AppImage (works on multiple Linux platforms)</span></span>

<span data-ttu-id="8ffb8-127">У нас также есть экспериментальные (неподдерживаемые) выпуски для следующих платформ:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-127">We also have experimental (unsupported) releases for the following platforms:</span></span>

- <span data-ttu-id="8ffb8-128">Windows на базе ARM32/ARM64</span><span class="sxs-lookup"><span data-stu-id="8ffb8-128">Windows on ARM32/ARM64</span></span>
- <span data-ttu-id="8ffb8-129">Raspbian (Stretch)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-129">Raspbian (Stretch)</span></span>

<span data-ttu-id="8ffb8-130">В PowerShell Core 6.0 были внесены некоторые изменения, чтобы улучшить работу в системах, отличных от Windows.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-130">A number of changes were made to in PowerShell Core 6.0 to make it work better on non-Windows systems.</span></span>
<span data-ttu-id="8ffb8-131">Некоторые из них являются критическими изменениями, также затрагивающими и Windows.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-131">Some of these are breaking changes, which also affect Windows.</span></span>
<span data-ttu-id="8ffb8-132">Другие относятся исключительно к версиям PowerShell Core, предназначенным для других операционных систем.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-132">Others are only present or applicable in non-Windows installations of PowerShell Core.</span></span>

- <span data-ttu-id="8ffb8-133">Добавлена поддержка стандартных масок для команд на платформах Unix.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-133">Added support for native command globbing on Unix platforms.</span></span>
- <span data-ttu-id="8ffb8-134">Функциональность `more` учитывает `$PAGER` в Linux и по умолчанию использует `less`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-134">The `more` functionality respects the Linux `$PAGER` and defaults to `less`.</span></span>
  <span data-ttu-id="8ffb8-135">Это означает, что теперь можно использовать подстановочные знаки для собственных двоичных файлов и команды (например, `ls *.txt`).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-135">This means you can now use wildcards with native binaries/commands (for example, `ls *.txt`).</span></span> <span data-ttu-id="8ffb8-136">(#3463)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-136">(#3463)</span></span>
- <span data-ttu-id="8ffb8-137">Обратная косая черта (\) в конце строки автоматически игнорируется интерпретатором командной строки при работе с аргументами собственных команд систем.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-137">Trailing backslash is automatically escaped when dealing with native command arguments.</span></span> <span data-ttu-id="8ffb8-138">(#4965)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-138">(#4965)</span></span>
- <span data-ttu-id="8ffb8-139">Игнорируйте параметр `-ExecutionPolicy` при запуске PowerShell на платформах, отличных от Windows, так как подпись сценариев сейчас не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-139">Ignore the `-ExecutionPolicy` switch when running PowerShell on non-Windows platforms because script signing is not currently supported.</span></span> <span data-ttu-id="8ffb8-140">(#3481)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-140">(#3481)</span></span>
- <span data-ttu-id="8ffb8-141">Исправлен ConsoleHost, чтобы учитывать `NoEcho` на платформах Unix.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-141">Fixed ConsoleHost to honor `NoEcho` on Unix platforms.</span></span> <span data-ttu-id="8ffb8-142">(#3801)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-142">(#3801)</span></span>
- <span data-ttu-id="8ffb8-143">Исправлен `Get-Help` для поддержки сопоставления шаблонов без учета регистра для платформ Unix.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-143">Fixed `Get-Help` to support case insensitive pattern matching on Unix platforms.</span></span> <span data-ttu-id="8ffb8-144">(#3852)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-144">(#3852)</span></span>
- <span data-ttu-id="8ffb8-145">В пакет добавлена страница руководства `powershell`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-145">`powershell` man-page added to package</span></span>

### <a name="logging"></a><span data-ttu-id="8ffb8-146">Ведение журнала</span><span class="sxs-lookup"><span data-stu-id="8ffb8-146">Logging</span></span>

<span data-ttu-id="8ffb8-147">В системе macOS PowerShell использует собственные API `os_log` для входа в [единую систему ведения журналов][os_log] Apple.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-147">On macOS, PowerShell uses the native `os_log` APIs to log to Apple's [unified logging system][os_log].</span></span>
<span data-ttu-id="8ffb8-148">В системе Linux PowerShell использует [Syslog][], единое решение для ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-148">On Linux, PowerShell uses [Syslog][], a ubiquitous logging solution.</span></span>

### <a name="filesystem"></a><span data-ttu-id="8ffb8-149">Файловая система</span><span class="sxs-lookup"><span data-stu-id="8ffb8-149">Filesystem</span></span>

<span data-ttu-id="8ffb8-150">Для macOS и Linux было внесено несколько изменений, позволяющих использовать в именах файлов символы, которые обычно в Windows не поддерживаются:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-150">A number of changes have been made on macOS and Linux to support filename characters not traditionally supported on Windows:</span></span>

- <span data-ttu-id="8ffb8-151">Пути, предоставляемые командлетам, теперь не учитывают направление косой черты (в качестве разделителя каталогов можно использовать как /, так и \).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-151">Paths given to cmdlets are now slash-agnostic (both / and \ work as directory separator)</span></span>
- <span data-ttu-id="8ffb8-152">Теперь спецификация базовых каталогов XDG соблюдается и используется по умолчанию:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-152">XDG Base Directory Specification is now respected and used by default:</span></span>
  - <span data-ttu-id="8ffb8-153">Путь к профилю Linux/macOS: `~/.config/powershell/profile.ps1`</span><span class="sxs-lookup"><span data-stu-id="8ffb8-153">The Linux/macOS profile path is located at `~/.config/powershell/profile.ps1`</span></span>
  - <span data-ttu-id="8ffb8-154">Путь для сохранения журнала: `~/.local/share/powershell/PSReadline/ConsoleHost_history.txt`</span><span class="sxs-lookup"><span data-stu-id="8ffb8-154">The history save path is located at `~/.local/share/powershell/PSReadline/ConsoleHost_history.txt`</span></span>
  - <span data-ttu-id="8ffb8-155">Путь к модулям пользователя: `~/.local/share/powershell/Modules`</span><span class="sxs-lookup"><span data-stu-id="8ffb8-155">The user module path is located at `~/.local/share/powershell/Modules`</span></span>
- <span data-ttu-id="8ffb8-156">Поддержка имен файлов и папок, содержащих символ двоеточия в Unix.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-156">Support for file and folder names containing the colon character on Unix.</span></span> <span data-ttu-id="8ffb8-157">(#4959)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-157">(#4959)</span></span>
- <span data-ttu-id="8ffb8-158">Поддержка имен сценариев или полных путей, содержащих запятые.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-158">Support for script names or full paths that have commas.</span></span> <span data-ttu-id="8ffb8-159">(#4136) (выражаем благодарность @TimCurwick)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-159">(#4136) (Thanks to @TimCurwick!)</span></span>
- <span data-ttu-id="8ffb8-160">Определение, когда `-LiteralPath` используется для подавления расширения подстановочных знаков для командлетов навигации.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-160">Detect when `-LiteralPath` is used to suppress wildcard expansion for navigation cmdlets.</span></span> <span data-ttu-id="8ffb8-161">(#5038)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-161">(#5038)</span></span>
- <span data-ttu-id="8ffb8-162">Обновление `Get-ChildItem`, чтобы сделать его работу больше похожей на nix-команду `ls -R` и собственные команды Windows `DIR /S`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-162">Updated `Get-ChildItem` to work more like the \*nix `ls -R` and the Windows `DIR /S` native commands.</span></span>
  <span data-ttu-id="8ffb8-163">`Get-ChildItem` теперь возвращает символьные ссылки, обнаруженные при рекурсивном поиске, а не каталоги, на которые они указывают</span><span class="sxs-lookup"><span data-stu-id="8ffb8-163">`Get-ChildItem` now returns the symbolic links encountered during a recursive search and does not search the directories that those links target.</span></span> <span data-ttu-id="8ffb8-164">(#3780)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-164">(#3780)</span></span>

### <a name="case-sensitivity"></a><span data-ttu-id="8ffb8-165">Учет регистра</span><span class="sxs-lookup"><span data-stu-id="8ffb8-165">Case sensitivity</span></span>

<span data-ttu-id="8ffb8-166">Системы Linux и macOS обычно учитывают регистр, а система Windows — нет, хотя и сохраняет его.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-166">Linux and macOS tend to be case-sensitive while Windows is case-insensitive while preserving case.</span></span>
<span data-ttu-id="8ffb8-167">В общем случае PowerShell не учитывает регистр.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-167">In general, PowerShell is case insensitive.</span></span>

<span data-ttu-id="8ffb8-168">Например, переменные среды учитывают регистр в macOS и Linux, поэтому использование регистра для переменной среды `PSModulePath` было стандартизировано.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-168">For example, environment variables are case-sensitive on macOS and Linux, so the casing of the `PSModulePath` environment variable has been standardized.</span></span> <span data-ttu-id="8ffb8-169">(#3255) `Import-Module` не учитывает регистр, когда использует путь к файлу для определения имени модуля.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-169">(#3255) `Import-Module` is case insensitive when it's using a file path to determine the module's name.</span></span> <span data-ttu-id="8ffb8-170">(#5097)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-170">(#5097)</span></span>

## <a name="support-for-side-by-side-installations"></a><span data-ttu-id="8ffb8-171">Поддержка параллельной установки</span><span class="sxs-lookup"><span data-stu-id="8ffb8-171">Support for side-by-side installations</span></span>

<span data-ttu-id="8ffb8-172">PowerShell Core устанавливается, настраивается и выполняется отдельно от Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-172">PowerShell Core is installed, configured, and executed separately from Windows PowerShell.</span></span>
<span data-ttu-id="8ffb8-173">PowerShell Core имеет "портативный" ZIP-пакет.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-173">PowerShell Core has a "portable" ZIP package.</span></span>
<span data-ttu-id="8ffb8-174">С его помощью можно установить любое количество версий в любом месте на диске, в том числе и локально для приложения, зависимого от установки PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-174">Using the ZIP package, you can install any number of versions anywhere on disk, including local to an application that takes PowerShell as a dependency.</span></span>
<span data-ttu-id="8ffb8-175">Параллельная установка упрощает тестирование новых версий PowerShell и перенос существующих сценариев по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-175">Side-by-side installation makes it easier to test new versions of PowerShell and migrating existing scripts over time.</span></span>
<span data-ttu-id="8ffb8-176">Параллельность также обеспечивает обратную совместимость, так как сценарии можно прикрепить к конкретным требуемым им версиям.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-176">Side-by-side also enables backwards compatibility as scripts can be pinned to specific versions that they require.</span></span>

> [!NOTE]
> <span data-ttu-id="8ffb8-177">По умолчанию установщик на основе MSI в Windows выполняет установку в режиме обновления.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-177">By default, the MSI-based installer on Windows does an in-place update install.</span></span>
>

## <a name="renamed-powershellexe-to-pwshexe"></a><span data-ttu-id="8ffb8-178">Переименование `powershell(.exe)` в `pwsh(.exe)`</span><span class="sxs-lookup"><span data-stu-id="8ffb8-178">Renamed `powershell(.exe)` to `pwsh(.exe)`</span></span>

<span data-ttu-id="8ffb8-179">Имя исполняемого файла для PowerShell Core было изменено с `powershell(.exe)` на `pwsh(.exe)`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-179">The binary name for PowerShell Core has been changed from `powershell(.exe)` to `pwsh(.exe)`.</span></span>
<span data-ttu-id="8ffb8-180">Это изменение позволяет пользователям детерминированно запускать PowerShell Core на компьютерах для поддержки параллельных установок Windows PowerShell и PowerShell Core.

</span><span class="sxs-lookup"><span data-stu-id="8ffb8-180">This change provides a deterministic way for users to run PowerShell Core on machines to support side-by-side Windows PowerShell and PowerShell Core installations.</span></span>
<span data-ttu-id="8ffb8-181">Кроме того, `pwsh` проще вводить из-за меньшей длины.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-181">`pwsh` is also much shorter and easier to type.</span></span>

<span data-ttu-id="8ffb8-182">Дополнительные изменения в `pwsh(.exe)` из `powershell.exe`:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-182">Additional changes to `pwsh(.exe)` from `powershell.exe`:</span></span>

- <span data-ttu-id="8ffb8-183">Первый позиционный параметр изменен с `-Command` на `-File`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-183">Changed the first positional parameter from `-Command` to `-File`.</span></span>
  <span data-ttu-id="8ffb8-184">Это изменение устраняет использование `#!` в сценариях PowerShell, которые выполняются из оболочек, отличных от PowerShell, на платформах, отличных от Windows.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-184">This change fixes the usage of `#!` (aka as a shebang) in PowerShell scripts that are being executed from non-PowerShell shells on non-Windows platforms.</span></span>
  <span data-ttu-id="8ffb8-185">Это также означает, что вы можете выполнять такие команды, как `pwsh foo.ps1` или `pwsh fooScript`, без указания `-File`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-185">It also means that you can run commands like `pwsh foo.ps1` or `pwsh fooScript` without specifying `-File`.</span></span>
  <span data-ttu-id="8ffb8-186">Однако это изменение требует явно указать `-c` или `-Command` при попытке запуска таких команд, как `pwsh.exe -Command Get-Command`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-186">However, this change requires that you explicitly specify `-c` or `-Command` when trying to run commands like `pwsh.exe -Command Get-Command`.</span></span> <span data-ttu-id="8ffb8-187">(#4019)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-187">(#4019)</span></span>
- <span data-ttu-id="8ffb8-188">PowerShell Core принимает параметр `-i` (или `-Interactive`) для определения интерактивной оболочки.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-188">PowerShell Core accepts the `-i` (or `-Interactive`) switch to indicate an interactive shell.</span></span> <span data-ttu-id="8ffb8-189">(#3558) Это позволяет использовать PowerShell в качестве оболочки по умолчанию для платформ Unix.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-189">(#3558) This allows PowerShell to be used as a default shell on Unix platforms.</span></span>
- <span data-ttu-id="8ffb8-190">Удалены параметры `-importsystemmodules` и `-psconsoleFile` из `pwsh.exe`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-190">Removed parameters `-importsystemmodules` and `-psconsoleFile` from `pwsh.exe`.</span></span> <span data-ttu-id="8ffb8-191">(#4995)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-191">(#4995)</span></span>
- <span data-ttu-id="8ffb8-192">Изменены `pwsh -version` и встроенная справка для `pwsh.exe` для обеспечения согласованности с другими собственными средствами.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-192">Changed `pwsh -version` and built-in help for `pwsh.exe` to align with other native tools.</span></span> <span data-ttu-id="8ffb8-193">(#4958 & #4931) (выражаем благодарность @iSazonov)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-193">(#4958 & #4931) (Thanks @iSazonov)</span></span>
- <span data-ttu-id="8ffb8-194">Сообщения о недопустимом аргументе для `-File` и `-Command`, и коды завершения соответствуют стандартам Unix (#4573)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-194">Invalid argument error messages for `-File` and `-Command` and exit codes consistent with Unix standards (#4573)</span></span>
- <span data-ttu-id="8ffb8-195">Добавлен параметр `-WindowStyle` в Windows.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-195">Added `-WindowStyle` parameter on Windows.</span></span> <span data-ttu-id="8ffb8-196">(#4573) Аналогичным образом обновления для установок на основе пакета на платформах, отличных от Windows, являются обновлениями на месте.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-196">(#4573) Similarly, package-based installations updates on non-Windows platforms are in-place updates.</span></span>

## <a name="backwards-compatibility-with-windows-powershell"></a><span data-ttu-id="8ffb8-197">Обратная совместимость с Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="8ffb8-197">Backwards compatibility with Windows PowerShell</span></span>

<span data-ttu-id="8ffb8-198">Задача PowerShell Core заключается в обеспечении максимально возможного уровня совместимости с Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-198">The goal of PowerShell Core is to remain as compatible as possible with Windows PowerShell.</span></span>
<span data-ttu-id="8ffb8-199">PowerShell Core использует [.NET Standard][] 2.0 для обеспечения совместимости двоичных файлов с существующими сборками .NET.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-199">PowerShell Core uses [.NET Standard][] 2.0 to provide binary compatibility with existing .NET assemblies.</span></span>
<span data-ttu-id="8ffb8-200">Многие модули PowerShell зависят от этих сборок (часто библиотеки DLL), поэтому .NET Standard позволяет продолжить их использование в .NET Core.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-200">Many PowerShell modules depend on these assemblies (often times DLLs), so .NET Standard allows them to continue working with .NET Core.</span></span>
<span data-ttu-id="8ffb8-201">PowerShell Core также содержит эвристику поиска в стандартных папках, в которых например, размещается глобальный кэш сборок на диске для обнаружения зависимостей DLL платформы .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-201">PowerShell Core also includes a heuristic to look in well-known folders--like where the Global Assembly Cache typically resides on disk--to find .NET Framework DLL dependencies.</span></span>

<span data-ttu-id="8ffb8-202">Дополнительные сведения о .NET Standard см. в [блоге о .NET][], в этом видео на [YouTube][] и [часто задаваемых вопросах][] на GitHub.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-202">You can learn more about .NET Standard on the [.NET Blog][], in this [YouTube][] video, and via this [FAQ][] on GitHub.</span></span>

<span data-ttu-id="8ffb8-203">Было сделано все возможное, чтобы язык PowerShell и встроенные модули (такие как `Microsoft.PowerShell.Management`, `Microsoft.PowerShell.Utility` и т. д.) работали так же, как и в Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-203">Best efforts have been made to ensure that the PowerShell language and "built-in" modules (like `Microsoft.PowerShell.Management`, `Microsoft.PowerShell.Utility`, etc.) work the same as they do in Windows PowerShell.</span></span>
<span data-ttu-id="8ffb8-204">Во многих случаях при помощи сообщества мы добавили в эти командлеты новые возможности и исправления ошибок.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-204">In many cases, with the help of the community, we've added new capabilities and bug fixes to those cmdlets.</span></span>
<span data-ttu-id="8ffb8-205">В некоторых случаях из-за отсутствующей зависимости на нижележащих уровнях .NET функция была удалена или стала недоступна.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-205">In some cases, due to a missing dependency in underlying .NET layers, functionality was removed or is unavailable.</span></span>

<span data-ttu-id="8ffb8-206">Большинство модулей, которые входят в состав Windows (например, `DnsClient`, `Hyper-V`, `NetTCPIP`, `Storage` и т. д.), и другие продукты Майкрософт, включая Azure и Office, еще не были *явно* перенесены в .NET Core.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-206">Most of the modules that ship as part of Windows (for example, `DnsClient`, `Hyper-V`, `NetTCPIP`, `Storage`, etc.) and other Microsoft products including Azure and Office have not been *explicitly* ported to .NET Core yet.</span></span>
<span data-ttu-id="8ffb8-207">Группа разработчиков PowerShell сотрудничает с группами разработчиков этих продуктов, чтобы проверить и перенести имеющиеся у них модули в PowerShell Core.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-207">The PowerShell team is working with these product groups and teams to validate and port their existing modules to PowerShell Core.</span></span>
<span data-ttu-id="8ffb8-208">При использовании .NET Standard и [CDXML][] многие из этих традиционных модулей Windows PowerShell работают в PowerShell Core, но они не были проверены формально и официально не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-208">With .NET Standard and [CDXML][], many of these traditional Windows PowerShell modules do seem to work in PowerShell Core, but they have not been formally validated, and they are not formally supported.</span></span>

<span data-ttu-id="8ffb8-209">Установив модуль [`WindowsPSModulePath`][windowspsmodulepath], можно использовать модули Windows PowerShell, добавив `PSModulePath` Windows PowerShell в `PSModulePath` PowerShell Core.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-209">By installing the [`WindowsPSModulePath`][windowspsmodulepath] module, you can use Windows PowerShell modules by appending the Windows PowerShell `PSModulePath` to your PowerShell Core `PSModulePath`.</span></span>

<span data-ttu-id="8ffb8-210">Сначала установите модуль `WindowsPSModulePath` из коллекции PowerShell:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-210">First, install the `WindowsPSModulePath` module from the PowerShell Gallery:</span></span>

```powershell
# Add `-Scope CurrentUser` if you're installing as non-admin
Install-Module WindowsPSModulePath -Force
```

<span data-ttu-id="8ffb8-211">После установки модуля запустите командлет `Add-WindowsPSModulePath`, чтобы добавить `PSModulePath` Windows PowerShell в PowerShell Core:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-211">After installing this module, run the `Add-WindowsPSModulePath` cmdlet to add the Windows PowerShell `PSModulePath` to PowerShell Core:</span></span>

```powershell
# Add this line to your profile if you always want Windows PowerShell PSModulePath
Add-WindowsPSModulePath
```

## <a name="docker-support"></a><span data-ttu-id="8ffb8-212">Поддержка Docker</span><span class="sxs-lookup"><span data-stu-id="8ffb8-212">Docker support</span></span>

<span data-ttu-id="8ffb8-213">В PowerShell Core добавлена поддержка контейнеров Docker для всех основных поддерживаемых нами платформ (включая несколько дистрибутивов Linux, Windows Server Core и Nano Server).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-213">PowerShell Core adds support for Docker containers for all the major platforms we support (including multiple Linux distros, Windows Server Core, and Nano Server).</span></span>

<span data-ttu-id="8ffb8-214">Чтобы ознакомиться с полным списком, см. теги на [`microsoft/powershell` в центре Docker][docker-hub].</span><span class="sxs-lookup"><span data-stu-id="8ffb8-214">For a complete list, check out the tags on [`microsoft/powershell` on Docker Hub][docker-hub].</span></span>
<span data-ttu-id="8ffb8-215">Дополнительные сведения о Docker и PowerShell Core см. в разделе [Docker][] на GitHub.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-215">For more information on Docker and PowerShell Core, see [Docker][] on GitHub.</span></span>

## <a name="ssh-based-powershell-remoting"></a><span data-ttu-id="8ffb8-216">Удаленное взаимодействие PowerShell на основе SSH</span><span class="sxs-lookup"><span data-stu-id="8ffb8-216">SSH-based PowerShell Remoting</span></span>

<span data-ttu-id="8ffb8-217">Кроме традиционной службы WinRM, протокол удаленного взаимодействия PowerShell (PSRP) теперь работает с протоколом Secure Shell (SSH).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-217">The PowerShell Remoting Protocol (PSRP) now works with the Secure Shell (SSH) protocol in addition to the traditional WinRM-based PSRP.</span></span>

<span data-ttu-id="8ffb8-218">Это означает, что можно использовать командлеты, такие как `Enter-PSSession` и `New-PSSession`, и проходить проверку подлинности с помощью SSH.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-218">This means that you can use cmdlets like `Enter-PSSession` and `New-PSSession` and authenticate using SSH.</span></span>
<span data-ttu-id="8ffb8-219">Вам нужно лишь зарегистрировать PowerShell в качестве подсистемы на сервере SSH с OpenSSH, чтобы использовать существующие механизмы проверки подлинности на основе SSH (например, пароли или закрытые ключи) с помощью стандартной семантики `PSSession`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-219">All you have to do is register PowerShell as a subsystem with an OpenSSH-based SSH server, and you can use your existing SSH-based authenticate mechanisms (like passwords or private keys) with the traditional `PSSession` semantics.</span></span>

<span data-ttu-id="8ffb8-220">Дополнительные сведения о настройке и использовании удаленного взаимодействия на основе SSH см. в разделе [Удаленное взаимодействие с PowerShell через SSH][ssh-remoting].</span><span class="sxs-lookup"><span data-stu-id="8ffb8-220">For more information on configuring and using SSH-based remoting, see [PowerShell Remoting over SSH][ssh-remoting].</span></span>

## <a name="default-encoding-is-utf-8-without-a-bom-except-for-new-modulemanifest"></a><span data-ttu-id="8ffb8-221">Кодировка по умолчанию — UTF-8 без метки порядка байтов за исключением New-ModuleManifest.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-221">Default encoding is UTF-8 without a BOM except for New-ModuleManifest</span></span>

<span data-ttu-id="8ffb8-222">В прошлом командлеты Windows PowerShell, такие как `Get-Content` и `Set-Content`, использовали различные кодировки, например ASCII и UTF-16.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-222">In the past, Windows PowerShell cmdlets like `Get-Content`, `Set-Content` used different encodings, such as ASCII and UTF-16.</span></span>
<span data-ttu-id="8ffb8-223">Расхождение в кодировках по умолчанию приводило к проблемам при смешанном использовании командлетов без указания кодировки.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-223">The variance in encoding defaults created problems when mixing cmdlets without specifying an encoding.</span></span>

<span data-ttu-id="8ffb8-224">В большинстве случаев платформы, отличные от Windows, используют UTF-8 без метки порядка байтов (BOM) в качестве кодировки по умолчанию для текстовых файлов.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-224">Non-Windows platforms traditionally use UTF-8 without a Byte Order Mark (BOM) as the default encoding for text files.</span></span>
<span data-ttu-id="8ffb8-225">Все больше средств и приложений Windows переходят с UTF-16 на UTF-8 без метки порядка байтов.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-225">More Windows applications and tools are moving away from UTF-16 and towards BOM-less UTF-8 encoding.</span></span>
<span data-ttu-id="8ffb8-226">PowerShell Core изменяет кодировку по умолчанию, чтобы привести ее в соответствие с более обширной экосистемой.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-226">PowerShell Core changes the default encoding to conform with the broader ecosystems.</span></span>

<span data-ttu-id="8ffb8-227">Это означает, что все встроенные командлеты, использующие параметр `-Encoding`, используют значение `UTF8NoBOM` по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-227">This means that all built-in cmdlets that use the `-Encoding` parameter use the `UTF8NoBOM` value by default.</span></span>
<span data-ttu-id="8ffb8-228">Это изменение затрагивает следующие командлеты:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-228">The following cmdlets are affected by this change:</span></span>

- <span data-ttu-id="8ffb8-229">Add-Content</span><span class="sxs-lookup"><span data-stu-id="8ffb8-229">Add-Content</span></span>
- <span data-ttu-id="8ffb8-230">Export-Clixml</span><span class="sxs-lookup"><span data-stu-id="8ffb8-230">Export-Clixml</span></span>
- <span data-ttu-id="8ffb8-231">Export-Csv</span><span class="sxs-lookup"><span data-stu-id="8ffb8-231">Export-Csv</span></span>
- <span data-ttu-id="8ffb8-232">Export-PSSession</span><span class="sxs-lookup"><span data-stu-id="8ffb8-232">Export-PSSession</span></span>
- <span data-ttu-id="8ffb8-233">Format-Hex</span><span class="sxs-lookup"><span data-stu-id="8ffb8-233">Format-Hex</span></span>
- <span data-ttu-id="8ffb8-234">Get-Content</span><span class="sxs-lookup"><span data-stu-id="8ffb8-234">Get-Content</span></span>
- <span data-ttu-id="8ffb8-235">Import-Csv</span><span class="sxs-lookup"><span data-stu-id="8ffb8-235">Import-Csv</span></span>
- <span data-ttu-id="8ffb8-236">Out-File</span><span class="sxs-lookup"><span data-stu-id="8ffb8-236">Out-File</span></span>
- <span data-ttu-id="8ffb8-237">Select-String</span><span class="sxs-lookup"><span data-stu-id="8ffb8-237">Select-String</span></span>
- <span data-ttu-id="8ffb8-238">Send-MailMessage</span><span class="sxs-lookup"><span data-stu-id="8ffb8-238">Send-MailMessage</span></span>
- <span data-ttu-id="8ffb8-239">Set-Content</span><span class="sxs-lookup"><span data-stu-id="8ffb8-239">Set-Content</span></span>

<span data-ttu-id="8ffb8-240">Эти командлеты также были обновлены, чтобы параметр `-Encoding` глобально принимал `System.Text.Encoding`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-240">These cmdlets have also been updated so that the `-Encoding` parameter universally accepts `System.Text.Encoding`.</span></span>

<span data-ttu-id="8ffb8-241">Значение по умолчанию `$OutputEncoding` также было изменено на UTF-8.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-241">The default value of `$OutputEncoding` has also been changed to UTF-8.</span></span>

<span data-ttu-id="8ffb8-242">Рекомендуется явно задавать кодировки в сценариях с помощью параметра `-Encoding`, чтобы обеспечить предсказуемость поведения на разных платформах.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-242">As a best practice, you should explicitly set encodings in scripts using the `-Encoding` parameter to produce deterministic behavior across platforms.</span></span>

<span data-ttu-id="8ffb8-243">Командлет `New-ModuleManifest` не содержит параметра **Encoding**.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-243">`New-ModuleManifest` cmdlet does not have **Encoding** parameter.</span></span> <span data-ttu-id="8ffb8-244">Кодировка файла манифеста модуля (.psd1), созданного с помощью командлета `New-ModuleManifest`, зависит от среды: при использовании PowerShell Core в Linux используется кодировка UTF-8 (без BOM); в противном случае используется UTF-16 (с BOM).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-244">The encoding of the module manifest (.psd1) file created with `New-ModuleManifest` cmdlet depends on environment: if it is PowerShell Core running on Linux then encoding is UTF-8 (no BOM); otherwise encoding is UTF-16 (with BOM).</span></span> <span data-ttu-id="8ffb8-245">(#3940)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-245">(#3940)</span></span>

## <a name="support-backgrounding-of-pipelines-with-ampersand--3360"></a><span data-ttu-id="8ffb8-246">Поддержка фонового выполнения конвейеров с помощью амперсанда (`&`) (#3360)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-246">Support backgrounding of pipelines with ampersand (`&`) (#3360)</span></span>

<span data-ttu-id="8ffb8-247">Использование `&` в конце конвейера приводит к тому, что он выполняется как задание PowerShell. </span><span class="sxs-lookup"><span data-stu-id="8ffb8-247">Putting `&` at the end of a pipeline causes the pipeline to be run as a PowerShell job.</span></span>
<span data-ttu-id="8ffb8-248">Когда конвейер выполняется в фоновом режиме, возвращается объект задания.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-248">When a pipeline is backgrounded, a job object is returned.</span></span>
<span data-ttu-id="8ffb8-249">После запуска конвейера как задания для управления им можно использовать все стандартные командлеты `*-Job`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-249">Once the pipeline is running as a job, all of the standard `*-Job` cmdlets can be used to manage the job.</span></span>
<span data-ttu-id="8ffb8-250">Используемые в конвейере переменные (кроме переменных для конкретных процессов) автоматически копируются в это задание, поэтому `Copy-Item $foo $bar &` работает.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-250">Variables (ignoring process-specific variables) used in the pipeline are automatically copied to the job so `Copy-Item $foo $bar &` just works.</span></span>
<span data-ttu-id="8ffb8-251">Кроме того, задание выполняется в текущем каталоге, а не домашнем каталоге пользователя.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-251">The job is also run in the current directory instead of the user's home directory.</span></span>
<span data-ttu-id="8ffb8-252">Дополнительные сведения о заданиях PowerShell см. в разделе [about_Jobs](https://msdn.microsoft.com/powershell/reference/6/about/about_jobs).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-252">For more information about PowerShell jobs, see [about_Jobs](https://msdn.microsoft.com/powershell/reference/6/about/about_jobs).</span></span>

## <a name="semantic-versioning"></a><span data-ttu-id="8ffb8-253">Семантическое версионирование</span><span class="sxs-lookup"><span data-stu-id="8ffb8-253">Semantic versioning</span></span>

- <span data-ttu-id="8ffb8-254">`SemanticVersion` сделан совместимым с `SemVer 2.0`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-254">Made `SemanticVersion` compatible with `SemVer 2.0`.</span></span> <span data-ttu-id="8ffb8-255">(#5037) (выражаем благодарность @iSazonov)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-255">(#5037) (Thanks @iSazonov!)</span></span>
- <span data-ttu-id="8ffb8-256">Изменен `ModuleVersion` по умолчанию в `New-ModuleManifest` на `0.0.1` для согласованности с SemVer.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-256">Changed default `ModuleVersion` in `New-ModuleManifest` to `0.0.1` to align with SemVer.</span></span> <span data-ttu-id="8ffb8-257">(#4842) (выражаем благодарность @LDSpits)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-257">(#4842) (Thanks @LDSpits)</span></span>
- <span data-ttu-id="8ffb8-258">Добавлен `semver` как акселератор типа для `System.Management.Automation.SemanticVersion`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-258">Added `semver` as a type accelerator for `System.Management.Automation.SemanticVersion`.</span></span> <span data-ttu-id="8ffb8-259">(#4142) (выражаем благодарность @oising)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-259">(#4142) (Thanks to @oising!)</span></span>
- <span data-ttu-id="8ffb8-260">Реализовано сравнение экземпляра `SemanticVersion` и экземпляра `Version`, который создается только при значениях версии `Major` и `Minor`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-260">Enabled comparison between a `SemanticVersion` instance and a `Version` instance that is constructed only with `Major` and `Minor` version values.</span></span>

## <a name="language-updates"></a><span data-ttu-id="8ffb8-261">Языковые обновления</span><span class="sxs-lookup"><span data-stu-id="8ffb8-261">Language updates</span></span>

- <span data-ttu-id="8ffb8-262">Реализован анализ escape-символов Юникода, чтобы пользователи могли использовать символы Юникода в качестве аргументов, строк или имен переменных.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-262">Implement Unicode escape parsing so that users can use Unicode characters as arguments, strings, or variable names.</span></span> <span data-ttu-id="8ffb8-263">(#3958) (выражаем благодарность @rkeithhill)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-263">(#3958) (Thanks to @rkeithhill!)</span></span>
- <span data-ttu-id="8ffb8-264">Добавлен новый escape-символ ESC: `` `e``.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-264">Added new escape character for ESC: `` `e``</span></span>
- <span data-ttu-id="8ffb8-265">Добавлена поддержка преобразования перечислений в строку (#4318) (выражаем благодарность @KirkMunro)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-265">Added support for converting enums to string (#4318) (Thanks @KirkMunro)</span></span>
- <span data-ttu-id="8ffb8-266">Исправлено приведение одноэлементного массива к типу стандартной коллекции.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-266">Fixed casting single element array to a generic collection.</span></span> <span data-ttu-id="8ffb8-267">(#3170)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-267">(#3170)</span></span>
- <span data-ttu-id="8ffb8-268">Добавлена перегрузка диапазона символов для оператора `..`, чтобы `'a'..'z'` возвращал символы от "a" до "z".</span><span class="sxs-lookup"><span data-stu-id="8ffb8-268">Added character range overload to the `..` operator, so `'a'..'z'` returns characters from 'a' to 'z'.</span></span> <span data-ttu-id="8ffb8-269">(#5026) (выражаем благодарность @IISResetMe)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-269">(#5026) (Thanks @IISResetMe!)</span></span>
- <span data-ttu-id="8ffb8-270">Исправлено присваивание переменных, чтобы предотвратить перезапись переменных, доступных только для чтения.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-270">Fixed variable assignment to not overwrite read-only variables</span></span>
- <span data-ttu-id="8ffb8-271">Принудительная отправка локальных значений автоматических переменных в "DottedScopes" при выделении точками командлетов сценариев (#4709)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-271">Push locals of automatic variables to 'DottedScopes' when dotting script cmdlets (#4709)</span></span>
- <span data-ttu-id="8ffb8-272">Добавлена возможность использования параметров "Singleline, Multiline" в операторе split (#4721) (выражаем благодарность @iSazonov)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-272">Enable use of 'Singleline, Multiline' option in split operator (#4721) (Thanks @iSazonov)</span></span>

## <a name="engine-updates"></a><span data-ttu-id="8ffb8-273">Обновления подсистемы</span><span class="sxs-lookup"><span data-stu-id="8ffb8-273">Engine updates</span></span>

- <span data-ttu-id="8ffb8-274">`$PSVersionTable` имеет четыре новых свойства:</span><span class="sxs-lookup"><span data-stu-id="8ffb8-274">`$PSVersionTable` has four new properties:</span></span>
  - <span data-ttu-id="8ffb8-275">`PSEdition`: имеет значение `Core` в PowerShell Core и `Desktop` в Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-275">`PSEdition`: This is set to `Core` on PowerShell Core and `Desktop` on Windows PowerShell</span></span>
  - <span data-ttu-id="8ffb8-276">`GitCommitId`: идентификатор фиксации Git ветви Git или тега, где была выполнена сборка PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-276">`GitCommitId`: This is the Git commit ID of the Git branch or tag where PowerShell was built.</span></span>
    <span data-ttu-id="8ffb8-277">В сборках выпуска оно, вероятнее всего, будет совпадать с `PSVersion`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-277">On released builds, it will likely be the same as `PSVersion`.</span></span>
  - <span data-ttu-id="8ffb8-278">`OS`: строка версии ОС, возвращенная `[System.Runtime.InteropServices.RuntimeInformation]::OSDescription`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-278">`OS`: This is an OS version string returned by `[System.Runtime.InteropServices.RuntimeInformation]::OSDescription`</span></span>
  - <span data-ttu-id="8ffb8-279">`Platform`: возвращается `[System.Environment]::OSVersion.Platform`, имеет значение `Win32NT` в Windows, `Unix` на macOS и `Unix` в Linux.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-279">`Platform`: This is returned by `[System.Environment]::OSVersion.Platform` It is set to `Win32NT` on Windows, `Unix` on macOS, and `Unix` on Linux.</span></span>
- <span data-ttu-id="8ffb8-280">Удалено свойство `BuildVersion` из `$PSVersionTable`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-280">Removed the `BuildVersion` property from `$PSVersionTable`.</span></span>
  <span data-ttu-id="8ffb8-281">Это свойство было жестко привязано к версии сборки Windows.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-281">This property was strongly tied to the Windows build version.</span></span>
  <span data-ttu-id="8ffb8-282">Вместо этого мы рекомендуем использовать `GitCommitId` для получения точной версии сборки PowerShell Core.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-282">Instead, we recommend that you use `GitCommitId` to retrieve the exact build version of PowerShell Core.</span></span> <span data-ttu-id="8ffb8-283">(#3877) (выражаем благодарность @iSazonov)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-283">(#3877) (Thanks to @iSazonov!)</span></span>
- <span data-ttu-id="8ffb8-284">Удалено свойство `ClrVersion` из `$PSVersionTable`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-284">Remove `ClrVersion` property from `$PSVersionTable`.</span></span>
  <span data-ttu-id="8ffb8-285">Это свойство не имеет отношения к .NET Core и было оставлено там только для совместимости с устаревшими функциями, которые не применимы к PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-285">This property is irrelevant for .NET Core, and was only preserved in .NET Core for specific legacy purposes that are inapplicable to PowerShell.</span></span>
- <span data-ttu-id="8ffb8-286">Добавлены три новые автоматические переменные, чтобы определить, выполняется ли PowerShell в заданной ОС: `$IsWindows`, `$IsMacOs` и `$IsLinux`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-286">Added three new automatic variables to determine whether PowerShell is running in a given OS: `$IsWindows`, `$IsMacOs`, and `$IsLinux`.</span></span>
- <span data-ttu-id="8ffb8-287">Добавлен `GitCommitId` в баннер PowerShell Core.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-287">Add `GitCommitId` to PowerShell Core banner.</span></span>
  <span data-ttu-id="8ffb8-288">Теперь вам не нужно выполнять `$PSVersionTable` сразу после запуска PowerShell, чтобы получить версию.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-288">Now you don't have to run `$PSVersionTable` as soon as you start PowerShell to get the version!</span></span> <span data-ttu-id="8ffb8-289">(#3916) (выражаем благодарность @iSazonov)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-289">(#3916) (Thanks to @iSazonov!)</span></span>
- <span data-ttu-id="8ffb8-290">Добавлен файл конфигурации JSON с именем `powershell.config.json` в `$PSHome` для хранения некоторых параметров, требуемых перед запуском (например, `ExecutionPolicy`).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-290">Add a JSON config file called `powershell.config.json` in `$PSHome` to store some settings required before startup time (e.g. `ExecutionPolicy`).</span></span>
- <span data-ttu-id="8ffb8-291">Конвейер не блокируется при запуске EXE-файла Windows.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-291">Don't block pipeline when running Windows EXE's</span></span>
- <span data-ttu-id="8ffb8-292">Реализовано перечисление COM-коллекций.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-292">Enabled enumeration of COM collections.</span></span> <span data-ttu-id="8ffb8-293">(#4553)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-293">(#4553)</span></span>

## <a name="cmdlet-updates"></a><span data-ttu-id="8ffb8-294">Обновления командлетов</span><span class="sxs-lookup"><span data-stu-id="8ffb8-294">Cmdlet updates</span></span>

### <a name="new-cmdlets"></a><span data-ttu-id="8ffb8-295">Новые командлеты</span><span class="sxs-lookup"><span data-stu-id="8ffb8-295">New cmdlets</span></span>

- <span data-ttu-id="8ffb8-296">Добавлен `Get-Uptime` в `Microsoft.PowerShell.Utility`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-296">Add `Get-Uptime` to `Microsoft.PowerShell.Utility`.</span></span>
- <span data-ttu-id="8ffb8-297">Добавлена команда `Remove-Alias`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-297">Add `Remove-Alias` Command.</span></span> <span data-ttu-id="8ffb8-298">(#5143) (выражаем благодарность @PowershellNinja)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-298">(#5143) (Thanks @PowershellNinja!)</span></span>
- <span data-ttu-id="8ffb8-299">Добавлен `Remove-Service` в модуль управления.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-299">Add `Remove-Service` to Management module.</span></span> <span data-ttu-id="8ffb8-300">(#4858) (выражаем благодарность @joandrsn)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-300">(#4858) (Thanks @joandrsn!)</span></span>

### <a name="web-cmdlets"></a><span data-ttu-id="8ffb8-301">Веб-командлеты</span><span class="sxs-lookup"><span data-stu-id="8ffb8-301">Web cmdlets</span></span>

- <span data-ttu-id="8ffb8-302">Добавлена поддержка проверки подлинности сертификатов для веб-командлетов.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-302">Add certificate authentication support for web cmdlets.</span></span> <span data-ttu-id="8ffb8-303">(#4646) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-303">(#4646) (Thanks @markekraus)</span></span>
- <span data-ttu-id="8ffb8-304">Добавлена поддержка для заголовков содержимого в веб-командлетах.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-304">Add support for content headers to web cmdlets.</span></span> <span data-ttu-id="8ffb8-305">(#4494 и #4640) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-305">(#4494 & #4640) (Thanks @markekraus)</span></span>
- <span data-ttu-id="8ffb8-306">Добавлена поддержка нескольких заголовков ссылок в веб-командлетах.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-306">Add multiple link header support to Web Cmdlets.</span></span> <span data-ttu-id="8ffb8-307">(#5265) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-307">(#5265) (Thanks @markekraus!)</span></span>
- <span data-ttu-id="8ffb8-308">Поддержка разбивки на страницы для заголовков ссылок в веб-командлетах (#3828)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-308">Support Link header pagination in web cmdlets (#3828)</span></span>
  - <span data-ttu-id="8ffb8-309">Когда для `Invoke-WebRequest` ответ содержит заголовок ссылки, мы создаем свойство RelationLink в качестве словаря, представляющего URL-адреса и атрибуты `rel`, и делаем эти URL-адреса абсолютными, чтобы упростить задачу разработчику.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-309">For `Invoke-WebRequest`, when the response includes a Link header we create a RelationLink property as a Dictionary representing the URLs and `rel` attributes and ensure the URLs are absolute to make it easier for the developer to use.</span></span>
  - <span data-ttu-id="8ffb8-310">Когда для `Invoke-RestMethod` ответ содержит заголовок ссылки, мы предоставляем параметр `-FollowRelLink` для автоматического следования по ссылкам `next` `rel`, пока они не перестанут существовать или мы не попадем на необязательное значение параметра `-MaximumFollowRelLink`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-310">For `Invoke-RestMethod`, when the response includes a Link header we expose a `-FollowRelLink` switch to automatically follow `next` `rel` links until they no longer exist or once we hit the optional `-MaximumFollowRelLink` parameter value.</span></span>
- <span data-ttu-id="8ffb8-311">Добавлен параметр `-CustomMethod` для веб-командлетов, чтобы разрешить нестандартные команды методов.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-311">Add `-CustomMethod` parameter to web cmdlets to allow for non-standard method verbs.</span></span> <span data-ttu-id="8ffb8-312">(#3142) (выражаем благодарность @Lee303)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-312">(#3142) (Thanks to @Lee303!)</span></span>
- <span data-ttu-id="8ffb8-313">Добавлена поддержка `SslProtocol` для веб-командлетов.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-313">Add `SslProtocol` support to Web Cmdlets.</span></span> <span data-ttu-id="8ffb8-314">(#5329) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-314">(#5329) (Thanks @markekraus!)</span></span>
- <span data-ttu-id="8ffb8-315">Добавлена поддержка составных данных для веб-командлетов.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-315">Add Multipart support to web cmdlets.</span></span> <span data-ttu-id="8ffb8-316">(#4782) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-316">(#4782) (Thanks @markekraus)</span></span>
- <span data-ttu-id="8ffb8-317">Добавлен `-NoProxy` для веб-командлетов, чтобы они игнорировали параметры прокси-сервера, действующие на уровне всей системы.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-317">Add `-NoProxy` to web cmdlets so that they ignore the system-wide proxy setting.</span></span> <span data-ttu-id="8ffb8-318">(#3447) (выражаем благодарность @TheFlyingCorpse)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-318">(#3447) (Thanks to @TheFlyingCorpse!)</span></span>
- <span data-ttu-id="8ffb8-319">Агент пользователя для веб-командлетов теперь сообщает платформу операционной системы (#4937) (выражаем благодарность @LDSpits)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-319">User Agent of Web Cmdlets now reports the OS platform (#4937) (Thanks @LDSpits)</span></span>
- <span data-ttu-id="8ffb8-320">Добавлен параметр `-SkipHeaderValidation` для веб-командлетов, чтобы поддерживать добавление заголовков без проверки их значения.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-320">Add `-SkipHeaderValidation` switch to web cmdlets to support adding headers without validating the header value.</span></span> <span data-ttu-id="8ffb8-321">(#4085)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-321">(#4085)</span></span>
- <span data-ttu-id="8ffb8-322">Разрешение веб-командлетам не проверять сертификат HTTPS сервера, если это необходимо.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-322">Enable web cmdlets to not validate the HTTPS certificate of the server if required.</span></span>
- <span data-ttu-id="8ffb8-323">Добавлены параметры проверки подлинности для веб-командлетов.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-323">Add authentication parameters to web cmdlets.</span></span> <span data-ttu-id="8ffb8-324">(#5052) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-324">(#5052) (Thanks @markekraus)</span></span>
  - <span data-ttu-id="8ffb8-325">Добавлен `-Authentication`, предоставляющий три параметра: Basic, OAuth и Bearer.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-325">Add `-Authentication` that provides three options: Basic, OAuth, and Bearer.</span></span>
  - <span data-ttu-id="8ffb8-326">Добавлен `-Token` для получения токена носителя для параметров OAuth и Bearer.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-326">Add `-Token` to get the bearer token for OAuth and Bearer options.</span></span>
  - <span data-ttu-id="8ffb8-327">Добавлен `-AllowUnencryptedAuthentication` для обхода проверки подлинности, предоставляемой для любой схемы транспорта, отличной от HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-327">Add `-AllowUnencryptedAuthentication` to bypass authentication that is provided for any transport scheme other than HTTPS.</span></span>
- <span data-ttu-id="8ffb8-328">Добавлен`-ResponseHeadersVariable` в `Invoke-RestMethod`, чтобы включить захват заголовков ответа.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-328">Add `-ResponseHeadersVariable` to `Invoke-RestMethod` to enable the capture of response headers.</span></span> <span data-ttu-id="8ffb8-329">(#4888) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-329">(#4888) (Thanks @markekraus)</span></span>
- <span data-ttu-id="8ffb8-330">Исправлены веб-командлеты, чтобы включать отклик HTTP в исключение, когда код состояния отклика отличается от успешного.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-330">Fix web cmdlets to include the HTTP response in the exception when the response status code is not success.</span></span> <span data-ttu-id="8ffb8-331">(#3201)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-331">(#3201)</span></span>
- <span data-ttu-id="8ffb8-332">Изменены веб-командлеты `UserAgent` с `WindowsPowerShell` на `PowerShell`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-332">Change web cmdlets `UserAgent` from `WindowsPowerShell` to `PowerShell`.</span></span> <span data-ttu-id="8ffb8-333">(#4914) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-333">(#4914) (Thanks @markekraus)</span></span>
- <span data-ttu-id="8ffb8-334">Добавлено явное обнаружение `ContentType` в `Invoke-RestMethod` (#4692)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-334">Add explicit `ContentType` detection to `Invoke-RestMethod` (#4692)</span></span>
- <span data-ttu-id="8ffb8-335">Исправлены веб-командлеты `-SkipHeaderValidation`, чтобы работать с нестандартными заголовками агента пользователя.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-335">Fix web cmdlets `-SkipHeaderValidation` to work with non-standard User-Agent headers.</span></span> <span data-ttu-id="8ffb8-336">(#4479 и #4512) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-336">(#4479 & #4512) (Thanks @markekraus)</span></span>

### <a name="json-cmdlets"></a><span data-ttu-id="8ffb8-337">Командлеты JSON</span><span class="sxs-lookup"><span data-stu-id="8ffb8-337">JSON cmdlets</span></span>

- <span data-ttu-id="8ffb8-338">Добавлен `-AsHashtable` в `ConvertFrom-Json`, чтобы возвращать `Hashtable`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-338">Add `-AsHashtable` to `ConvertFrom-Json` to return a `Hashtable` instead.</span></span> <span data-ttu-id="8ffb8-339">(#5043) (выражаем благодарность @bergmeister)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-339">(#5043) (Thanks @bergmeister!)</span></span>
- <span data-ttu-id="8ffb8-340">Используется более удобный модуль форматирования с выходным параметром `ConvertTo-Json`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-340">Use prettier formatter with `ConvertTo-Json` output.</span></span> <span data-ttu-id="8ffb8-341">(#2787) (выражаем благодарность @kittholland)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-341">(#2787) (Thanks to @kittholland!)</span></span>
- <span data-ttu-id="8ffb8-342">Добавлена поддержка сериализации `Jobject` для `ConvertTo-Json`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-342">Add `Jobject` serialization support to `ConvertTo-Json`.</span></span> <span data-ttu-id="8ffb8-343">(#5141)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-343">(#5141)</span></span>
- <span data-ttu-id="8ffb8-344">Исправлен `ConvertFrom-Json` для десериализации массива строк из конвейера, которые вместе составляют полную строку JSON.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-344">Fix `ConvertFrom-Json` to deserialize an array of strings from the pipeline that together construct a complete JSON string.</span></span>
  <span data-ttu-id="8ffb8-345">Это устраняет некоторые проблемы, когда символы новой строки нарушали синтаксический анализ JSON.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-345">This fixes some cases where newlines would break JSON parsing.</span></span> <span data-ttu-id="8ffb8-346">(#3823)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-346">(#3823)</span></span>
- <span data-ttu-id="8ffb8-347">Удалено свойство `AliasProperty "Count"`, определенное для `System.Array`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-347">Remove the `AliasProperty "Count"` defined for `System.Array`.</span></span>
  <span data-ttu-id="8ffb8-348">Это удаляет лишнее свойство `Count` для некоторых выходных данных `ConvertFrom-Json`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-348">This removes the extraneous `Count` property on some `ConvertFrom-Json` output.</span></span> <span data-ttu-id="8ffb8-349">(#3231) (выражаем благодарность @PetSerAl)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-349">(#3231) (Thanks to @PetSerAl!)</span></span>

### <a name="csv-cmdlets"></a><span data-ttu-id="8ffb8-350">Командлеты CSV</span><span class="sxs-lookup"><span data-stu-id="8ffb8-350">CSV cmdlets</span></span>

- <span data-ttu-id="8ffb8-351">Добавлена поддержка `PSTypeName` для `Import-Csv` и `ConvertFrom-Csv`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-351">Add `PSTypeName` Support for `Import-Csv` and `ConvertFrom-Csv`.</span></span> <span data-ttu-id="8ffb8-352">(#5389) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-352">(#5389) (Thanks @markekraus!)</span></span>
- <span data-ttu-id="8ffb8-353">В `Import-Csv` реализована поддержка `CR`, `LF` и `CRLF` в качестве разделителей строк.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-353">Make `Import-Csv` support `CR`, `LF`, and `CRLF` as line delimiters.</span></span> <span data-ttu-id="8ffb8-354">(#5363) (выражаем благодарность @iSazonov)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-354">(#5363) (Thanks @iSazonov!)</span></span>
- <span data-ttu-id="8ffb8-355">`-NoTypeInformation` используется по умолчанию в `Export-Csv` и `ConvertTo-Csv`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-355">Make `-NoTypeInformation` the default on `Export-Csv` and `ConvertTo-Csv`.</span></span> <span data-ttu-id="8ffb8-356">(#5164) (выражаем благодарность @markekraus)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-356">(#5164) (Thanks @markekraus)</span></span>

### <a name="service-cmdlets"></a><span data-ttu-id="8ffb8-357">Командлеты службы</span><span class="sxs-lookup"><span data-stu-id="8ffb8-357">Service cmdlets</span></span>

- <span data-ttu-id="8ffb8-358">Добавлены свойства `UserName`, `Description`, `DelayedAutoStart`, `BinaryPathName` и `StartupType` в объекты `ServiceController`, возвращаемые `Get-Service`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-358">Add properties `UserName`, `Description`, `DelayedAutoStart`, `BinaryPathName`, and `StartupType` to the `ServiceController` objects returned by `Get-Service`.</span></span> <span data-ttu-id="8ffb8-359">(#4907) (выражаем благодарность @joandrsn)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-359">(#4907) (Thanks @joandrsn)</span></span>
- <span data-ttu-id="8ffb8-360">Добавлена возможность задать учетные данные в команде `Set-Service`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-360">Add functionality to set credentials on `Set-Service` command.</span></span> <span data-ttu-id="8ffb8-361">(#4844) (выражаем благодарность @joandrsn)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-361">(#4844) (Thanks @joandrsn)</span></span>

### <a name="other-cmdlets"></a><span data-ttu-id="8ffb8-362">Другие командлеты</span><span class="sxs-lookup"><span data-stu-id="8ffb8-362">Other cmdlets</span></span>

- <span data-ttu-id="8ffb8-363">В `Get-ChildItem` добавлен параметр `-FollowSymlink`, обходящий символические ссылки по запросу с проверками циклов ссылки.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-363">Add a parameter to `Get-ChildItem` called `-FollowSymlink` that traverses symlinks on demand, with checks for link loops.</span></span> <span data-ttu-id="8ffb8-364">(#4020)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-364">(#4020)</span></span>
- <span data-ttu-id="8ffb8-365">Обновлен `Add-Type`, чтобы поддерживать `CSharpVersion7`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-365">Update `Add-Type` to support `CSharpVersion7`.</span></span> <span data-ttu-id="8ffb8-366">(#3933) (выражаем благодарность @iSazonov)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-366">(#3933) (Thanks to @iSazonov)</span></span>
- <span data-ttu-id="8ffb8-367">Удален модуль `Microsoft.PowerShell.LocalAccounts` из-за использования неподдерживаемых API, пока не будет найдено лучшее решение.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-367">Remove the `Microsoft.PowerShell.LocalAccounts` module due to the use of unsupported APIs until a better solution is found.</span></span> <span data-ttu-id="8ffb8-368">(#4302)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-368">(#4302)</span></span>
- <span data-ttu-id="8ffb8-369">Удалены командлеты `*-Counter` в `Microsoft.PowerShell.Diagnostics` из-за использования неподдерживаемых API, пока не будет найдено лучшее решение.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-369">Remove the `*-Counter` cmdlets in `Microsoft.PowerShell.Diagnostics` due to the use of unsupported APIs until a better solution is found.</span></span> <span data-ttu-id="8ffb8-370">(#4303)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-370">(#4303)</span></span>
- <span data-ttu-id="8ffb8-371">Добавлена поддержка для `Invoke-Item -Path <folder>`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-371">Add support for `Invoke-Item -Path <folder>`.</span></span> <span data-ttu-id="8ffb8-372">(#4262)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-372">(#4262)</span></span>
- <span data-ttu-id="8ffb8-373">Добавлены параметры `-Extension` и `-LeafBase` в `Split-Path`, чтобы вы могли разделить пути между расширением и остальной частью имени файла.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-373">Add `-Extension` and `-LeafBase` switches to `Split-Path` so that you can split paths between the filename extension and the rest of the filename.</span></span> <span data-ttu-id="8ffb8-374">(#2721) (выражаем благодарность @powercode)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-374">(#2721) (Thanks to @powercode!)</span></span>
- <span data-ttu-id="8ffb8-375">Добавлены параметры `-Top` и `-Bottom` в `Sort-Object` для сортировки N вехних/нижних элементов.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-375">Add parameters `-Top` and `-Bottom` to `Sort-Object` for Top/Bottom N sort</span></span>
- <span data-ttu-id="8ffb8-376">Предоставлен родительский процесс процесса путем добавления `CodeProperty "Parent"` в `System.Diagnostics.Process`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-376">Expose a process' parent process by adding the `CodeProperty "Parent"` to `System.Diagnostics.Process`.</span></span> <span data-ttu-id="8ffb8-377">(#2850) (выражаем благодарность @powercode)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-377">(#2850) (Thanks to @powercode!)</span></span>
- <span data-ttu-id="8ffb8-378">Использована единица измерения МБ вместо КБ для столбцов памяти в `Get-Process`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-378">Use MB instead of KB for memory columns of `Get-Process`</span></span>
- <span data-ttu-id="8ffb8-379">Добавлен параметр `-NoNewLine` для `Out-String`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-379">Add `-NoNewLine` switch for `Out-String`.</span></span> <span data-ttu-id="8ffb8-380">(#5056) (выражаем благодарность @raghav710)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-380">(#5056) (Thanks @raghav710)</span></span>
- <span data-ttu-id="8ffb8-381">Командлет `Move-Item` учитывает параметры `-Include`, `-Exclude` и `-Filter`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-381">`Move-Item` cmdlet honors `-Include`, `-Exclude`, and `-Filter` parameters.</span></span> <span data-ttu-id="8ffb8-382">(#3878)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-382">(#3878)</span></span>
- <span data-ttu-id="8ffb8-383">Разрешено использовать `*` в пути реестра для `Remove-Item`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-383">Allow `*` to be used in registry path for `Remove-Item`.</span></span> <span data-ttu-id="8ffb8-384">(#4866)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-384">(#4866)</span></span>
- <span data-ttu-id="8ffb8-385">Добавлен `-Title` в `Get-Credential`, и унифицирована работа с запросами для разных платформ.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-385">Add `-Title` to `Get-Credential` and unify the prompt experience across platforms.</span></span>
- <span data-ttu-id="8ffb8-386">Добавлен параметр `-TimeOut` в `Test-Connection`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-386">Add the `-TimeOut` parameter to `Test-Connection`.</span></span> <span data-ttu-id="8ffb8-387">(#2492)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-387">(#2492)</span></span>
- <span data-ttu-id="8ffb8-388">Командлеты `Get-AuthenticodeSignature` теперь могут получать метку времени для подписи файла.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-388">`Get-AuthenticodeSignature` cmdlets can now get file signature timestamp.</span></span> <span data-ttu-id="8ffb8-389">(#4061)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-389">(#4061)</span></span>
- <span data-ttu-id="8ffb8-390">Удален неподдерживаемый параметр `-ShowWindow` из `Get-Help`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-390">Remove unsupported `-ShowWindow` switch from `Get-Help`.</span></span> <span data-ttu-id="8ffb8-391">(#4903)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-391">(#4903)</span></span>
- <span data-ttu-id="8ffb8-392">Исправлен `Get-Content -Delimiter`, чтобы разделитель не включался в возвращаемые элементы массива (#3706) (выражаем благодарность @mklement0)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-392">Fix `Get-Content -Delimiter` to not include the delimiter in the array elements returned (#3706) (Thanks @mklement0)</span></span>
- <span data-ttu-id="8ffb8-393">Добавлены параметры `Meta`, `Charset` и `Transitional` в `ConvertTo-HTML` (#4184) (выражаем благодарность @ergo3114)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-393">Add `Meta`, `Charset`, and `Transitional` parameters to `ConvertTo-HTML` (#4184) (Thanks @ergo3114)</span></span>
- <span data-ttu-id="8ffb8-394">Добавлены свойства `WindowsUBR` и `WindowsVersion` в результат `Get-ComputerInfo`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-394">Add `WindowsUBR` and `WindowsVersion` properties to `Get-ComputerInfo` result</span></span>
- <span data-ttu-id="8ffb8-395">Добавлен параметр `-Group` в `Get-Verb`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-395">Add `-Group` parameter to `Get-Verb`</span></span>
- <span data-ttu-id="8ffb8-396">Добавлена поддержка `ShouldProcess` в `New-FileCatalog` и `Test-FileCatalog` (исправлены `-WhatIf` и `-Confirm`).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-396">Add `ShouldProcess` support to `New-FileCatalog` and `Test-FileCatalog` (fixes `-WhatIf` and `-Confirm`).</span></span> <span data-ttu-id="8ffb8-397">(#3074) (выражаем благодарность @iSazonov)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-397">(#3074) (Thanks to @iSazonov!)</span></span>
- <span data-ttu-id="8ffb8-398">Добавлен параметр `-WhatIf` в командлет `Start-Process` (#4735) (выражаем благодарность @sarithsutha)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-398">Add `-WhatIf` switch to `Start-Process` cmdlet (#4735) (Thanks @sarithsutha)</span></span>
- <span data-ttu-id="8ffb8-399">Добавлен `ValidateNotNullOrEmpty` со слишком большим количеством существующих параметров.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-399">Add `ValidateNotNullOrEmpty` too many existing parameters.</span></span>

## <a name="tab-completion"></a><span data-ttu-id="8ffb8-400">Заполнение нажатием клавиши TAB</span><span class="sxs-lookup"><span data-stu-id="8ffb8-400">Tab completion</span></span>

- <span data-ttu-id="8ffb8-401">Улучшено определение типа в функции автодополнения нажатием клавиши TAB на основе значений переменных среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-401">Enhanced the type inference in tab completion based on runtime variable values.</span></span> <span data-ttu-id="8ffb8-402">(#2744) (выражаем благодарность @powercode) Это позволяет использовать автодополнение нажатием клавиши TAB в следующих ситуациях:
  </span><span class="sxs-lookup"><span data-stu-id="8ffb8-402">(#2744) (Thanks to @powercode!) This enables tab completion in situations like:</span></span>

  ```powershell
  $p = Get-Process
  $p | Foreach-Object Prio<tab>
  ```

- <span data-ttu-id="8ffb8-403">Добавлено автодополнение нажатием клавиши TAB в хэш-таблице для `-Property` объекта `Select-Object`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-403">Add Hashtable tab completion for `-Property` of `Select-Object`.</span></span> <span data-ttu-id="8ffb8-404">(#3625) (выражаем благодарность @powercode)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-404">(#3625) (Thanks to @powercode)</span></span>
- <span data-ttu-id="8ffb8-405">Включено автоматическое завершение аргументов для `-ExcludeProperty` и `-ExpandProperty` объекта `Select-Object`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-405">Enable argument auto-completion for `-ExcludeProperty` and `-ExpandProperty` of `Select-Object`.</span></span> <span data-ttu-id="8ffb8-406">(#3443) (выражаем благодарность @iSazonov)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-406">(#3443) (Thanks to @iSazonov!)</span></span>
- <span data-ttu-id="8ffb8-407">Исправлена ошибка с автодополнением нажатием клавиши TAB при вызове `native.exe --<tab>` в собственном завершающем методе.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-407">Fix a bug in tab completion to make `native.exe --<tab>` call into native completer.</span></span> <span data-ttu-id="8ffb8-408">(#3633) (выражаем благодарность @powercode)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-408">(#3633) (Thanks to @powercode!)</span></span>

## <a name="breaking-changes"></a><span data-ttu-id="8ffb8-409">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="8ffb8-409">Breaking changes</span></span>

<span data-ttu-id="8ffb8-410">Мы представили в PowerShell MSXML 6.0 ряд критически важных изменений.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-410">We've introduced a number of breaking changes in PowerShell Core 6.0.</span></span>
<span data-ttu-id="8ffb8-411">Подробнее о них см. в разделе [Критические изменения в PowerShell Core 6.0][breaking-changes].</span><span class="sxs-lookup"><span data-stu-id="8ffb8-411">To read more about them in detail, see [Breaking Changes in PowerShell Core 6.0][breaking-changes].</span></span>

## <a name="debugging"></a><span data-ttu-id="8ffb8-412">Отладка</span><span class="sxs-lookup"><span data-stu-id="8ffb8-412">Debugging</span></span>

- <span data-ttu-id="8ffb8-413">Поддержка удаленной отладки с "шагом с заходом" для `Invoke-Command -ComputerName`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-413">Support for remote step-in debugging for `Invoke-Command -ComputerName`.</span></span> <span data-ttu-id="8ffb8-414">(#3015)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-414">(#3015)</span></span>
- <span data-ttu-id="8ffb8-415">Возможность ведения журналов отладки для модуля привязки в PowerShell Core.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-415">Enable binder debug logging in PowerShell Core</span></span>

## <a name="filesystem-updates"></a><span data-ttu-id="8ffb8-416">Обновления файловой системы</span><span class="sxs-lookup"><span data-stu-id="8ffb8-416">Filesystem updates</span></span>

- <span data-ttu-id="8ffb8-417">Разрешено использование поставщика файловой системы из UNC-пути.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-417">Enable usage of the Filesystem provider from a UNC path.</span></span> <span data-ttu-id="8ffb8-418">($4998)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-418">($4998)</span></span>
- <span data-ttu-id="8ffb8-419">`Split-Path` теперь работает с UNC-корнями.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-419">`Split-Path` now works with UNC roots</span></span>
- <span data-ttu-id="8ffb8-420">`cd` без аргументов теперь ведет себя как `cd ~`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-420">`cd` with no arguments now behaves as `cd ~`</span></span>
- <span data-ttu-id="8ffb8-421">Исправлен PowerShell Core, чтобы разрешить использование путей длиннее 260 символов.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-421">Fixed PowerShell Core to allow use of paths that are more than 260 characters long.</span></span> <span data-ttu-id="8ffb8-422">(#3960)</span><span class="sxs-lookup"><span data-stu-id="8ffb8-422">(#3960)</span></span>

## <a name="bug-fixes-and-performance-improvements"></a><span data-ttu-id="8ffb8-423">Исправления ошибок и улучшения производительности</span><span class="sxs-lookup"><span data-stu-id="8ffb8-423">Bug fixes and performance improvements</span></span>

<span data-ttu-id="8ffb8-424">Мы внесли *множество* усовершенствований для повышения производительности всего продукта PowerShell, в том числе улучшили время запуска, различные встроенные командлеты и взаимодействие с собственными двоичными файлами.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-424">We've made *many* improvements to performance across PowerShell, including in startup time, various built-in cmdlets, and interaction with native binaries.</span></span>

<span data-ttu-id="8ffb8-425">Мы также исправили несколько ошибок в PowerShell Core.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-425">We've also fixed a number of bugs within PowerShell Core.</span></span>
<span data-ttu-id="8ffb8-426">Полный список исправлений и изменений см. в нашем [журнале изменений][] на GitHub.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-426">For a complete list of fixes and changes, check out our [changelog][] on GitHub.</span></span>

## <a name="telemetry"></a><span data-ttu-id="8ffb8-427">Телеметрия</span><span class="sxs-lookup"><span data-stu-id="8ffb8-427">Telemetry</span></span>

- <span data-ttu-id="8ffb8-428">В PowerShell Core 6.0 добавлена телеметрия на узле консоли для вывода двух значений (#3620):</span><span class="sxs-lookup"><span data-stu-id="8ffb8-428">PowerShell Core 6.0 added telemetry to the console host to report two values (#3620):</span></span>
  - <span data-ttu-id="8ffb8-429">платформа ОС (`$PSVersionTable.OSDescription`);</span><span class="sxs-lookup"><span data-stu-id="8ffb8-429">the OS platform (`$PSVersionTable.OSDescription`)</span></span>
  - <span data-ttu-id="8ffb8-430">точная версия PowerShell (`$PSVersionTable.GitCommitId`).</span><span class="sxs-lookup"><span data-stu-id="8ffb8-430">the exact version of PowerShell (`$PSVersionTable.GitCommitId`)</span></span>

<span data-ttu-id="8ffb8-431">Если вы не хотите использовать эту телеметрию, просто удалите `$PSHome\DELETE_ME_TO_DISABLE_CONSOLEHOST_TELEMETRY` или создайте переменную среды `POWERSHELL_TELEMETRY_OPTOUT` с одним из следующих значений: `true`, `1` или `yes`.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-431">If you want to opt-out of this telemetry, simply delete `$PSHome\DELETE_ME_TO_DISABLE_CONSOLEHOST_TELEMETRY` or create `POWERSHELL_TELEMETRY_OPTOUT` environment variable with one of the following values: `true`, `1` or `yes`.</span></span>
<span data-ttu-id="8ffb8-432">В этом случае обход всей телеметрии выполняется даже до первого запуска PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8ffb8-432">Deleting this file or creating the variable bypasses all telemetry even before the first run of PowerShell.</span></span>
<span data-ttu-id="8ffb8-433">Мы также планируем публиковать данные телеметрии и основанные на них аналитические сведения на [панели мониторинга сообщества][community-dashboard].</span><span class="sxs-lookup"><span data-stu-id="8ffb8-433">We also plan on exposing this telemetry data and the insights we glean from the telemetry in the [community dashboard][community-dashboard].</span></span>
<span data-ttu-id="8ffb8-434">Дополнительные сведения о том, как мы используем эти данные, см. в этой [записи блога][telemetry-blog].</span><span class="sxs-lookup"><span data-stu-id="8ffb8-434">You can find out more about how we use this data in this [blog post][telemetry-blog].</span></span>

[github]: https://github.com/PowerShell/PowerShell
[.NET Core 2.0]: https://docs.microsoft.com/dotnet/core/
[.NET Standard]: https://docs.microsoft.com/en-us/dotnet/standard/net-standard
[os_log]: https://developer.apple.com/documentation/os/logging
[Syslog]: https://en.wikipedia.org/wiki/Syslog
[ssh-remoting]: ../core-powershell/SSH-Remoting-in-PowerShell-Core.md
[breaking-changes]: https://github.com/PowerShell/PowerShell/tree/master/docs/BREAKINGCHANGES.md
[журнале изменений]: https://github.com/PowerShell/PowerShell/tree/master/CHANGELOG.md
[changelog]: https://github.com/PowerShell/PowerShell/tree/master/CHANGELOG.md
[community-dashboard]: https://aka.ms/PSGitHubBI
[telemetry-blog]: https://blogs.msdn.microsoft.com/powershell/2017/01/31/powershell-open-source-community-dashboard/
[.NET Standard]: https://docs.microsoft.com/dotnet/standard/net-standard
[блоге о .NET]: https://blogs.msdn.microsoft.com/dotnet/2016/09/26/introducing-net-standard
[.NET Blog]: https://blogs.msdn.microsoft.com/dotnet/2016/09/26/introducing-net-standard
[YouTube]: https://www.youtube.com/watch?v=YI4MurjfMn8&list=PLRAdsfhKI4OWx321A_pr-7HhRNk7wOLLY
[часто задаваемых вопросах]: https://github.com/dotnet/standard/blob/master/docs/faq.md
[FAQ]: https://github.com/dotnet/standard/blob/master/docs/faq.md
[CDXML]: https://msdn.microsoft.com/library/jj542525(v=vs.85).aspx
[docker-hub]: https://hub.docker.com/r/microsoft/powershell/
[docker]: https://github.com/PowerShell/PowerShell/tree/master/docker
[windowspsmodulepath]: https://www.powershellgallery.com/packages/WindowsPSModulePath/
[semi-annual]: https://docs.microsoft.com/windows-server/get-started/semi-annual-channel-overview