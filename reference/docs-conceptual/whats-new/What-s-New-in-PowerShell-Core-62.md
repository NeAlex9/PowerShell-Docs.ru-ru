---
title: Новые возможности в PowerShell Core 6.2
description: Новые возможности и изменения в PowerShell Core 6.2
ms.date: 03/28/2019
ms.openlocfilehash: 6a0da8a410e602ae3963e0bc7bace745317d7d4b
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62058103"
---
# <a name="whats-new-in-powershell-core-62"></a>Новые возможности в PowerShell Core 6.2

В выпуске PowerShell Core 6.2 основное внимание уделено повышению производительности, исправлению ошибок, а также небольшим усовершенствованиям командлетов и языка, улучшающим качество. Полный список улучшений можно увидеть в наших подробных [журналах изменений](https://github.com/PowerShell/PowerShell/releases) на сайте GitHub.

## <a name="experimental-features"></a>Экспериментальные возможности

Ранее мы добавили поддержку [Экспериментальные возможности][]. В выпуске 6.2 имеются четыре экспериментальные возможности. Оставьте отзыв по этим возможностям, чтобы мы могли внести улучшения и решить, стоит ли переводить их в статус базовых.

Используйте командлет `Get-ExperimentalFeature`, чтобы получить список доступных экспериментальных возможностей. Их можно включить и отключить с помощью `Enable-ExperimentalFeature` и `Disable-ExperimentalFeature` соответственно.

### <a name="command-not-found-suggestions"></a>Предложения "Команда не найдена"

Эта возможность использует нечеткое соответствие, чтобы найти предложения для команд или командлетов, в которых вы, возможно, допустили опечатку.

```powershell
Enable-ExperimentalFeature -Name PSCommandNotFoundSuggestion
```

#### <a name="example"></a>Пример

В этом примере имя командлета с ошибками нечетко соответствует нескольким предложениям от наиболее до наименее вероятных.

```powershell
Get-Commnd
```

```Output
Get-Commnd : The term 'Get-Commnd' is not recognized as the name of a cmdlet, function, script file, or operable program.
Check the spelling of the name, or if a path was included, verify that the path is correct and try again.
At line:1 char:1
+ Get-Commnd
+ ~~~~~~~~~~
+ CategoryInfo          : ObjectNotFound: (Get-Commnd:String) [], CommandNotFoundException
+ FullyQualifiedErrorId : CommandNotFoundException


Suggestion [4,General]: The most similar commands are: Get-Command, Get-Content, Get-Job, Get-Module, Get-Event, Get-Host, Get-Member, Get-Item, Set-Content.
```

### <a name="implicit-remoting-batching"></a>Пакетная обработка неявного удаленного взаимодействия

При использовании [неявного удаленного взаимодействия](https://devblogs.microsoft.com/scripting/remoting-the-implicit-way/) в конвейере PowerShell обрабатывает каждую команду в конвейере независимо. Во время работы конвейера объекты периодически сериализуются и десериализуются (`de-serialized`) между клиентом и удаленной системой.

С помощью этой возможности PowerShell анализирует конвейер, чтобы определить, является ли команда безопасной для выполнения и существует ли она в целевой системе. Если значение TRUE, PowerShell выполняет весь конвейер удаленно и сериализует и десериализует (`de-serializes`) обратно в клиент только результаты.

```powershell
Enable-ExperimentalFeature -Name PSImplicitRemotingBatching
```

Реальное тестирование `Get-Process | Sort-Object` через localhost уменьшается с 10–15 секунд до 20–30 **миллисекунд**. Эта возможность должна быть включена только в клиенте. Изменения на сервере не требуются.

### <a name="temp-drive"></a>Временной диск

```powershell
Enable-ExperimentalFeature -Name PSTempDrive
```

Если вы используете PowerShell Core в различных операционных системах, вы обнаружите, что переменная среды для поиска временного каталога отличается в Windows, macOS и Linux. Благодаря этой возможности вы получаете диск [PSDrive][] с именем `Temp:`, который автоматически сопоставляется с временной папкой для используемой операционной системы.

#### <a name="example"></a>Пример

```powershell
PS> "Hello World!" > Temp:/hello.txt
PS> `Get-Content` Temp:/hello.txt
Hello World!
```

Имейте в виду, что исходным системным командам с файлами (например, `ls` в Linux) неизвестно о дисках PSDrive и для них этот диск `Temp:` не будет отображаться.

### <a name="abbreviation-expansion"></a>Расширение сокращения

Командлеты PowerShell должны иметь описательные существительные. Из-за этого у них длинные имена, которые сложнее вводить. Эта возможность позволяет вам просто вводить командлет прописными символами и использовать заполнение нажатием клавиши TAB для поиска совпадений.

```powershell
Enable-ExperimentalFeature -Name PSUseAbbreviationExpansion
```

#### <a name="example"></a>Пример

```powershell
PS> i-arsavsf
```

Если вы нажмете клавишу TAB при наличии установленного модуля Azure PowerShell [Az](https://www.powershellgallery.com/packages/Az), автоматически подставится такое:

```Output
PS> Import-AzRecoveryServicesAsrVaultSettingsFile
```

> [!NOTE]
> Эта возможность предназначена для интерактивного использования. Сокращенные формы командлетов выполнить невозможно.
> Эта возможность не используется в качестве замены псевдонимов.

## <a name="breaking-changes"></a>Критические изменения

- Поведение командлета `-NoEnumerate` в `Write-Output` исправлено для согласованности с Windows PowerShell. (№ 9069)
- Результат `Join-String -InputObject 1,2,3` стал равным результату `1,2,3 | Join-String` (№ 8611). (Выражаем благодарность @sethvs.)
- К командлету `Sort-Object` и связанным тестам добавлен параметр `-Stable` к (№ 7862). (Выражаем благодарность @KirkMunro.)
- Командлет `Start-Sleep` улучшен для принятия долей секунд (№ 8537). (Выражаем благодарность @Prototyyppi.)
- Хэш-таблица изменена для использования параметра OrdinalIgnoreCase со значением `case-insensitive` на всех языках (№ 8566).
- Параметр **LiteralPath** в командлете `Import-Csv` теперь привязан к выходным данным `Get-ChildItem` (№ 8277). (Выражаем благодарность @iSazonov.)
- Столбец без имени больше не пропускается, если в командлете `Import-Csv` используется разделитель двойными кавычками (№ 7899). (Выражаем благодарность @Topping.)
- Командлет `Get-ExperimentalFeature` больше не имеет параметр `-ListAvailable` (№ 8318).
- Параметр Debug теперь задает значение **Continue** вместо **Inquire** для переменной `$DebugPreference` (№ 8195). (Выражаем благодарность @KirkMunro.)
- Параметр `-OutputFormat` учитывается, если указан в неинтерактивной, перенаправленной, закодированной команде, используемой с pwsh (№ 8115).
- Сборка загружается из базового пути к модулю перед попыткой загрузить из глобального кэша сборок (№ 8073).
- Удалена тильда из предварительной версии пакетов Linux (№ 8244).
- Обработка `-WorkingDirectory` теперь выполняется перед обработкой профилей (№ 8079).
- Переменная среды `PATHEXT` не добавлена в Unix (№ 7697). (Выражаем благодарность @iSazonov.)

## <a name="known-issues"></a>Известные проблемы

- При удаленном взаимодействии на платформах ARM Windows IоT возникает проблема с загрузкой модулей. См. № 8053.

## <a name="general-updates-and-fixes"></a>Общие обновления и исправления

- Разрешено заполнение нажатием клавиши TAB без учета регистра для файлов и папок в файловой системе с учетом регистра (№ 8128).
- PSVersionInfo.PSVersion и PSVersionInfo.PSEdition стали общедоступными (№ 8054). (Выражаем благодарность @KirkMunro.)
- Добавлено определение типа для `$_` / `$PSItem` в блоках `catch{ }` (№ 8020). (Выражаем благодарность @vexx32.)
- Исправлено определение типа вызова статического метода (№ 8018). (Выражаем благодарность @SeeminglyScience.)
- Созданы выводимые типы для `Select-Object`, `Group-Object`, **PSObject** и **Hashtable** (№ 7231). (Выражаем благодарность @powercode.)
- Предоставлена поддержка вызова метода с параметрами типа `ByRef-like` (№ 7721).
- Добавлена обработка случая, когда путь к модулю Windows PowerShell уже находится в PSModulePath среды (№ 7727).
- Включены командлеты `SecureString` для отличающихся от Windows продуктов с сохранением обычного текста (№ 9199).
- Улучшено сообщение об ошибке в отличающихся от Windows продуктах при импорте CLIXML-файла с использованием securestring (№ 7997).
- Добавлен параметр ReplyTo в командлет `Send-MailMessage` (№ 8727). (Выражаем благодарность @replicaJunction.)
- Добавлено сообщение об устаревшем объекте для параметра `Send-MailMessage` (№ 9178).
- Исправлена ошибка с командлетом `Restart-Computer`: теперь он работает с `localhost` при отсутствии WinRM (№ 9160).
- Теперь командлет `Start-Job` возвращает критическую ошибку при размещении PowerShell (№ 9128).
- Добавлены ускорители типов стиля C# и суффиксы для литералов ushort, uint, ulong и short (№ 7813). (Выражаем благодарность @vexx32.)
- Добавлены новые суффиксы для числовых литералов (№ 7901). См. [сведения о числовых литералах][]. (Выражаем благодарность @vexx32.)
- Теперь уровень влияния правильно сообщается, когда для параметра SupportsShouldProcess не установлено значение true (№ 8209). (Выражаем благодарность @vexx32.)
- Исправлены проблемы с кодировкой запросов в веб-командлетах (№ 8742). (Выражаем благодарность @markekraus.)
- Исправлена проблема с ожиданием `100-continue` для веб-командлетов (№ 8679). (Выражаем благодарность @markekraus.)
- Исправлена проблема блокировки файла для веб-командлетов (№ 7676.) (Выражаем благодарность @Claustn.)
- Исправлена проблема с анализом кодовой страницы в `Invoke-RestMethod` (№ 8694). (Выражаем благодарность @markekraus.)
- Выполнен рефакторинг командлета `ConvertTo-Json` для предоставления JsonObject.ConvertToJson в качестве общедоступного API (№ 8682).
- Добавлена настраиваемая максимальная глубина в командлете `ConvertFrom-Json` с помощью параметра -Depth (№ 8199). (Выражаем благодарность @louistio).
- Добавлен параметр EscapeHandling в командлет `ConvertTo-Json` (№ 7775). (Выражаем благодарность @iSazonov.)
- Добавлен параметр `-CustomPipeName` в pwsh и `Enter-PSHostProcess` (№ 8889).
- Добавлена возможность создания относительных символических ссылок в Windows с помощью `New-Item` (№ 8783).
- Пользователям Windows разрешено в режиме разработчика создавать символические ссылки без повышения прав (№ 8534).
- Теперь командлет `Write-Information` принимает `$null` (№ 8774).
- Командлет `Get-Help` исправлен для расширенных функций с содержимым справки MAML (№ 8353).
- Исправлена проблема PSTypeName `Get-Help` с -Parameter, когда объявлялся только один параметр (№ 8754). (Выражаем благодарность @pougetat.)
- Исправлено вычисление токена для командлета `Get-Help`, выполненного в ScriptBlock для справки в комментариях (№ 8238). (Выражаем благодарность @hubuk.)
- Изменен параметр -Parameter командлета `Get-Help` для принятия строкового массива (№ 8454). (Выражаем благодарность @sethvs.)
- Теперь PAGER разрешается, если его путь содержит пробелы (№ 8571). (Выражаем благодарность @pougetat.)
- Добавлен запрос при использовании `less` в функции help, чтобы указать пользователю, как выйти (№ 7998).
- Добавлено перечисление поддержки и типы char в командлете `Format-Hex` (№ 8191). (Выражаем благодарность @iSazonov.)
- Удален параметр ShouldProcess из командлета `Format-Hex` (№ 8178).
- Добавлены новые параметры Offset и Count в командлет `Format-Hex` и выполнен его рефакторинг (№ 7877). (Выражаем благодарность @iSazonov.)
- Атрибут name разрешен в качестве ключа псевдонима для label в командлете `ConvertTo-Html`, и запись width может быть целым числом (№ 8426). (Выражаем благодарность @mklement0.)
- Вычисляемые свойства на основе ScriptBlock снова работают в командлете `ConvertTo-Html` (№ 8427). (Выражаем благодарность @mklement0.)
- Добавлен командлет `Join-String` для создания текста из входных данных конвейера (№ 7660.) (Выражаем благодарность @powercode.)
- Исправлена логика параметра FormatString командлета `Join-String` (№ 8449). (Выражаем благодарность @sethvs.)
- Функция `Clear-Host` снова использует `$RAWUI` и работает через удаленное взаимодействие (№ 8609).
- Название функции `Clear-Host` изменено на простое имя `[console]::clear`, и псевдоним clear удален из Unix (№ 8603).
- Параметр LiteralPath в командлете `Import-Csv` теперь привязан к выходным данным `Get-ChildItem` (№ 8277). (Выражаем благодарность @iSazonov.)
- Функция справки не должна использовать пейджер для AliasHelpInfo (№ 8552).
- В командлет `Start-Transcript` добавлен параметр `-UseMinimalHeader`, чтобы свернуть заголовок записи (№ 8402). (выражаем благодарность @lukexjeremy.)
- Добавлены командлеты `Enable-ExperimentalFeature` и `Disable-ExperimentalFeature` (№ 8318).
- Теперь все командлеты из **PSDiagnostics** предоставлены, если доступно средство logman.exe (№ 8366).
- Удален параметр **Persist** из командлета `New-PSDrive` на платформе `non-Windows` (№ 8291.) (Выражаем благодарность @lukexjeremy.)
- Добавлена поддержка для `cd +` (№ 7206). (Выражаем благодарность @bergmeister.)
- Теперь `Set-Location -LiteralPath` работает с папками с именами "-" и "+" (№ 8089).
- `Test-Path` возвращает значение `$false`, когда дано пустое значение пути или `$null` (№ 8080). (Выражаем благодарность @vexx32.)
- Разрешен возврат динамического параметра, даже если путь не соответствует ни одному поставщику (№ 7957).
- Предоставлена поддержка командлетов `Get-PSHostProcessInfo` и `Enter-PSHostProcess` на платформах Unix (№ 8232).
- Уменьшено количество выделений в командлете `Get-Content` (№ 8103). (Выражаем благодарность @iSazonov.)
- Теперь командлет `Add-Content` предоставляет общий доступ на чтение другим инструментам во время записи содержимого (№ 8091).
- `Get/Add-Content` выдает улучшенную ошибку при выборе контейнера (№ 7823). (Выражаем благодарность @kvprasoon.)
- Добавлены параметры `-Name`, `-NoUserOverrides` и `-ListAvailable` в командлет `Get-Culture` (№ 7702). (Выражаем благодарность @iSazonov.)
- Добавлен унифицированный атрибут для завершения для параметра **Encoding** (№ 7732). (Выражаем благодарность @ThreeFive-O.)
- Разрешены числовые ИД и имя зарегистрированных кодовых страниц в параметрах **Encoding** (№ 7636). (Выражаем благодарность @iSazonov.)
- Исправлен `Rename-Item -Path` с использованием подстановочного знака char (№ 7398). (Выражаем благодарность @kwkam.)
- Когда командлет `Start-Transcript` применяется при существовании файла, используется пустой файл, а не удаление (№ 8131). (Выражаем благодарность @paalbra.)
- Командлет `Add-Type` явно открывает исходные файлы с доступом **FileAccess.Read** и **FileShare.Read** (№ 7915). (Выражаем благодарность @IISResetMe.)
- Исправлена команда `Enter-PSSession -ContainerId` для последней версии Windows (№ 7883).
- Теперь командлет `Test-ModuleManifest` заполняет свойство **NestedModules** (№ 7859).
- Добавлено условие `%F` к `Get-Date` -UFormat (№ 7630). (Выражаем благодарность @britishben.)
- Командлет `Set-Service -Status Stopped` исправлен для остановки служб с зависимостями (№ 5525). (Выражаем благодарность @zhenggu.)

<!-- Link references -->
[Сведения о числовых литералах]: /powershell/module/Microsoft.PowerShell.Core/About/about_numeric_literals
[Экспериментальные возможности]: /powershell/module/Microsoft.PowerShell.Core/About/about_Experimental_Features
[PSDrive]: /powershell/module/microsoft.powershell.management/new-psdrive
