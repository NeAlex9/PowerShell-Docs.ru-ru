---
description: Описывает действие Checkpoint-Workflow, которое принимает контрольную точку в рабочем процессе.
keywords: powershell,командлет
Locale: en-US
ms.date: 06/09/2017
online version: https://docs.microsoft.com/powershell/module/psworkflow/about/about_checkpoint-workflow?view=powershell-5.1&WT.mc_id=ps-gethelp
schema: 2.0.0
title: Рабочий процесс about_Checkpoint
ms.openlocfilehash: 223deb07ff6ed387cf04736116ea0ce3f998bb59
ms.sourcegitcommit: f874dc1d4236e06a3df195d179f59e0a7d9f8436
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2020
ms.locfileid: "93231621"
---
# <a name="about-checkpoint-workflow"></a>О Checkpoint-Workflow

## <a name="short-description"></a>КРАТКОЕ ОПИСАНИЕ
Описывает действие Checkpoint-Workflow, которое принимает контрольную точку в рабочем процессе.

## <a name="long-description"></a>ПОДРОБНОЕ ОПИСАНИЕ

Действие Checkpoint-Workflow принимает контрольную точку, которая сохраняет состояние и данные в рабочем процессе. Если рабочий процесс приостановлен или прерван, его можно возобновить с самой последней контрольной точки, а не перезапускать.

Действие Checkpoint-Workflow допустимо только в рабочем процессе.

### <a name="syntax"></a>SYNTAX

```
Workflow <Verb-Noun>
{
    Checkpoint-Workflow
}
```

Действие Checkpoint-Workflow не принимает никаких параметров, включая общие параметры и общие параметры рабочего процесса.

Вы можете поместить контрольную точку Checkpoint-Activity в любое место в рабочем процессе после инструкции CmdletBinding или param. Однако при размещении контрольных точек учитывайте затраты на производительность при сборе данных и записи на диск на компьютере, на котором выполняется рабочий процесс.

Убедитесь, что время, необходимое для перезапуска раздела рабочего процесса в случае его прерывания, больше, чем время, которое занимает запись состояния и данных контрольной точки на диск.

Рассмотрите возможность создания контрольных точек после критических действий, чтобы рабочий процесс можно было возобновить, а не перезапускать. Например, создавайте контрольную точку после команд, которые не идемпотентными.

### <a name="about-checkpoints"></a>О КОНТРОЛЬНЫХ ТОЧКАХ

Контрольная точка — это моментальный снимок текущего состояния рабочего процесса, включая текущие значения переменных и любые выходные данные, созданные на этот момент, который сохраняется на диске.

Если рабочий процесс был прерван, намеренно или непреднамеренно, Рабочий процесс Windows PowerShell автоматически использует данные в последней контрольной точке для восстановления и возобновления рабочего процесса.

При запуске рабочего процесса в качестве задания, например с помощью общего параметра рабочего процесса AsJob, контрольные точки рабочих процессов сохраняются до тех пор, пока не будет удалено задание, например с помощью командлета Remove-Job.
В противном случае контрольные точки рабочих процессов удаляются после завершения рабочего процесса.

### <a name="other-checkpointing-techniques"></a>ДРУГИЕ МЕТОДЫ СОЗДАНИЯ КОНТРОЛЬНЫХ ТОЧЕК

Помимо Checkpoint-Workflow действия, Рабочий процесс Windows PowerShell поддерживает другие методы создания контрольных точек, включая следующие.

- Общий параметр рабочего процесса PSPersist
- Общий параметр действия PSPersist
- Переменная Псперсистпреференце (в рабочем процессе)

Дополнительные сведения о добавлении контрольной точки в рабочий процесс см. в разделе "Добавление контрольных точек в рабочий процесс".

## <a name="examples"></a>Примеры

Следующий рабочий процесс включает вызов действия Checkpoint-Workflow после завершения длительной функции и скрипта, который совместно используют данные.

```powershell
Workflow Test-Workflow
{
    $a = Invoke-LongRunningFunction
    InlineScript { \\Server\Share\Get-DataPacks.ps1 $Using:a}
    Checkpoint-Workflow

    Invoke-LongRunningFunction
    {
        ...
    }
}
```

## <a name="see-also"></a>СМ. ТАКЖЕ

[Запись рабочего процесса Windows PowerShell](/previous-versions/powershell/scripting/developer/workflow/writing-a-windows-powershell-workflow)
