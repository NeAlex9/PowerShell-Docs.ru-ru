---
external help file: Microsoft.PowerShell.Commands.Diagnostics.dll-Help.xml
keywords: powershell,командлет
Locale: en-US
Module Name: Microsoft.PowerShell.Diagnostics
ms.date: 11/20/2019
online version: https://docs.microsoft.com/powershell/module/microsoft.powershell.diagnostics/get-winevent?view=powershell-6&WT.mc_id=ps-gethelp
schema: 2.0.0
title: Get-WinEvent
ms.openlocfilehash: 72455745d4523a33cac4ccca5af9c8be29ac9e37
ms.sourcegitcommit: 9b28fb9a3d72655bb63f62af18b3a5af6a05cd3f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/07/2020
ms.locfileid: "93229222"
---
# <span data-ttu-id="3a3fb-103">Get-WinEvent</span><span class="sxs-lookup"><span data-stu-id="3a3fb-103">Get-WinEvent</span></span>

## <span data-ttu-id="3a3fb-104">Краткий обзор</span><span class="sxs-lookup"><span data-stu-id="3a3fb-104">SYNOPSIS</span></span>
<span data-ttu-id="3a3fb-105">Получает события из журналов событий и файлов журналов трассировки событий на локальных и удаленных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-105">Gets events from event logs and event tracing log files on local and remote computers.</span></span>

## <span data-ttu-id="3a3fb-106">SYNTAX</span><span class="sxs-lookup"><span data-stu-id="3a3fb-106">SYNTAX</span></span>

### <span data-ttu-id="3a3fb-107">GetLogSet (по умолчанию)</span><span class="sxs-lookup"><span data-stu-id="3a3fb-107">GetLogSet (Default)</span></span>

```
Get-WinEvent [[-LogName] <String[]>] [-MaxEvents <Int64>] [-ComputerName <String>]
 [-Credential <PSCredential>] [-FilterXPath <String>] [-Force] [-Oldest] [<CommonParameters>]
```

### <span data-ttu-id="3a3fb-108">ListLogSet</span><span class="sxs-lookup"><span data-stu-id="3a3fb-108">ListLogSet</span></span>

```
Get-WinEvent [-ListLog] <String[]> [-ComputerName <String>] [-Credential <PSCredential>] [-Force]
 [<CommonParameters>]
```

### <span data-ttu-id="3a3fb-109">ListProviderSet</span><span class="sxs-lookup"><span data-stu-id="3a3fb-109">ListProviderSet</span></span>

```
Get-WinEvent [-ListProvider] <String[]> [-ComputerName <String>] [-Credential <PSCredential>]
 [<CommonParameters>]
```

### <span data-ttu-id="3a3fb-110">GetProviderSet</span><span class="sxs-lookup"><span data-stu-id="3a3fb-110">GetProviderSet</span></span>

```
Get-WinEvent [-ProviderName] <String[]> [-MaxEvents <Int64>] [-ComputerName <String>]
 [-Credential <PSCredential>] [-FilterXPath <String>] [-Force] [-Oldest] [<CommonParameters>]
```

### <span data-ttu-id="3a3fb-111">FileSet</span><span class="sxs-lookup"><span data-stu-id="3a3fb-111">FileSet</span></span>

```
Get-WinEvent [-Path] <String[]> [-MaxEvents <Int64>] [-Credential <PSCredential>]
 [-FilterXPath <String>] [-Oldest] [<CommonParameters>]
```

### <span data-ttu-id="3a3fb-112">HashQuerySet</span><span class="sxs-lookup"><span data-stu-id="3a3fb-112">HashQuerySet</span></span>

```
Get-WinEvent [-MaxEvents <Int64>] [-ComputerName <String>] [-Credential <PSCredential>]
 [-FilterHashtable] <Hashtable[]> [-Force] [-Oldest] [<CommonParameters>]
```

### <span data-ttu-id="3a3fb-113">XmlQuerySet</span><span class="sxs-lookup"><span data-stu-id="3a3fb-113">XmlQuerySet</span></span>

```
Get-WinEvent [-MaxEvents <Int64>] [-ComputerName <String>] [-Credential <PSCredential>]
 [-FilterXml] <XmlDocument> [-Oldest] [<CommonParameters>]
```

## <span data-ttu-id="3a3fb-114">DESCRIPTION</span><span class="sxs-lookup"><span data-stu-id="3a3fb-114">DESCRIPTION</span></span>

<span data-ttu-id="3a3fb-115">`Get-WinEvent`Командлет получает события из журналов событий, включая классические журналы, такие как журналы **системы** и **приложений** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-115">The `Get-WinEvent` cmdlet gets events from event logs, including classic logs, such as the **System** and **Application** logs.</span></span> <span data-ttu-id="3a3fb-116">Командлет получает данные из журналов событий, созданных с помощью технологии журнала событий Windows, представленной в Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-116">The cmdlet gets data from event logs that are generated by the Windows Event Log technology introduced in Windows Vista.</span></span> <span data-ttu-id="3a3fb-117">И события в файлах журнала, создаваемых функцией **трассировки событий для Windows (ETW)**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-117">And, events in log files generated by **Event Tracing for Windows (ETW)**.</span></span> <span data-ttu-id="3a3fb-118">По умолчанию `Get-WinEvent` возвращает сведения о событиях в порядке от новых к старым.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-118">By default, `Get-WinEvent` returns event information in the order of newest to oldest.</span></span>

<span data-ttu-id="3a3fb-119">`Get-WinEvent` Список журналов событий и поставщиков журналов событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-119">`Get-WinEvent` lists event logs and event log providers.</span></span> <span data-ttu-id="3a3fb-120">Чтобы прервать выполнение команды, нажмите клавиши <kbd>CTRL</kbd> + <kbd>C</kbd>.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-120">To interrupt the command, press <kbd>CTRL</kbd>+<kbd>C</kbd>.</span></span> <span data-ttu-id="3a3fb-121">События можно получить из выбранных журналов или из журналов, созданных выбранными поставщиками событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-121">You can get events from selected logs or from logs generated by selected event providers.</span></span> <span data-ttu-id="3a3fb-122">Кроме того, можно объединять события из нескольких источников в одну команду.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-122">And, you can combine events from multiple sources in a single command.</span></span>
<span data-ttu-id="3a3fb-123">`Get-WinEvent` позволяет фильтровать события с помощью запросов XPath, структурированных XML-запросов и запросов хэш-таблиц.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-123">`Get-WinEvent` allows you to filter events using XPath queries, structured XML queries, and hash table queries.</span></span>

<span data-ttu-id="3a3fb-124">Если вы не используете PowerShell с правами администратора, могут появиться сообщения об ошибках, которые не позволяют получить сведения о журнале.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-124">If you're not running PowerShell as an Administrator, you might see error messages that you cannot retrieve information about a log.</span></span>

## <span data-ttu-id="3a3fb-125">Примеры</span><span class="sxs-lookup"><span data-stu-id="3a3fb-125">EXAMPLES</span></span>

### <span data-ttu-id="3a3fb-126">Пример 1. получение всех журналов с локального компьютера</span><span class="sxs-lookup"><span data-stu-id="3a3fb-126">Example 1: Get all the logs from a local computer</span></span>

<span data-ttu-id="3a3fb-127">Эта команда возвращает все журналы событий на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-127">This command gets all the event logs on the local computer.</span></span> <span data-ttu-id="3a3fb-128">Журналы перечислены в порядке `Get-WinEvent` их получения.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-128">Logs are listed in the order that `Get-WinEvent` gets them.</span></span> <span data-ttu-id="3a3fb-129">Сначала извлекаются классические журналы, а затем новые журналы событий Windows.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-129">Classic logs are retrieved first, followed by the new Windows Event logs.</span></span>
<span data-ttu-id="3a3fb-130">**RecordCount** журнала может иметь значение null, которое пустое или равно нулю.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-130">It's possible for a log's **RecordCount** to be null, which is blank, or zero.</span></span>

```powershell
Get-WinEvent -ListLog *
```

```Output
LogMode   MaximumSizeInBytes RecordCount LogName
-------   ------------------ ----------- -------
Circular            15532032       14500 Application
Circular             1052672         117 Azure Information Protection
Circular             1052672        3015 CxAudioSvcLog
Circular            20971520             ForwardedEvents
Circular            20971520           0 HardwareEvents
```

<span data-ttu-id="3a3fb-131">`Get-WinEvent`Командлет получает данные журнала с компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-131">The `Get-WinEvent` cmdlet gets log information from the computer.</span></span> <span data-ttu-id="3a3fb-132">Параметр **листлог** использует `*` подстановочный знак звездочки () для вывода сведений о каждом журнале.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-132">The **ListLog** parameter uses the asterisk (`*`) wildcard to display information about each log.</span></span>

### <span data-ttu-id="3a3fb-133">Пример 2. получение классического журнала установки</span><span class="sxs-lookup"><span data-stu-id="3a3fb-133">Example 2: Get the classic Setup log</span></span>

<span data-ttu-id="3a3fb-134">Эта команда возвращает объект **EventLogConfiguration** , представляющий Классический журнал **установки** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-134">This command gets an **EventLogConfiguration** object that represents the classic **Setup** log.</span></span> <span data-ttu-id="3a3fb-135">Объект содержит сведения о журнале, такие как размер файла, поставщик, путь к файлу и включение журнала.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-135">The object includes information about the log, such as file size, provider, file path, and whether the log is enabled.</span></span>

```powershell
Get-WinEvent -ListLog Setup | Format-List -Property *
```

```Output
FileSize                       : 69632
IsLogFull                      : False
LastAccessTime                 : 3/13/2019 09:41:46
LastWriteTime                  : 3/13/2019 09:41:46
OldestRecordNumber             : 1
RecordCount                    : 23
LogName                        : Setup
LogType                        : Operational
LogIsolation                   : Application
IsEnabled                      : True
IsClassicLog                   : False
SecurityDescriptor             : O:BAG:SYD: ...
LogFilePath                    : %SystemRoot%\System32\Winevt\Logs\Setup.evtx
MaximumSizeInBytes             : 1052672
LogMode                        : Circular
OwningProviderName             : Microsoft-Windows-Eventlog
ProviderNames                  : {Microsoft-Windows-WUSA, Microsoft-Windows-ActionQueue...
ProviderLevel                  :
ProviderKeywords               :
ProviderBufferSize             : 64
ProviderMinimumNumberOfBuffers : 0
ProviderMaximumNumberOfBuffers : 64
ProviderLatency                : 1000
ProviderControlGuid            :
```

<span data-ttu-id="3a3fb-136">`Get-WinEvent`Командлет использует параметр **листлог** для указания журнала **установки** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-136">The `Get-WinEvent` cmdlet uses the **ListLog** parameter to specify the **Setup** log.</span></span> <span data-ttu-id="3a3fb-137">Объект отправляется по конвейеру в `Format-List` командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-137">The object is sent down the pipeline to the `Format-List` cmdlet.</span></span> <span data-ttu-id="3a3fb-138">`Format-List` использует параметр **Property** с `*` подстановочным знаком звездочки () для вывода каждого свойства.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-138">`Format-List` uses the **Property** parameter with the asterisk (`*`) wildcard to display each property.</span></span>

### <span data-ttu-id="3a3fb-139">Пример 3. получение журналов событий с сервера</span><span class="sxs-lookup"><span data-stu-id="3a3fb-139">Example 3: Get event logs from a server</span></span>

<span data-ttu-id="3a3fb-140">Эта команда возвращает только журналы событий на локальном компьютере, которые содержат события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-140">This command only gets event logs on the local computer that contain events.</span></span> <span data-ttu-id="3a3fb-141">**RecordCount** журнала может иметь значение null или равняться нулю.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-141">It's possible for a log's **RecordCount** to be null or zero.</span></span> <span data-ttu-id="3a3fb-142">В примере используется `$_` переменная.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-142">The example uses the `$_` variable.</span></span> <span data-ttu-id="3a3fb-143">Дополнительные сведения см. в разделе [about_Automatic_Variables](../Microsoft.PowerShell.Core/about/about_automatic_variables.md).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-143">For more information, see [about_Automatic_Variables](../Microsoft.PowerShell.Core/about/about_automatic_variables.md).</span></span>

```powershell
Get-WinEvent -ListLog * -ComputerName localhost | Where-Object { $_.RecordCount }
```

```Output
LogMode   MaximumSizeInBytes RecordCount LogName
-------   ------------------ ----------- -------
Circular            15532032       14546 Application
Circular             1052672         117 Azure Information Protection
Circular             1052672        2990 CxAudioSvcLog
Circular             1052672           9 MSFTVPN Setup
Circular             1052672         282 OAlerts
```

<span data-ttu-id="3a3fb-144">`Get-WinEvent`Командлет получает данные журнала с компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-144">The `Get-WinEvent` cmdlet gets log information from the computer.</span></span> <span data-ttu-id="3a3fb-145">Параметр **листлог** использует `*` подстановочный знак звездочки () для вывода сведений о каждом журнале.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-145">The **ListLog** parameter uses the asterisk (`*`) wildcard to display information about each log.</span></span> <span data-ttu-id="3a3fb-146">Параметр **ComputerName** задает получение журналов с локального компьютера, **localhost**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-146">The **ComputerName** parameter specifies to get the logs from the local computer, **localhost**.</span></span> <span data-ttu-id="3a3fb-147">Объекты отправляются по конвейеру в `Where-Object` командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-147">The objects are sent down the pipeline to the `Where-Object` cmdlet.</span></span> <span data-ttu-id="3a3fb-148">`Where-Object` использует `$_.RecordCount` для возврата только журналов, содержащих данные.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-148">`Where-Object` uses `$_.RecordCount` to return only logs that contain data.</span></span> <span data-ttu-id="3a3fb-149">`$_` переменная, представляющая текущий объект в конвейере.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-149">`$_` is a variable that represents the current object in the pipeline.</span></span> <span data-ttu-id="3a3fb-150">**RecordCount** — это свойство объекта со значением, отличным от NULL.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-150">**RecordCount** is a property of the object with a non-null value.</span></span>

### <span data-ttu-id="3a3fb-151">Пример 4. получение журналов событий с нескольких серверов</span><span class="sxs-lookup"><span data-stu-id="3a3fb-151">Example 4: Get event logs from multiple servers</span></span>

<span data-ttu-id="3a3fb-152">Этот пример получает объекты, представляющие журналы событий **приложений** на трех компьютерах: Server01, Server02 и Server03.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-152">This example gets objects that represent the **Application** event logs on three computers: Server01, Server02, and Server03.</span></span> <span data-ttu-id="3a3fb-153">Используется ключевое слово **foreach** , так как параметр **ComputerName** принимает только одно значение.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-153">The **ForEach** keyword is used because the **ComputerName** parameter accepts only one value.</span></span> <span data-ttu-id="3a3fb-154">Дополнительные сведения см. в разделе [about_Foreach](../Microsoft.PowerShell.Core/about/about_Foreach.md).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-154">For more information, see [about_Foreach](../Microsoft.PowerShell.Core/about/about_Foreach.md).</span></span>

```powershell
$S = 'Server01', 'Server02', 'Server03'
ForEach ($Server in $S) {
  Get-WinEvent -ListLog Application -ComputerName $Server |
    Select-Object LogMode, MaximumSizeInBytes, RecordCount, LogName,
      @{name='ComputerName'; expression={$Server}} |
    Format-Table -AutoSize
}
```

```Output
 LogMode MaximumSizeInBytes RecordCount LogName     ComputerName
 ------- ------------------ ----------- -------     ------------
Circular           15532032       14577 Application Server01
Circular           15532032        9689 Application Server02
Circular           15532032        5309 Application Server03
```

<span data-ttu-id="3a3fb-155">Переменная `$S` хранит имена трех серверов: **Server01** , **Server02** и **Server03**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-155">The variable `$S` stores the names three servers: **Server01** , **Server02** , and **Server03**.</span></span> <span data-ttu-id="3a3fb-156">Оператор **foreach** использует цикл для обработки каждого сервера `($Server in $S)` .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-156">The **ForEach** statement uses a loop to process each server, `($Server in $S)`.</span></span> <span data-ttu-id="3a3fb-157">Блок скрипта в фигурных скобках ( `{ }` ) выполняет `Get-WinEvent` команду.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-157">The script block in the curly braces (`{ }`) runs the `Get-WinEvent` command.</span></span> <span data-ttu-id="3a3fb-158">Параметр **листлог** указывает журнал **приложения** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-158">The **ListLog** parameter specifies the **Application** log.</span></span> <span data-ttu-id="3a3fb-159">Параметр **ComputerName** использует переменную `$Server` для получения сведений журнала с каждого сервера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-159">The **ComputerName** parameter uses the variable `$Server` to get log information from each server.</span></span>

<span data-ttu-id="3a3fb-160">Объекты отправляются по конвейеру в `Select-Object` командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-160">The objects are sent down the pipeline to the `Select-Object` cmdlet.</span></span> <span data-ttu-id="3a3fb-161">`Select-Object` Получает свойства **LogMode** , **максимумсизеинбитес** , **RecordCount** , имя **, а** также использует вычисляемое выражение для вывода имени **компьютера** с помощью `$Server` переменной.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-161">`Select-Object` gets the properties **LogMode** , **MaximumSizeInBytes** , **RecordCount** , **LogName** , and uses a calculated expression to display the **ComputerName** using the `$Server` variable.</span></span> <span data-ttu-id="3a3fb-162">Объекты отправляются по конвейеру в `Format-Table` командлет для вывода выходных данных в консоли PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-162">The objects are sent down the pipeline to the `Format-Table` cmdlet to display the output in the PowerShell console.</span></span> <span data-ttu-id="3a3fb-163">Параметр **AutoSize** форматирует выходные данные в соответствии с экраном экрана.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-163">The **AutoSize** parameter formats the output to fit the screen.</span></span>

### <span data-ttu-id="3a3fb-164">Пример 5. получение поставщиков журнала событий и имен журналов</span><span class="sxs-lookup"><span data-stu-id="3a3fb-164">Example 5: Get event log providers and log names</span></span>

<span data-ttu-id="3a3fb-165">Эта команда возвращает поставщиков журналов событий и журналы, в которые они записываются.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-165">This command gets the event log providers and the logs to which they write.</span></span>

```powershell
Get-WinEvent -ListProvider *
```

```Output
Name     : .NET Runtime
LogLinks : {Application}
Opcodes  : {}
Tasks    : {}

Name     : .NET Runtime Optimization Service
LogLinks : {Application}
Opcodes  : {}
Tasks    : {}
```

<span data-ttu-id="3a3fb-166">`Get-WinEvent`Командлет получает данные журнала с компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-166">The `Get-WinEvent` cmdlet gets log information from the computer.</span></span> <span data-ttu-id="3a3fb-167">Параметр **листпровидер** использует `*` подстановочный знак звездочки () для вывода сведений о каждом поставщике.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-167">The **ListProvider** parameter uses the asterisk (`*`) wildcard to display information about each provider.</span></span> <span data-ttu-id="3a3fb-168">В выходных данных **имя** является поставщиком, а **логлинкс** — журналом, в который записывает поставщик.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-168">In the output, the **Name** is the provider and **LogLinks** is the log that the provider writes to.</span></span>

### <span data-ttu-id="3a3fb-169">Пример 6. получение всех поставщиков журнала событий, записывающих записи в конкретный журнал</span><span class="sxs-lookup"><span data-stu-id="3a3fb-169">Example 6: Get all event log providers that write to a specific log</span></span>

<span data-ttu-id="3a3fb-170">Эта команда возвращает всех поставщиков, которые записывают в журнал **приложения** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-170">This command gets all of the providers that write to the **Application** log.</span></span>

```powershell
(Get-WinEvent -ListLog Application).ProviderNames
```

```Output
.NET Runtime
.NET Runtime Optimization Service
Application
Application Error
Application Hang
Application Management
```

<span data-ttu-id="3a3fb-171">`Get-WinEvent`Командлет получает данные журнала с компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-171">The `Get-WinEvent` cmdlet gets log information from the computer.</span></span> <span data-ttu-id="3a3fb-172">Параметр **листлог** использует **приложение** для получения объектов для этого журнала.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-172">The **ListLog** parameter uses **Application** to get objects for that log.</span></span> <span data-ttu-id="3a3fb-173">**Провидернамес** — это свойство объекта, в котором отображаются поставщики, записывающие записи в журнал **приложения** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-173">**ProviderNames** is a property of the object and displays the providers that write to the **Application** log.</span></span>

### <span data-ttu-id="3a3fb-174">Пример 7. Получение имен регистраторов событий, содержащих определенную строку</span><span class="sxs-lookup"><span data-stu-id="3a3fb-174">Example 7: Get event log provider names that contain a specific string</span></span>

<span data-ttu-id="3a3fb-175">Эта команда получает регистраторы журнала событий с именами, которые содержат определенную строку в имени поставщика.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-175">This command gets the event log providers with names that include a specific string in the provider's name.</span></span>

```powershell
Get-WinEvent -ListProvider *Policy*
```

```Output
Name     : Group Policy Applications
LogLinks : {Application}
Opcodes  : {}
Tasks    : {}

Name     : Group Policy Client
LogLinks : {Application}
Opcodes  : {}
Tasks    : {}

Name     : Group Policy Data Sources
LogLinks : {Application}
Opcodes  : {}
Tasks    : {}
```

<span data-ttu-id="3a3fb-176">`Get-WinEvent`Командлет получает данные журнала с компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-176">The `Get-WinEvent` cmdlet gets log information from the computer.</span></span> <span data-ttu-id="3a3fb-177">Параметр **листпровидер** использует `*` подстановочный знак звездочки () для поиска **политики** в любом месте имени поставщика.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-177">The **ListProvider** parameter uses the asterisk (`*`) wildcard to find **Policy** anywhere within the provider's name.</span></span>

### <span data-ttu-id="3a3fb-178">Пример 8. получение идентификаторов событий, создаваемых поставщиком событий</span><span class="sxs-lookup"><span data-stu-id="3a3fb-178">Example 8: Get Event Ids that the event provider generates</span></span>

<span data-ttu-id="3a3fb-179">Эта команда выводит список идентификаторов событий, создаваемых поставщиком событий **Microsoft-Windows-GroupPolicy** вместе с описанием события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-179">This command lists the Event Ids that the **Microsoft-Windows-GroupPolicy** event provider generates along with the event description.</span></span>

```powershell
(Get-WinEvent -ListProvider Microsoft-Windows-GroupPolicy).Events | Format-Table Id, Description
```

```Output
  Id  Description
  --  -----------
1500  The Group Policy settings for the computer were processed successfully...
1501  The Group Policy settings for the user were processed successfully...
4115  Group Policy Service started.
4116  Started the Group Policy service initialization phase.
4117  Group Policy Session started.
```

<span data-ttu-id="3a3fb-180">`Get-WinEvent`Командлет получает данные журнала с компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-180">The `Get-WinEvent` cmdlet gets log information from the computer.</span></span> <span data-ttu-id="3a3fb-181">Параметр **листпровидер** указывает поставщик, **Microsoft-Windows-GroupPolicy**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-181">The **ListProvider** parameter specifies the provider, **Microsoft-Windows-GroupPolicy**.</span></span> <span data-ttu-id="3a3fb-182">Выражение заключено в круглые скобки и использует свойство **Events** для получения объектов.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-182">The expression is wrapped in parentheses and uses the **Events** property to get objects.</span></span> <span data-ttu-id="3a3fb-183">Объекты отправляются по конвейеру в `Format-Table` командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-183">The objects are sent down the pipeline to the `Format-Table` cmdlet.</span></span> <span data-ttu-id="3a3fb-184">`Format-Table` Отображает **идентификатор** и **Описание** объектов событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-184">`Format-Table` displays the **Id** and **Description** of the event objects.</span></span>

### <span data-ttu-id="3a3fb-185">Пример 9. Получение сведений о журнале из свойств объекта события</span><span class="sxs-lookup"><span data-stu-id="3a3fb-185">Example 9: Get log information from event object properties</span></span>

<span data-ttu-id="3a3fb-186">В этом примере показано, как получить сведения о содержимом журнала с помощью свойств объекта события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-186">This example shows how to get information about a log's contents using event object properties.</span></span>
<span data-ttu-id="3a3fb-187">Объекты событий хранятся в переменной, а затем группируются и подсчитываются по **идентификатору события** и **уровню**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-187">Event objects are stored in a variable and then grouped and counted by **Event Id** and **Level**.</span></span>

```powershell
$Event = Get-WinEvent -LogName 'Windows PowerShell'
$Event.Count
$Event | Group-Object -Property Id -NoElement | Sort-Object -Property Count -Descending
$Event | Group-Object -Property LevelDisplayName -NoElement
```

```Output
195

Count  Name
-----  ----
  147  600
   22  400
   21  601
    3  403
    2  103

Count  Name
-----  ----
    2  Warning
  193  Information
```

<span data-ttu-id="3a3fb-188">`Get-WinEvent`Для указания журнала событий **Windows PowerShell** командлет использует параметр " **/l** ".</span><span class="sxs-lookup"><span data-stu-id="3a3fb-188">The `Get-WinEvent` cmdlet uses the **LogName** parameter to specify the **Windows PowerShell** event log.</span></span> <span data-ttu-id="3a3fb-189">Объекты событий хранятся в `$Event` переменной.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-189">The event objects are stored in the `$Event` variable.</span></span> <span data-ttu-id="3a3fb-190">Свойство **Count** объекта `$Event` показывает общее число зарегистрированных событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-190">The **Count** property of `$Event`shows the total number of logged events.</span></span>

<span data-ttu-id="3a3fb-191">`$Event`Переменная отправляется в командлет по конвейеру `Group-Object` .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-191">The `$Event` variable is sent down the pipeline to the `Group-Object` cmdlet.</span></span> <span data-ttu-id="3a3fb-192">`Group-Object` использует параметр **Property** для задания свойства **ID** и подсчитывает объекты по значению идентификатора события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-192">`Group-Object` uses the **Property** parameter to specify the **Id** property and counts the objects by the event Id value.</span></span> <span data-ttu-id="3a3fb-193">Параметр **элемента** удаления удаляет другие свойства из выходных данных объектов.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-193">The **NoElement** parameter removes other properties from the objects output.</span></span> <span data-ttu-id="3a3fb-194">Сгруппированные объекты отправляются по конвейеру в `Sort-Object` командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-194">The grouped objects are sent down the pipeline to the `Sort-Object` cmdlet.</span></span> <span data-ttu-id="3a3fb-195">`Sort-Object` использует параметр **Property** для сортировки объектов по **количеству**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-195">`Sort-Object` uses the **Property** parameter to sort the objects by **Count**.</span></span> <span data-ttu-id="3a3fb-196">Параметр **Descending** отображает выходные данные по количеству от самого высокого до самого низкого.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-196">The **Descending** parameter displays the output by count, from highest to lowest.</span></span> <span data-ttu-id="3a3fb-197">В выходных данных столбец **Count** содержит общее число каждого события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-197">In the output, the **Count** column contains the total number of each event.</span></span> <span data-ttu-id="3a3fb-198">В столбце **имя** содержатся идентификационные номера сгруппированных событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-198">The **Name** column contains the grouped event Id numbers.</span></span>

<span data-ttu-id="3a3fb-199">`$Event`Переменная отправляется в командлет по конвейеру `Group-Object` .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-199">The `$Event` variable is sent down the pipeline to the `Group-Object` cmdlet.</span></span> <span data-ttu-id="3a3fb-200">`Group-Object` использует параметр **Property** для указания свойства **левелдисплайнаме** и подсчитывает объекты по **левелдисплайнаме**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-200">`Group-Object` uses the **Property** parameter to specify the **LevelDisplayName** property and counts the objects by **LevelDisplayName**.</span></span> <span data-ttu-id="3a3fb-201">Объекты группируются по уровням, например **предупреждениям** и **сведениям**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-201">The objects are grouped by the levels such as **Warning** and **Information**.</span></span>
<span data-ttu-id="3a3fb-202">Параметр **элемента** не удаляет другие свойства из выходных данных.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-202">The **NoElement** parameter removes other properties from the output.</span></span> <span data-ttu-id="3a3fb-203">В выходных данных столбец **Count** содержит общее число каждого события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-203">In the output, the **Count** column contains the total number of each event.</span></span> <span data-ttu-id="3a3fb-204">Столбец **Name** содержит сгруппированные **левелдисплайнаме**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-204">The **Name** column contains the grouped **LevelDisplayName**.</span></span>

### <span data-ttu-id="3a3fb-205">Пример 10. получение событий ошибки, в имени которых указана строка</span><span class="sxs-lookup"><span data-stu-id="3a3fb-205">Example 10: Get error events that have a specified string in their name</span></span>

<span data-ttu-id="3a3fb-206">В этом примере используется строка имен журналов с разделителями-запятыми.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-206">This example uses a comma-separated string of log names.</span></span> <span data-ttu-id="3a3fb-207">Выходные данные группируются по уровню, например ошибке или предупреждению, и имени журнала.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-207">The output is grouped by the level such as error or warning and the log name.</span></span>

```powershell
Get-WinEvent -LogName *PowerShell*, Microsoft-Windows-Kernel-WHEA* |
  Group-Object -Property LevelDisplayName, LogName -NoElement |
    Format-Table -AutoSize
```

```Output
Count  Name
-----  ----
    1  Error, PowerShellCore/Operational
   26  Information, Microsoft-Windows-Kernel-WHEA/Operational
  488  Information, Microsoft-Windows-PowerShell/Operational
   77  Information, PowerShellCore/Operational
 9835  Information, Windows PowerShell
   19  Verbose, PowerShellCore/Operational
  444  Warning, Microsoft-Windows-PowerShell/Operational
  512  Warning, PowerShellCore/Operational
```

<span data-ttu-id="3a3fb-208">`Get-WinEvent`Командлет получает данные журнала с компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-208">The `Get-WinEvent` cmdlet gets log information from the computer.</span></span> <span data-ttu-id="3a3fb-209">Параметр **"имя** журнала" использует строку с разделителями-запятыми с `*` подстановочным знаком звездочки () для указания имен журналов.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-209">The **LogName** parameter uses a comma-separated string with the asterisk (`*`) wildcard to specify the log names.</span></span> <span data-ttu-id="3a3fb-210">Объекты отправляются по конвейеру в `Group-Object` командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-210">The objects are sent down the pipeline to the `Group-Object` cmdlet.</span></span> <span data-ttu-id="3a3fb-211">`Group-Object` использует параметр **Property** для группирования объектов по **левелдисплайнаме** **и в** качестве значения параметра.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-211">`Group-Object` uses the **Property** parameter to group the objects by **LevelDisplayName** and **LogName**.</span></span> <span data-ttu-id="3a3fb-212">Параметр **элемента** не удаляет другие свойства из выходных данных.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-212">The **NoElement** parameter removes other properties from the output.</span></span> <span data-ttu-id="3a3fb-213">Сгруппированные объекты отправляются по конвейеру в `Format-Table` командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-213">The grouped objects are sent down the pipeline to the `Format-Table` cmdlet.</span></span> <span data-ttu-id="3a3fb-214">`Format-Table` использует параметр **AutoSize** для форматирования столбцов.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-214">`Format-Table` uses the **AutoSize** parameter to format the columns.</span></span> <span data-ttu-id="3a3fb-215">Столбец **Count** содержит общее число каждого события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-215">The **Count** column contains the total number of each event.</span></span> <span data-ttu-id="3a3fb-216">Столбец **Name** содержит сгруппированные **левелдисплайнаме** и имя. **LogName**</span><span class="sxs-lookup"><span data-stu-id="3a3fb-216">The **Name** column contains the grouped **LevelDisplayName** and **LogName**.</span></span>

### <span data-ttu-id="3a3fb-217">Пример 11. получение событий из архивного журнала событий</span><span class="sxs-lookup"><span data-stu-id="3a3fb-217">Example 11: Get events from an archived event log</span></span>

<span data-ttu-id="3a3fb-218">`Get-WinEvent` может получать сведения о событиях из сохраненных файлов журнала.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-218">`Get-WinEvent` can get event information from saved log files.</span></span> <span data-ttu-id="3a3fb-219">В этом примере используется архивный журнал PowerShell, хранящийся на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-219">This sample uses an archived PowerShell log that is stored on the local computer.</span></span>

```powershell
Get-WinEvent -Path 'C:\Test\Windows PowerShell.evtx'
```

```Output
   ProviderName: PowerShell

TimeCreated              Id LevelDisplayName  Message
-----------              -- ----------------  -------
3/15/2019 13:54:13      403 Information       Engine state is changed from Available to Stopped...
3/15/2019 13:54:13      400 Information       Engine state is changed from None to Available...
3/15/2019 13:54:13      600 Information       Provider "Variable" is Started...
3/15/2019 13:54:13      600 Information       Provider "Function" is Started...
3/15/2019 13:54:13      600 Information       Provider "FileSystem" is Started...
```

<span data-ttu-id="3a3fb-220">`Get-WinEvent`Командлет получает данные журнала с компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-220">The `Get-WinEvent` cmdlet gets log information from the computer.</span></span> <span data-ttu-id="3a3fb-221">Параметр **path** указывает каталог и имя файла.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-221">The **Path** parameter specifies the directory and file name.</span></span>

### <span data-ttu-id="3a3fb-222">Пример 12. получение определенного числа событий из архивного журнала событий</span><span class="sxs-lookup"><span data-stu-id="3a3fb-222">Example 12: Get a specific number of events from an archived event log</span></span>

<span data-ttu-id="3a3fb-223">Эти команды получают определенное количество событий из архивного журнала событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-223">These commands get a specific number of events from an archived event log.</span></span> <span data-ttu-id="3a3fb-224">`Get-WinEvent` имеет параметры, которые могут получить максимальное число событий или самые старые события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-224">`Get-WinEvent` has parameters that can get a maximum number of events or the oldest events.</span></span> <span data-ttu-id="3a3fb-225">В этом примере используется архивный журнал PowerShell, хранящийся в **к:\тест\повершеллкоре. evtx**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-225">This sample uses an archived PowerShell log that is stored in **C:\Test\PowerShellCore Operational.evtx**.</span></span>

```powershell
Get-WinEvent -Path 'C:\Test\PowerShellCore Operational.evtx' -MaxEvents 100
```

```Output
   ProviderName: PowerShellCore

TimeCreated                 Id   LevelDisplayName  Message
-----------                 --   ----------------  -------
3/15/2019 09:54:54        4104   Warning           Creating Scriptblock text (1 of 1):...
3/15/2019 09:37:13       40962   Information       PowerShell console is ready for user input
3/15/2019 07:56:24        4104   Warning           Creating Scriptblock text (1 of 1):...
...
3/7/2019 10:53:22        40961   Information       PowerShell console is starting up
3/7/2019 10:53:22         8197   Verbose           Runspace state changed to Opening
3/7/2019 10:53:22         8195   Verbose           Opening RunspacePool
```

<span data-ttu-id="3a3fb-226">`Get-WinEvent`Командлет получает данные журнала с компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-226">The `Get-WinEvent` cmdlet gets log information from the computer.</span></span> <span data-ttu-id="3a3fb-227">Параметр **path** указывает каталог и имя файла.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-227">The **Path** parameter specifies the directory and filename.</span></span> <span data-ttu-id="3a3fb-228">Параметр **MaxEvents** указывает, что отображаются записи 100, от новых к старым.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-228">The **MaxEvents** parameter specifies that 100 records are displayed, from newest to oldest.</span></span>

### <span data-ttu-id="3a3fb-229">Пример 13. трассировка событий для Windows</span><span class="sxs-lookup"><span data-stu-id="3a3fb-229">Example 13: Event Tracing for Windows</span></span>

<span data-ttu-id="3a3fb-230">Трассировка событий для Windows (ETW) записывает события в журнал по мере возникновения событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-230">Event Tracing for Windows (ETW) writes events to the log as events occur.</span></span> <span data-ttu-id="3a3fb-231">События хранятся в порядке от самого старого до самого нового.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-231">The events are stored in the order of oldest to newest.</span></span> <span data-ttu-id="3a3fb-232">Архивный файл ETW сохраняется как `.etl` **TraceLog. ETL**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-232">An archived ETW file is saved as an `.etl` such as **TraceLog.etl**.</span></span>
<span data-ttu-id="3a3fb-233">События перечисляются в том порядке, в котором они записываются в журнал, поэтому необходим *самый старый* параметр.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-233">The events are listed in the order in which they are written to the log, so the *Oldest* parameter is required.</span></span>

```powershell
Get-WinEvent -Path 'C:\Tracing\TraceLog.etl' -Oldest |
  Sort-Object -Property TimeCreated -Descending |
    Select-Object -First 100
```

<span data-ttu-id="3a3fb-234">`Get-WinEvent`Командлет получает данные журнала из архивного файла.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-234">The `Get-WinEvent` cmdlet gets log information from the archived file.</span></span> <span data-ttu-id="3a3fb-235">Параметр **path** указывает каталог и имя файла.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-235">The **Path** parameter specifies the directory and file name.</span></span> <span data-ttu-id="3a3fb-236">Самый **старый** параметр используется для вывода событий в том порядке, в котором они написаны, от старых к новым.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-236">The **Oldest** parameter is used to output events in the order they are written, oldest to newest.</span></span> <span data-ttu-id="3a3fb-237">Объекты отправляются по конвейеру в `Sort-Object` командлет `Sort-Object` сортирует объекты в порядке убывания по значению свойства **TimeCreated** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-237">The objects are sent down the pipeline to the `Sort-Object` cmdlet `Sort-Object` sorts the objects in descending order by the value of the **TimeCreated** property.</span></span> <span data-ttu-id="3a3fb-238">Объекты отправляются по конвейеру в `Select-Object` командлет, который отображает новые события 100.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-238">The objects are sent down the pipeline to the `Select-Object` cmdlet that displays the 100 newest events.</span></span>

### <span data-ttu-id="3a3fb-239">Пример 14. получение событий из журнала трассировки событий</span><span class="sxs-lookup"><span data-stu-id="3a3fb-239">Example 14: Get events from an event trace log</span></span>

<span data-ttu-id="3a3fb-240">В этом примере показано, как получить события из файла журнала трассировки событий ( `.etl` ) и архивного файла журнала Windows PowerShell ( `.evtx` ).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-240">This example shows how to get the events from an event trace log file (`.etl`) and an archived Windows PowerShell log file (`.evtx`).</span></span> <span data-ttu-id="3a3fb-241">Можно объединить несколько типов файлов в одну команду.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-241">You can combine multiple file types in a single command.</span></span>
<span data-ttu-id="3a3fb-242">Так как файлы содержат один и тот же **.NET Framework** тип объекта .NET Framework **EventLogRecord** , их можно отфильтровать с помощью тех же свойств.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-242">Because the files contain the same type of **.NET Framework** object, **EventLogRecord** , you can filter them with the same properties.</span></span> <span data-ttu-id="3a3fb-243">Команде требуется **самый старый** параметр, так как он считывает из `.etl` файла, но самый **старый** параметр применяется к каждому файлу.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-243">The command requires the **Oldest** parameter because it is reading from an `.etl` file, but the **Oldest** parameter applies to each file.</span></span>

```powershell
Get-WinEvent -Path 'C:\Tracing\TraceLog.etl', 'C:\Test\Windows PowerShell.evtx' -Oldest |
  Where-Object { $_.Id -eq '403' }
```

<span data-ttu-id="3a3fb-244">`Get-WinEvent`Командлет получает данные журнала из архивных файлов.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-244">The `Get-WinEvent` cmdlet gets log information from the archived files.</span></span> <span data-ttu-id="3a3fb-245">Параметр **path** использует список с разделителями-запятыми для указания каталога файлов и имени файла.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-245">The **Path** parameter uses a comma-separated list to specify each files directory and file name.</span></span> <span data-ttu-id="3a3fb-246">Самый **старый** параметр используется для вывода событий в том порядке, в котором они написаны, от старых к новым.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-246">The **Oldest** parameter is used to output events in the order they are written, oldest to newest.</span></span> <span data-ttu-id="3a3fb-247">Объекты отправляются по конвейеру в `Where-Object` командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-247">The objects are sent down the pipeline to the `Where-Object` cmdlet.</span></span> <span data-ttu-id="3a3fb-248">`Where-Object` использует блок скрипта для поиска событий с **идентификатором** **403**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-248">`Where-Object` uses a script block to find events with and **Id** of **403**.</span></span> <span data-ttu-id="3a3fb-249">`$_`Переменная представляет текущий объект в конвейере, а **идентификатор** — свойство идентификатора события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-249">The `$_` variable represents the current object in the pipeline and **Id** is the Event Id property.</span></span>

### <span data-ttu-id="3a3fb-250">Пример 15. Фильтрация результатов журнала событий</span><span class="sxs-lookup"><span data-stu-id="3a3fb-250">Example 15: Filter event log results</span></span>

<span data-ttu-id="3a3fb-251">В этом примере показаны различные методы фильтрации и выбора событий из журнала событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-251">This example shows a variety of methods to filter and select events from an event log.</span></span> <span data-ttu-id="3a3fb-252">Все эти команды получают события, произошедшие за последние 24 часа, из журнала событий **Windows PowerShell** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-252">All of these commands get events that occurred in the last 24-hours from the **Windows PowerShell** event log.</span></span>
<span data-ttu-id="3a3fb-253">Методы фильтрации более эффективны, чем использование `Where-Object` командлета.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-253">The filter methods are more efficient than using the `Where-Object` cmdlet.</span></span> <span data-ttu-id="3a3fb-254">Фильтры применяются при извлечении объектов.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-254">Filters are applied as the objects are retrieved.</span></span> <span data-ttu-id="3a3fb-255">`Where-Object` Извлекает все объекты, а затем применяет фильтры ко всем объектам.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-255">`Where-Object` retrieves all of the objects, then applies filters to all of the objects.</span></span>

```powershell
# Using the Where-Object cmdlet:
$Yesterday = (Get-Date) - (New-TimeSpan -Day 1)
Get-WinEvent -LogName 'Windows PowerShell' | Where-Object { $_.TimeCreated -ge $Yesterday }

# Using the FilterHashtable parameter:
$Yesterday = (Get-Date) - (New-TimeSpan -Day 1)
Get-WinEvent -FilterHashtable @{ LogName='Windows PowerShell'; Level=3; StartTime=$Yesterday }

# Using the FilterXML parameter:
$xmlQuery = @'
<QueryList>
  <Query Id="0" Path="Windows PowerShell">
    <Select Path="System">*[System[(Level=3) and
        TimeCreated[timediff(@SystemTime) &lt;= 86400000]]]</Select>
  </Query>
</QueryList>
'@
Get-WinEvent -FilterXML $xmlQuery

# Using the FilterXPath parameter:
$XPath = '*[System[Level=3 and TimeCreated[timediff(@SystemTime) &lt;= 86400000]]]'
Get-WinEvent -LogName 'Windows PowerShell' -FilterXPath $XPath
```

### <span data-ttu-id="3a3fb-256">Пример 16. Использование FilterHashtable для получения событий из журнала приложений</span><span class="sxs-lookup"><span data-stu-id="3a3fb-256">Example 16: Use FilterHashtable to get events from the Application log</span></span>

<span data-ttu-id="3a3fb-257">В этом примере используется параметр **FilterHashtable** для получения событий из журнала **приложений** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-257">This example uses the **FilterHashtable** parameter to get events from the **Application** log.</span></span> <span data-ttu-id="3a3fb-258">Хэш-таблица использует пары " **ключ-значение** ".</span><span class="sxs-lookup"><span data-stu-id="3a3fb-258">The hash table uses **key/value** pairs.</span></span> <span data-ttu-id="3a3fb-259">Дополнительные сведения о параметре **FilterHashtable** см. в разделе [Создание запросов Get-WinEvent с помощью FilterHashtable](/powershell/scripting/samples/Creating-Get-WinEvent-queries-with-FilterHashtable).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-259">For more information about the **FilterHashtable** parameter, see [Creating Get-WinEvent queries with FilterHashtable](/powershell/scripting/samples/Creating-Get-WinEvent-queries-with-FilterHashtable).</span></span>
<span data-ttu-id="3a3fb-260">Дополнительные сведения о хэш-таблицах см. [здесь](../Microsoft.PowerShell.Core/about/about_hash_tables.md).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-260">For more information about hash tables, see [about_Hash_Tables](../Microsoft.PowerShell.Core/about/about_hash_tables.md).</span></span>

```powershell
$Date = (Get-Date).AddDays(-2)
Get-WinEvent -FilterHashtable @{ LogName='Application'; StartTime=$Date; Id='1003' }
```

<span data-ttu-id="3a3fb-261">`Get-Date`Командлет использует метод **AddDays** для получения даты, которая в два дня предшествует текущей дате.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-261">The `Get-Date` cmdlet uses the **AddDays** method to get a date that is two days before the current date.</span></span> <span data-ttu-id="3a3fb-262">Объект Date хранится в `$Date` переменной.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-262">The date object is stored in the `$Date` variable.</span></span>

<span data-ttu-id="3a3fb-263">`Get-WinEvent`Командлет получает сведения о журнале.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-263">The `Get-WinEvent` cmdlet gets log information.</span></span> <span data-ttu-id="3a3fb-264">Параметр **FilterHashtable** используется для фильтрации выходных данных.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-264">The **FilterHashtable** parameter is used to filter the output.</span></span> <span data-ttu-id="3a3fb-265">Ключ **«имя журнала** » указывает значение в журнале **приложения** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-265">The **LogName** key specifies the value as the **Application** log.</span></span> <span data-ttu-id="3a3fb-266">Ключ **StartTime** использует значение, хранящееся в `$Date` переменной.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-266">The **StartTime** key uses the value stored in the `$Date` variable.</span></span> <span data-ttu-id="3a3fb-267">Ключ **идентификатора** использует значение идентификатора события **1003**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-267">The **Id** key uses an Event Id value, **1003**.</span></span>

### <span data-ttu-id="3a3fb-268">Пример 17. Использование FilterHashtable для получения ошибок приложения</span><span class="sxs-lookup"><span data-stu-id="3a3fb-268">Example 17: Use FilterHashtable to get application errors</span></span>

<span data-ttu-id="3a3fb-269">В этом примере используется параметр **FilterHashtable** для поиска ошибок приложения Internet Explorer, произошедших в течение прошлой недели.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-269">This example uses the **FilterHashtable** parameter to find Internet Explorer application errors that occurred within the last week.</span></span>

```powershell
$StartTime = (Get-Date).AddDays(-7)
Get-WinEvent -FilterHashtable @{
  Logname='Application'
  ProviderName='Application Error'
  Data='iexplore.exe'
  StartTime=$StartTime
}
```

<span data-ttu-id="3a3fb-270">`Get-Date`Командлет использует метод **AddDays** для получения даты за семь дней до текущей даты.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-270">The `Get-Date` cmdlet uses the **AddDays** method to get a date that is seven days before the current date.</span></span> <span data-ttu-id="3a3fb-271">Объект Date хранится в `$StartTime` переменной.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-271">The date object is stored in the `$StartTime` variable.</span></span>

<span data-ttu-id="3a3fb-272">`Get-WinEvent`Командлет получает сведения о журнале.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-272">The `Get-WinEvent` cmdlet gets log information.</span></span> <span data-ttu-id="3a3fb-273">Параметр **FilterHashtable** используется для фильтрации выходных данных.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-273">The **FilterHashtable** parameter is used to filter the output.</span></span> <span data-ttu-id="3a3fb-274">Ключ **«имя журнала** » указывает значение в журнале **приложения** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-274">The **LogName** key specifies the value as the **Application** log.</span></span> <span data-ttu-id="3a3fb-275">Ключ **providerName** использует значение, **Ошибка приложения** , которое является **источником** события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-275">The **ProviderName** key uses the value, **Application Error** , which is the event's **Source**.</span></span> <span data-ttu-id="3a3fb-276">Ключ **данных** использует значение **iexplore.exe** ключ **StartTime** использует значение, хранящееся в `$StartTime` переменной.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-276">The **Data** key uses the value **iexplore.exe** The **StartTime** key uses the value stored in `$StartTime` variable.</span></span>

### <span data-ttu-id="3a3fb-277">Пример 18. Использование Суппресшашфилтер для фильтрации ошибок приложения</span><span class="sxs-lookup"><span data-stu-id="3a3fb-277">Example 18: Use SuppressHashFilter to filter application errors</span></span>

<span data-ttu-id="3a3fb-278">Как и в примере 16 выше, в этом примере используется параметр **FilterHashtable** для получения событий из журнала **приложений** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-278">Like Example 16 above, this example uses the **FilterHashtable** parameter to get events from the **Application** log.</span></span> <span data-ttu-id="3a3fb-279">Однако мы добавим ключ **суппресшашфилтер** , чтобы отфильтровать события уровня **информации** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-279">However, we add the **SuppressHashFilter** key to filter out **Information** level events.</span></span>

```powershell
$Date = (Get-Date).AddDays(-2)
$filter = @{
  LogName='Application'
  StartTime=$Date
  SuppressHashFilter=@{Level=4}
}
Get-WinEvent -FilterHashtable $filter
```

<span data-ttu-id="3a3fb-280">В этом примере `Get-WinEvent` получает из журнала **приложений** все события за последние два дня, за исключением тех, которые имеют **уровень** 4 (сведения).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-280">In this example, `Get-WinEvent` gets all events from the **Application** log for the last two days except those that have a **Level** of 4 (Information).</span></span>

## <span data-ttu-id="3a3fb-281">PARAMETERS</span><span class="sxs-lookup"><span data-stu-id="3a3fb-281">PARAMETERS</span></span>

### <span data-ttu-id="3a3fb-282">-ComputerName</span><span class="sxs-lookup"><span data-stu-id="3a3fb-282">-ComputerName</span></span>

<span data-ttu-id="3a3fb-283">Указывает имя компьютера, который этот командлет получает для событий из журналов событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-283">Specifies the name of the computer that this cmdlet gets events from the event logs.</span></span> <span data-ttu-id="3a3fb-284">Введите имя NetBIOS, IP-адрес или полное доменное имя (FQDN) компьютера.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-284">Type the NetBIOS name, an IP address, or the fully qualified domain name (FQDN) of the computer.</span></span> <span data-ttu-id="3a3fb-285">Значение по умолчанию — локальный компьютер, **localhost**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-285">The default value is the local computer, **localhost**.</span></span> <span data-ttu-id="3a3fb-286">Этот параметр принимает только одно имя компьютера за один раз.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-286">This parameter accepts only one computer name at a time.</span></span>

<span data-ttu-id="3a3fb-287">Чтобы получить журналы событий с удаленных компьютеров, настройте порт брандмауэра для службы журнала событий, чтобы разрешить удаленный доступ.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-287">To get event logs from remote computers, configure the firewall port for the event log service to allow remote access.</span></span>

<span data-ttu-id="3a3fb-288">Этот командлет не зависит от удаленного взаимодействия PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-288">This cmdlet does not rely on PowerShell remoting.</span></span> <span data-ttu-id="3a3fb-289">Параметр **ComputerName** можно использовать, даже если компьютер не настроен для выполнения удаленных команд.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-289">You can use the **ComputerName** parameter even if your computer is not configured to run remote commands.</span></span>

```yaml
Type: System.String
Parameter Sets: GetLogSet, ListLogSet, ListProviderSet, GetProviderSet, HashQuerySet, XmlQuerySet
Aliases: Cn

Required: False
Position: Named
Default value: Local computer
Accept pipeline input: False
Accept wildcard characters: False
```

### <span data-ttu-id="3a3fb-290">-Credential</span><span class="sxs-lookup"><span data-stu-id="3a3fb-290">-Credential</span></span>

<span data-ttu-id="3a3fb-291">Указывает учетную запись пользователя с разрешением на выполнение этого действия.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-291">Specifies a user account that has permission to perform this action.</span></span> <span data-ttu-id="3a3fb-292">Значение по умолчанию: текущий пользователь.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-292">The default value is the current user.</span></span>

<span data-ttu-id="3a3fb-293">Введите имя пользователя, например **User01** или **Domain01\User01**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-293">Type a user name, such as **User01** or **Domain01\User01**.</span></span> <span data-ttu-id="3a3fb-294">Или введите объект **PSCredential** , например, созданный `Get-Credential` командлетом.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-294">Or, enter a **PSCredential** object, such as one generated by the `Get-Credential` cmdlet.</span></span> <span data-ttu-id="3a3fb-295">Если ввести имя пользователя, будет предложено ввести пароль.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-295">If you type a user name, you are prompted for a password.</span></span> <span data-ttu-id="3a3fb-296">Если ввести только имя параметра, будет предложено ввести имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-296">If you type only the parameter name, you are prompted for both a username and a password.</span></span>

```yaml
Type: System.Management.Automation.PSCredential
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: Current user
Accept pipeline input: False
Accept wildcard characters: False
```

### <span data-ttu-id="3a3fb-297">-FilterHashtable</span><span class="sxs-lookup"><span data-stu-id="3a3fb-297">-FilterHashtable</span></span>

<span data-ttu-id="3a3fb-298">Указывает запрос в формате хэш-таблицы для выбора событий из одного или нескольких журналов событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-298">Specifies a query in hash table format to select events from one or more event logs.</span></span> <span data-ttu-id="3a3fb-299">Запрос содержит хэш-таблицу с одной или несколькими парами " **ключ-значение** ".</span><span class="sxs-lookup"><span data-stu-id="3a3fb-299">The query contains a hash table with one or more **key/value** pairs.</span></span>

<span data-ttu-id="3a3fb-300">К запросам хэш-таблиц применяются следующие правила.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-300">Hash table queries have the following rules:</span></span>

- <span data-ttu-id="3a3fb-301">Ключи и значения обрабатываются без учета регистра.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-301">Keys and values are case-insensitive.</span></span>
- <span data-ttu-id="3a3fb-302">Подстановочные знаки допустимы только в значениях, связанных с ключами " **/l** " и " **providerName** ".</span><span class="sxs-lookup"><span data-stu-id="3a3fb-302">Wildcard characters are valid only in the values associated with the **LogName** and **ProviderName** keys.</span></span>
- <span data-ttu-id="3a3fb-303">Каждый ключ может быть указан в каждой хэш-таблице только один раз.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-303">Each key can be listed only once in each hash table.</span></span>
- <span data-ttu-id="3a3fb-304">Значение **path** принимает пути к `.etl` файлам, `.evt` и `.evtx` файлов журналов.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-304">The **Path** value takes paths to `.etl`, `.evt`, and `.evtx` log files.</span></span>
- <span data-ttu-id="3a3fb-305">В одном и том же запросе можно использовать ключи " **/l** ", " **путь** " и " **providerName** ".</span><span class="sxs-lookup"><span data-stu-id="3a3fb-305">The **LogName** , **Path** , and **ProviderName** keys can be used in the same query.</span></span>
- <span data-ttu-id="3a3fb-306">Ключ **UserID** может принимать допустимый идентификатор безопасности (SID) или имя учетной записи домена, которое можно использовать для создания допустимого **объекта System. Security. Principal. NTAccount**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-306">The **UserID** key can take a valid security identifier (SID) or a domain account name that can be used to construct a valid **System.Security.Principal.NTAccount object**.</span></span>
- <span data-ttu-id="3a3fb-307">Значение типа **данных** принимает данные события в безымянном поле.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-307">The **Data** value takes event data in an unnamed field.</span></span> <span data-ttu-id="3a3fb-308">Например, события в классических журналах событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-308">For example, events in classic event logs.</span></span>
- <span data-ttu-id="3a3fb-309">`<named-data>` Key представляет поле данных именованного события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-309">`<named-data>` key represents a named event data field.</span></span>

<span data-ttu-id="3a3fb-310">Если `Get-WinEvent` невозможно интерпретировать пару " **ключ-значение** ", он интерпретирует ключ как имя с учетом регистра для данных события в событии.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-310">When `Get-WinEvent` cannot interpret a **key/value** pair, it interprets the key as a case-sensitive name for the event data in the event.</span></span>

<span data-ttu-id="3a3fb-311">Допустимы следующие `Get-WinEvent` пары " **ключ-значение** ":</span><span class="sxs-lookup"><span data-stu-id="3a3fb-311">The valid `Get-WinEvent` **key/value** pairs are as follows:</span></span>

- <span data-ttu-id="3a3fb-312">**LogName**=`<String[]>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-312">**LogName**=`<String[]>`</span></span>
- <span data-ttu-id="3a3fb-313">**ProviderName**=`<String[]>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-313">**ProviderName**=`<String[]>`</span></span>
- <span data-ttu-id="3a3fb-314">**Путь**=`<String[]>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-314">**Path**=`<String[]>`</span></span>
- <span data-ttu-id="3a3fb-315">**Словами**=`<Long[]>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-315">**Keywords**=`<Long[]>`</span></span>
- <span data-ttu-id="3a3fb-316">**УДОСТОВЕРЕНИЯ**=`<Int32[]>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-316">**ID**=`<Int32[]>`</span></span>
- <span data-ttu-id="3a3fb-317">**Уровню**=`<Int32[]>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-317">**Level**=`<Int32[]>`</span></span>
- <span data-ttu-id="3a3fb-318">**StartTime**=`<DateTime>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-318">**StartTime**=`<DateTime>`</span></span>
- <span data-ttu-id="3a3fb-319">**Завершения**=`<DateTime>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-319">**EndTime**=`<DateTime>`</span></span>
- <span data-ttu-id="3a3fb-320">**UserID**=`<SID>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-320">**UserID**=`<SID>`</span></span>
- <span data-ttu-id="3a3fb-321">**Data**=`<String[]>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-321">**Data**=`<String[]>`</span></span>
- `<named-data>`=`<String[]>`
- <span data-ttu-id="3a3fb-322">**суппресшашфилтер**=`<Hashtable>`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-322">**SuppressHashFilter**=`<Hashtable>`</span></span>

```yaml
Type: System.Collections.Hashtable[]
Parameter Sets: HashQuerySet
Aliases:

Required: True
Position: 0
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### <span data-ttu-id="3a3fb-323">-FilterXml</span><span class="sxs-lookup"><span data-stu-id="3a3fb-323">-FilterXml</span></span>

<span data-ttu-id="3a3fb-324">Указывает структурированный запрос XML, который этот командлет выбирает для событий из одного или нескольких журналов событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-324">Specifies a structured XML query that this cmdlet selects events from one or more event logs.</span></span>

<span data-ttu-id="3a3fb-325">Чтобы создать допустимый XML-запрос, используйте функции **создания пользовательского представления** и **фильтрации текущих журналов** в Просмотр событий Windows.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-325">To generate a valid XML query, use the **Create Custom View** and **Filter Current Log** features in Windows Event Viewer.</span></span> <span data-ttu-id="3a3fb-326">Создайте запрос с помощью элементов в диалоговом окне, а затем перейдите на вкладку XML для просмотра запроса в формате XML.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-326">Use the items in the dialog box to create a query, and then click the XML tab to view the query in XML format.</span></span> <span data-ttu-id="3a3fb-327">XML-файл можно скопировать с вкладки XML в значение параметра **FilterXml**.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-327">You can copy the XML from the XML tab into the value of the **FilterXml** parameter.</span></span> <span data-ttu-id="3a3fb-328">Дополнительные сведения о компонентах средства просмотра событий см. в справке средства.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-328">For more information about the Event Viewer features, see Event Viewer Help.</span></span>

<span data-ttu-id="3a3fb-329">Используйте XML-запрос для создания сложного запроса, содержащего несколько операторов XPath.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-329">Use an XML query to create a complex query that contains several XPath statements.</span></span> <span data-ttu-id="3a3fb-330">Формат XML также позволяет использовать элемент " **ПОДАВЛЯТЬ XML** ", исключающий события из запроса.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-330">The XML format also allows you to use a **Suppress XML** element that excludes events from the query.</span></span> <span data-ttu-id="3a3fb-331">Дополнительные сведения о схеме XML для запросов к журналу событий см. в разделе [Схема запросов](/windows/win32/wes/queryschema-schema) и запросы событий XML статьи [Выбор событий](/previous-versions/aa385231(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-331">For more information about the XML schema for event log queries, see [Query Schema](/windows/win32/wes/queryschema-schema) and the XML Event Queries section of [Event Selection](/previous-versions/aa385231(v=vs.85)).</span></span>

<span data-ttu-id="3a3fb-332">Вы также можете создать элемент **подавлять** с помощью параметра **FilterHashtable** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-332">You may also create a **Suppress** element using the **FilterHashtable** parameter.</span></span>

```yaml
Type: System.Xml.XmlDocument
Parameter Sets: XmlQuerySet
Aliases:

Required: True
Position: 0
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### <span data-ttu-id="3a3fb-333">-FilterXPath</span><span class="sxs-lookup"><span data-stu-id="3a3fb-333">-FilterXPath</span></span>

<span data-ttu-id="3a3fb-334">Указывает запрос XPath, который этот командлет выбирает события из одного или нескольких журналов.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-334">Specifies an XPath query that this cmdlet select events from one or more logs.</span></span>

<span data-ttu-id="3a3fb-335">Дополнительные сведения о языке XPath см. в разделах [Справочник по XPath](/previous-versions/dotnet/netframework-4.0/ms256115(v=vs.100)) и фильтры выбора в разделе [Выбор событий](/previous-versions/aa385231(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-335">For more information about the XPath language, see [XPath Reference](/previous-versions/dotnet/netframework-4.0/ms256115(v=vs.100)) and the Selection Filters section of [Event Selection](/previous-versions/aa385231(v=vs.85)).</span></span>

```yaml
Type: System.String
Parameter Sets: GetLogSet, GetProviderSet, FileSet
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### <span data-ttu-id="3a3fb-336">-Force</span><span class="sxs-lookup"><span data-stu-id="3a3fb-336">-Force</span></span>

<span data-ttu-id="3a3fb-337">Получает журналы отладки и аналитики в дополнение к другим журналам событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-337">Gets debug and analytic logs, in addition to other event logs.</span></span> <span data-ttu-id="3a3fb-338">Параметр **Force** необходим для получения журнала отладки или аналитики, когда значение параметра имени содержит подстановочные знаки.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-338">The **Force** parameter is required to get a debug or analytic log when the value of the name parameter includes wildcard characters.</span></span>

<span data-ttu-id="3a3fb-339">По умолчанию `Get-WinEvent` командлет исключает эти журналы, если не указано полное имя журнала отладки или аналитики.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-339">By default, the `Get-WinEvent` cmdlet excludes these logs unless you specify the full name of a debug or analytic log.</span></span>

```yaml
Type: System.Management.Automation.SwitchParameter
Parameter Sets: GetLogSet, ListLogSet, GetProviderSet, HashQuerySet
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### <span data-ttu-id="3a3fb-340">-ListLog</span><span class="sxs-lookup"><span data-stu-id="3a3fb-340">-ListLog</span></span>

<span data-ttu-id="3a3fb-341">Определяет журналы событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-341">Specifies the event logs.</span></span> <span data-ttu-id="3a3fb-342">Введите имена журналов событий в список, разделяя их запятыми.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-342">Enter the event log names in a comma-separated list.</span></span> <span data-ttu-id="3a3fb-343">Разрешено использовать подстановочные знаки.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-343">Wildcards are permitted.</span></span> <span data-ttu-id="3a3fb-344">Чтобы получить все журналы, используйте `*` подстановочный знак звездочки ().</span><span class="sxs-lookup"><span data-stu-id="3a3fb-344">To get all the logs, use the asterisk (`*`) wildcard.</span></span>

```yaml
Type: System.String[]
Parameter Sets: ListLogSet
Aliases:

Required: True
Position: 0
Default value: None
Accept pipeline input: False
Accept wildcard characters: True
```

### <span data-ttu-id="3a3fb-345">-ListProvider</span><span class="sxs-lookup"><span data-stu-id="3a3fb-345">-ListProvider</span></span>

<span data-ttu-id="3a3fb-346">Указывает поставщики журнала событий, которые получает этот командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-346">Specifies the event log providers that this cmdlet gets.</span></span> <span data-ttu-id="3a3fb-347">Поставщик журнала событий — это программа или служба, которая записывает события в журнал событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-347">An event log provider is a program or service that writes events to the event log.</span></span>

<span data-ttu-id="3a3fb-348">Введите имена поставщиков в список, разделяя их запятыми.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-348">Enter the provider names in a comma-separated list.</span></span> <span data-ttu-id="3a3fb-349">Разрешено использовать подстановочные знаки.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-349">Wildcards are permitted.</span></span> <span data-ttu-id="3a3fb-350">Чтобы получить поставщиков всех журналов событий на компьютере, используйте `*` подстановочный знак звездочки ().</span><span class="sxs-lookup"><span data-stu-id="3a3fb-350">To get the providers of all the event logs on the computer, use the asterisk (`*`) wildcard.</span></span>

```yaml
Type: System.String[]
Parameter Sets: ListProviderSet
Aliases:

Required: True
Position: 0
Default value: None
Accept pipeline input: False
Accept wildcard characters: True
```

### <span data-ttu-id="3a3fb-351">-LogName</span><span class="sxs-lookup"><span data-stu-id="3a3fb-351">-LogName</span></span>

<span data-ttu-id="3a3fb-352">Указывает журналы событий, из которых этот командлет получает события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-352">Specifies the event logs that this cmdlet get events from.</span></span> <span data-ttu-id="3a3fb-353">Введите имена журналов событий в список, разделяя их запятыми.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-353">Enter the event log names in a comma-separated list.</span></span> <span data-ttu-id="3a3fb-354">Разрешено использовать подстановочные знаки.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-354">Wildcards are permitted.</span></span> <span data-ttu-id="3a3fb-355">Можно также передать имена журналов в `Get-WinEvent` командлет.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-355">You can also pipe log names to the `Get-WinEvent` cmdlet.</span></span>

> [!NOTE]
> <span data-ttu-id="3a3fb-356">PowerShell не ограничивает объем журналов, которые можно запросить.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-356">PowerShell does not limit the amount of logs you can request.</span></span> <span data-ttu-id="3a3fb-357">Однако `Get-WinEvent` командлет запрашивает API Windows с ограничением в 256.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-357">However, the `Get-WinEvent` cmdlet queries the Windows API which has a limit of 256.</span></span> <span data-ttu-id="3a3fb-358">Это может усложнить фильтрацию всех журналов за один раз.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-358">This can make it difficult to filter through all of your logs at one time.</span></span> <span data-ttu-id="3a3fb-359">Это можно обойти, используя `foreach` цикл для прохода по каждому журналу следующим образом: `Get-WinEvent -ListLog * | ForEach-Object{ Get-WinEvent -LogName $_.Logname }`</span><span class="sxs-lookup"><span data-stu-id="3a3fb-359">You can work around this by using a `foreach` loop to iterate through each log like this: `Get-WinEvent -ListLog * | ForEach-Object{ Get-WinEvent -LogName $_.Logname }`</span></span>

```yaml
Type: System.String[]
Parameter Sets: GetLogSet
Aliases:

Required: False
Position: 0
Default value: None
Accept pipeline input: True (ByPropertyName, ByValue)
Accept wildcard characters: True
```

### <span data-ttu-id="3a3fb-360">-MaxEvents</span><span class="sxs-lookup"><span data-stu-id="3a3fb-360">-MaxEvents</span></span>

<span data-ttu-id="3a3fb-361">Указывает максимальное число возвращаемых событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-361">Specifies the maximum number of events that are returned.</span></span> <span data-ttu-id="3a3fb-362">Введите целое число, например 100.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-362">Enter an integer such as 100.</span></span> <span data-ttu-id="3a3fb-363">Значение по умолчанию: возврат всех событий в журналах или файлах.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-363">The default is to return all the events in the logs or files.</span></span>

```yaml
Type: System.Int64
Parameter Sets: GetLogSet, GetProviderSet, FileSet, HashQuerySet, XmlQuerySet
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### <span data-ttu-id="3a3fb-364">-Oldest</span><span class="sxs-lookup"><span data-stu-id="3a3fb-364">-Oldest</span></span>

<span data-ttu-id="3a3fb-365">Укажите, что этот командлет получает события в порядке с самым старым.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-365">Indicate that this cmdlet gets the events in oldest-first order.</span></span> <span data-ttu-id="3a3fb-366">По умолчанию события возвращаются в порядке "сначала новые".</span><span class="sxs-lookup"><span data-stu-id="3a3fb-366">By default, events are returned in newest-first order.</span></span>

<span data-ttu-id="3a3fb-367">Этот параметр необходим для получения событий из `.etl` файлов и `.evt` из журналов отладки и аналитики.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-367">This parameter is required to get events from `.etl` and `.evt` files and from debug and analytic logs.</span></span> <span data-ttu-id="3a3fb-368">В этих файлах события записываются в порядке "старые сначала", поэтому они могут быть возвращены только в том же порядке.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-368">In these files, events are recorded in oldest-first order, and the events can be returned only in oldest-first order.</span></span>

```yaml
Type: System.Management.Automation.SwitchParameter
Parameter Sets: GetLogSet, GetProviderSet, FileSet, HashQuerySet, XmlQuerySet
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### <span data-ttu-id="3a3fb-369">-Path</span><span class="sxs-lookup"><span data-stu-id="3a3fb-369">-Path</span></span>

<span data-ttu-id="3a3fb-370">Указывает путь к файлам журнала событий, из которых этот командлет получает события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-370">Specifies the path to the event log files that this cmdlet get events from.</span></span> <span data-ttu-id="3a3fb-371">Введите разделенный запятыми список путей к файлам или используйте подстановочные знаки для создания шаблонов путей к файлам.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-371">Enter the paths to the log files in a comma-separated list, or use wildcard characters to create file path patterns.</span></span>

<span data-ttu-id="3a3fb-372">`Get-WinEvent` поддерживает файлы с `.evt` `.evtx` расширениями, и `.etl` .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-372">`Get-WinEvent` supports files with the `.evt`, `.evtx`, and `.etl` file name extensions.</span></span> <span data-ttu-id="3a3fb-373">В одну команду можно включить события из разных файлов и типов файлов.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-373">You can include events from different files and file types in the same command.</span></span>

```yaml
Type: System.String[]
Parameter Sets: FileSet
Aliases: PSPath

Required: True
Position: 0
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: True
```

### <span data-ttu-id="3a3fb-374">-ProviderName</span><span class="sxs-lookup"><span data-stu-id="3a3fb-374">-ProviderName</span></span>

<span data-ttu-id="3a3fb-375">Указывает в виде массива строк поставщики журналов событий, от которых этот командлет получает события.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-375">Specifies, as a string array, the event log providers from which this cmdlet gets events.</span></span> <span data-ttu-id="3a3fb-376">Введите разделенный запятыми список имен поставщиков или используйте подстановочные знаки для создания шаблонов имен поставщиков.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-376">Enter the provider names in a comma-separated list, or use wildcard characters to create provider name patterns.</span></span>

<span data-ttu-id="3a3fb-377">Поставщик журнала событий — это программа или служба, которая записывает события в журнал событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-377">An event log provider is a program or service that writes events to the event log.</span></span> <span data-ttu-id="3a3fb-378">Это не поставщик PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-378">It is not a PowerShell provider.</span></span>

```yaml
Type: System.String[]
Parameter Sets: GetProviderSet
Aliases:

Required: True
Position: 0
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: True
```

### <span data-ttu-id="3a3fb-379">Общие параметры</span><span class="sxs-lookup"><span data-stu-id="3a3fb-379">CommonParameters</span></span>

<span data-ttu-id="3a3fb-380">Этот командлет поддерживает общие параметры: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction и -WarningVariable.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-380">This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable.</span></span> <span data-ttu-id="3a3fb-381">См. сведения в разделе [about_CommonParameters](https://go.microsoft.com/fwlink/?LinkID=113216).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-381">For more information, see [about_CommonParameters](https://go.microsoft.com/fwlink/?LinkID=113216).</span></span>

## <span data-ttu-id="3a3fb-382">Входные данные</span><span class="sxs-lookup"><span data-stu-id="3a3fb-382">INPUTS</span></span>

### <span data-ttu-id="3a3fb-383">System. String, System.Xml.Xmlдокумент, System. Collections. Hashtable</span><span class="sxs-lookup"><span data-stu-id="3a3fb-383">System.String, System.Xml.XmlDocument, System.Collections.Hashtable</span></span>

<span data-ttu-id="3a3fb-384">Вы можете конвейерировать **(строку** ), запрос **Филтерксмл** или запрос **FilterHashtable** в `Get-WinEvent` .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-384">You can pipeline a **LogName** (string), a **FilterXML** query, or a **FilterHashtable** query to `Get-WinEvent`.</span></span>

## <span data-ttu-id="3a3fb-385">Выходные данные</span><span class="sxs-lookup"><span data-stu-id="3a3fb-385">OUTPUTS</span></span>

### <span data-ttu-id="3a3fb-386">System.Diagnostics.Eventing.Reader.EventLogConfiguration, System.Diagnostics.Eventing.Reader.EventLogRecord, System.Diagnostics.Eventing.Reader.ProviderMetadata.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-386">System.Diagnostics.Eventing.Reader.EventLogConfiguration, System.Diagnostics.Eventing.Reader.EventLogRecord, System.Diagnostics.Eventing.Reader.ProviderMetadata</span></span>

<span data-ttu-id="3a3fb-387">При использовании параметра **листлог** `Get-WinEvent` возвращает объекты **System. Diagnostics. Eventing. Reader. EventLogConfiguration** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-387">With the **ListLog** parameter, `Get-WinEvent` returns **System.Diagnostics.Eventing.Reader.EventLogConfiguration** objects.</span></span>

<span data-ttu-id="3a3fb-388">При использовании параметра **листпровидер** `Get-WinEvent` возвращает объекты **System. Diagnostics. Eventing. Reader. ProviderMetadata** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-388">With the **ListProvider** parameter, `Get-WinEvent` returns **System.Diagnostics.Eventing.Reader.ProviderMetadata** objects.</span></span>

<span data-ttu-id="3a3fb-389">При использовании всех остальных параметров `Get-WinEvent` возвращает объекты **System. Diagnostics. Eventing. Reader. EventLogRecord** .</span><span class="sxs-lookup"><span data-stu-id="3a3fb-389">With all other parameters, `Get-WinEvent` returns **System.Diagnostics.Eventing.Reader.EventLogRecord** objects.</span></span>

## <span data-ttu-id="3a3fb-390">ПРИМЕЧАНИЯ</span><span class="sxs-lookup"><span data-stu-id="3a3fb-390">NOTES</span></span>

<span data-ttu-id="3a3fb-391">`Get-WinEvent` предназначен для замены `Get-EventLog` командлета на компьютерах под управлением Windows Vista и более поздних версий Windows.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-391">`Get-WinEvent` is designed to replace the `Get-EventLog` cmdlet on computers running Windows Vista and later versions of Windows.</span></span> <span data-ttu-id="3a3fb-392">`Get-EventLog` Возвращает события только в классических журналах событий.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-392">`Get-EventLog` gets events only in classic event logs.</span></span> <span data-ttu-id="3a3fb-393">Функция `Get-EventLog` поддерживается для совместимости с предыдущими версиями.</span><span class="sxs-lookup"><span data-stu-id="3a3fb-393">`Get-EventLog` is retained for backward compatibility.</span></span>

<span data-ttu-id="3a3fb-394">`Get-WinEvent` `Get-EventLog` Командлеты и не поддерживаются в среде предустановки Windows (Windows PE).</span><span class="sxs-lookup"><span data-stu-id="3a3fb-394">The `Get-WinEvent` and `Get-EventLog` cmdlets are not supported in Windows Pre-installation Environment (Windows PE).</span></span>

## <span data-ttu-id="3a3fb-395">Связанные ссылки</span><span class="sxs-lookup"><span data-stu-id="3a3fb-395">RELATED LINKS</span></span>

[<span data-ttu-id="3a3fb-396">about_Automatic_Variables</span><span class="sxs-lookup"><span data-stu-id="3a3fb-396">about_Automatic_Variables</span></span>](../Microsoft.PowerShell.Core/about/about_automatic_variables.md)

[<span data-ttu-id="3a3fb-397">about_Foreach</span><span class="sxs-lookup"><span data-stu-id="3a3fb-397">about_Foreach</span></span>](../Microsoft.PowerShell.Core/about/about_Foreach.md)

[<span data-ttu-id="3a3fb-398">about_Hash_Tables</span><span class="sxs-lookup"><span data-stu-id="3a3fb-398">about_Hash_Tables</span></span>](../Microsoft.PowerShell.Core/about/about_hash_tables.md)

[<span data-ttu-id="3a3fb-399">Создание запросов Get-WinEvent с помощью FilterHashtable</span><span class="sxs-lookup"><span data-stu-id="3a3fb-399">Creating Get-WinEvent queries with FilterHashtable</span></span>](/powershell/scripting/samples/Creating-Get-WinEvent-queries-with-FilterHashtable)

[<span data-ttu-id="3a3fb-400">Format-Table</span><span class="sxs-lookup"><span data-stu-id="3a3fb-400">Format-Table</span></span>](../Microsoft.PowerShell.Utility/Format-Table.md)

[<span data-ttu-id="3a3fb-401">Group-Object</span><span class="sxs-lookup"><span data-stu-id="3a3fb-401">Group-Object</span></span>](../Microsoft.PowerShell.Utility/Group-Object.md)

[<span data-ttu-id="3a3fb-402">Sort-Object</span><span class="sxs-lookup"><span data-stu-id="3a3fb-402">Sort-Object</span></span>](../Microsoft.PowerShell.Utility/Sort-Object.md)

[<span data-ttu-id="3a3fb-403">Where-Object</span><span class="sxs-lookup"><span data-stu-id="3a3fb-403">Where-Object</span></span>](../Microsoft.PowerShell.Core/Where-Object.md)
