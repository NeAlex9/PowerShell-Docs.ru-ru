---
description: Содержит подробные сведения о сеансах PowerShell и роли, которые они играют в удаленных командах.
Locale: en-US
ms.date: 06/09/2017
online version: https://docs.microsoft.com/powershell/module/microsoft.powershell.core/about/about_pssession_details?view=powershell-7.2&WT.mc_id=ps-gethelp
schema: 2.0.0
title: about_PSSession_Details
ms.openlocfilehash: 79340e5d0ae1fe047f1f37bdfdbb1bebe920d851
ms.sourcegitcommit: 95d41698c7a2450eeb70ef2fb6507fe7e6eff3b6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2020
ms.locfileid: "99599800"
---
# <a name="about-pssession-details"></a><span data-ttu-id="e8ae2-103">Сведения о PSSession</span><span class="sxs-lookup"><span data-stu-id="e8ae2-103">About PSSession Details</span></span>

## <a name="short-description"></a><span data-ttu-id="e8ae2-104">Краткое описание</span><span class="sxs-lookup"><span data-stu-id="e8ae2-104">Short Description</span></span>
<span data-ttu-id="e8ae2-105">Содержит подробные сведения о сеансах PowerShell и роли, которые они играют в удаленных командах.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-105">Provides detailed information about PowerShell sessions and the role they play in remote commands.</span></span>

## <a name="long-description"></a><span data-ttu-id="e8ae2-106">Полное описание</span><span class="sxs-lookup"><span data-stu-id="e8ae2-106">Long Description</span></span>

<span data-ttu-id="e8ae2-107">Сеанс — это среда, в которой выполняется PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-107">A session is an environment in which PowerShell runs.</span></span> <span data-ttu-id="e8ae2-108">Сеанс создается при каждом запуске PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-108">A session is created for you whenever you start PowerShell.</span></span> <span data-ttu-id="e8ae2-109">Вы можете создать дополнительные сеансы с именем "сеансы PowerShell" или "PSSession" на компьютере или на другом компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-109">You can create additional sessions, called "PowerShell sessions" or "PSSessions" on your computer or another computer.</span></span>

<span data-ttu-id="e8ae2-110">В отличие от сеансов, создаваемых PowerShell, вы управляете созданными PSSession и управляете ими.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-110">Unlike the sessions that PowerShell creates for you, you control and manage the PSSessions that you create.</span></span>

<span data-ttu-id="e8ae2-111">PSSession играет важную роль в удаленном расчете.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-111">PSSessions play an important role in remote computing.</span></span> <span data-ttu-id="e8ae2-112">При создании сеанса PSSession, подключенного к удаленному компьютеру, PowerShell устанавливает постоянное подключение к удаленному компьютеру для поддержки сеанса PSSession.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-112">When you create a PSSession that is connected to a remote computer, PowerShell establishes a persistent connection to the remote computer to support the PSSession.</span></span> <span data-ttu-id="e8ae2-113">Сеанс PSSession можно использовать для выполнения ряда команд, функций и скриптов, которые совместно используют данные.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-113">You can use the PSSession to run a series of commands, functions, and scripts that share data.</span></span>

<span data-ttu-id="e8ae2-114">В этом разделе содержатся подробные сведения о сеансах и PSSession в PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-114">This topic provides detailed information about sessions and PSSessions in PowerShell.</span></span> <span data-ttu-id="e8ae2-115">Основные сведения о задачах, которые можно выполнять с сеансами, см. в разделе [about_PSSessions](about_PSSessions.md).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-115">For basic information about the tasks that you can perform with sessions, see [about_PSSessions](about_PSSessions.md).</span></span>

## <a name="about-sessions"></a><span data-ttu-id="e8ae2-116">О сеансах</span><span class="sxs-lookup"><span data-stu-id="e8ae2-116">About Sessions</span></span>

<span data-ttu-id="e8ae2-117">Технически, сеанс — это среда выполнения, в которой выполняется PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-117">Technically, a session is an execution environment in which PowerShell runs.</span></span> <span data-ttu-id="e8ae2-118">Каждый сеанс включает в себя экземпляр компонента System. Management. Automation, а также ведущее приложение, в котором выполняется PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-118">Each session includes an instance of the System.Management.Automation engine and a host program in which PowerShell runs.</span></span> <span data-ttu-id="e8ae2-119">Узел может быть знакомой консолью PowerShell или другой программой, запускающей команды, например Cmd.exe, или программу, созданную для размещения PowerShell, например интегрированную среду сценариев (ISE) Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-119">The host can be the familiar PowerShell console or another program that runs commands, such as Cmd.exe, or a program built to host PowerShell, such as Windows PowerShell Integrated Scripting Environment (ISE).</span></span> <span data-ttu-id="e8ae2-120">С точки зрения Windows, сеанс — это процесс Windows на целевом компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-120">From a Windows perspective, a session is a Windows process on the target computer.</span></span>

<span data-ttu-id="e8ae2-121">Каждый сеанс настраивается независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-121">Each session is configured independently.</span></span> <span data-ttu-id="e8ae2-122">Он включает собственные свойства, собственную политику выполнения и собственные профили.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-122">It includes its own properties, its own execution policy, and its own profiles.</span></span> <span data-ttu-id="e8ae2-123">Среда, существующая при создании сеанса, сохраняется в течение времени существования даже при изменении среды на компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-123">The environment that exists when the session is created persists for its lifetime even if you change the environment on the computer.</span></span> <span data-ttu-id="e8ae2-124">Все сеансы создаются в глобальной области, даже в сеансах, создаваемых в скрипте.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-124">All sessions are created in a global scope, even sessions that you create in a script.</span></span>

<span data-ttu-id="e8ae2-125">Одновременно можно запустить только одну команду (или конвейер команд) в сеансе.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-125">You can run only one command (or command pipeline) in a session at one time.</span></span> <span data-ttu-id="e8ae2-126">Вторая команда выполняется синхронно (по одной за раз), когда первая команда завершается с задержкой до четырех минут.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-126">A second command run synchronously (one at a time) waits up to four minutes for the first command to be completed.</span></span> <span data-ttu-id="e8ae2-127">Вторая команда выполняется асинхронно (параллельно).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-127">A second command run asynchronously (concurrently) fails.</span></span>

## <a name="about-pssessions"></a><span data-ttu-id="e8ae2-128">О PSSession</span><span class="sxs-lookup"><span data-stu-id="e8ae2-128">About PSSessions</span></span>

<span data-ttu-id="e8ae2-129">Сеанс создается каждый раз при запуске PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-129">A session is created each time that you start PowerShell.</span></span> <span data-ttu-id="e8ae2-130">И PowerShell создает временные сеансы для выполнения отдельных команд.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-130">And, PowerShell creates temporary sessions to run individual commands.</span></span>
<span data-ttu-id="e8ae2-131">Однако можно также создать сеансы (называемые "сеансами PowerShell" или "PSSession"), которыми вы управляете и управляете.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-131">However, you can also create sessions (called "PowerShell sessions" or "PSSessions") that you control and manage.</span></span>

<span data-ttu-id="e8ae2-132">PSSession являются критически важными для удаленных команд.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-132">PSSessions are critical to remote commands.</span></span> <span data-ttu-id="e8ae2-133">Если используется параметр **ComputerName** `Invoke-Command` `Enter-PSSession` командлетов или, то PowerShell создает временный сеанс для выполнения команды, а затем закрывает сеанс сразу после выполнения команды или интерактивного сеанса.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-133">If you use the **ComputerName** parameter of the `Invoke-Command` or `Enter-PSSession` cmdlets, PowerShell establishes a temporary session to run the command and then closes the session as soon as the command or the interactive session is complete.</span></span>

<span data-ttu-id="e8ae2-134">Однако при использовании `New-PSSession` командлета для создания сеанса PSSession PowerShell устанавливает постоянный сеанс на удаленном компьютере, на котором можно запустить несколько команд или интерактивных сеансов.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-134">However, if you use the `New-PSSession` cmdlet to create a PSSession, PowerShell establishes a persistent session on the remote computer in which you can run multiple commands or interactive sessions.</span></span> <span data-ttu-id="e8ae2-135">Создаваемый PSSession остается открытым и доступен для использования до тех пор, пока вы не удалите их или не закроете сеанс, в котором они были созданы.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-135">The PSSessions that you create remain open and available for use until you delete them or until you close the session in which they were created.</span></span>

<span data-ttu-id="e8ae2-136">При создании сеанса PSSession на удаленном компьютере система создает процесс PowerShell на удаленном компьютере и устанавливает подключение с локального компьютера к процессу на удаленном компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-136">When you create a PSSession on a remote computer, the system creates a PowerShell process on the remote computer and establishes a connection from the local computer to the process on the remote computer.</span></span> <span data-ttu-id="e8ae2-137">При создании сеанса PSSession на локальном компьютере на локальном компьютере создаются и новый процесс, и подключения.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-137">When you create a PSSession on the local computer, both the new process and the connections are created on the local computer.</span></span>

## <a name="when-do-i-need-a-pssession"></a><span data-ttu-id="e8ae2-138">Когда требуется PSSession?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-138">When Do I Need a PSSession?</span></span>

<span data-ttu-id="e8ae2-139">`Invoke-Command` `Enter-PSSession` Командлеты и имеют параметры **ComputerName** и **Session** .</span><span class="sxs-lookup"><span data-stu-id="e8ae2-139">The `Invoke-Command` and `Enter-PSSession` cmdlets have both **ComputerName** and **Session** parameters.</span></span> <span data-ttu-id="e8ae2-140">Для выполнения удаленной команды можно использовать один из них.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-140">You can use either to run a remote command.</span></span>

<span data-ttu-id="e8ae2-141">Параметр **ComputerName** используется для выполнения одной команды или ряда несвязанных команд на одном или нескольких компьютерах.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-141">Use the **ComputerName** parameter to run a single command or a series of unrelated commands on one or many computers.</span></span>

<span data-ttu-id="e8ae2-142">Для выполнения команд, которые совместно используют данные, требуется постоянное подключение к удаленному компьютеру.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-142">To run commands that share data, you need a persistent connection to the remote computer.</span></span> <span data-ttu-id="e8ae2-143">В этом случае создайте PSSession, а затем используйте параметр **Session** для выполнения команд в PSSession.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-143">In that case, create a PSSession, and then use the **Session** parameter to run commands in the PSSession.</span></span>

<span data-ttu-id="e8ae2-144">Многие другие командлеты, которые получают данные с удаленных компьютеров, таких как `Get-Process` ,, `Get-Service` и, `Get-EventLog` `Get-WmiObject` имеют только параметр **ComputerName** .</span><span class="sxs-lookup"><span data-stu-id="e8ae2-144">Many other cmdlets that get data from remote computers, such as `Get-Process`, `Get-Service`, `Get-EventLog`, and `Get-WmiObject` have only a **ComputerName** parameter.</span></span> <span data-ttu-id="e8ae2-145">Они используют технологии, отличные от удаленного взаимодействия PowerShell для удаленного сбора данных.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-145">They use technologies other than PowerShell remoting to gather data remotely.</span></span> <span data-ttu-id="e8ae2-146">У этих командлетов нет параметра **сеанса** , но можно использовать `Invoke-Command` командлет для выполнения этих команд в PSSession.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-146">These cmdlets do not have a **Session** parameter, but you can use the `Invoke-Command` cmdlet to run these commands in a PSSession.</span></span>

## <a name="how-do-i-create-a-pssession"></a><span data-ttu-id="e8ae2-147">Как создать сеанс PSSession?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-147">How Do I Create a PSSession?</span></span>

<span data-ttu-id="e8ae2-148">Чтобы создать сеанс PSSession, используйте `New-PSSession` командлет.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-148">To create a PSSession, use the `New-PSSession` cmdlet.</span></span> <span data-ttu-id="e8ae2-149">С помощью можно `New-PSSession` создать сеанс PSSession на локальном или удаленном компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-149">You can use `New-PSSession` to create a PSSession on a local or remote computer.</span></span>

## <a name="can-i-create-a-pssession-on-any-computer"></a><span data-ttu-id="e8ae2-150">Можно ли создать сеанс PSSession на любом компьютере?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-150">Can I Create a PSSession on Any Computer?</span></span>

<span data-ttu-id="e8ae2-151">Чтобы создать сеанс PSSession, подключенный к удаленному компьютеру, необходимо настроить на нем удаленное взаимодействие в PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-151">To create a PSSession that is connected to a remote computer, the computer must be configured for remoting in PowerShell.</span></span> <span data-ttu-id="e8ae2-152">Текущий пользователь должен быть членом группы "Администраторы" на удаленном компьютере, либо текущий пользователь должен иметь возможность предоставить учетные данные члена группы "Администраторы".</span><span class="sxs-lookup"><span data-stu-id="e8ae2-152">The current user must be a member of the Administrators group on the remote computer, or the current user must be able to supply the credentials of a member of the Administrators group.</span></span> <span data-ttu-id="e8ae2-153">Дополнительные сведения см. в разделе [about_Remote_Requirements](about_Remote_Requirements.md).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-153">For more information, see [about_Remote_Requirements](about_Remote_Requirements.md).</span></span>

## <a name="can-i-see-my-pssessions-in-other-sessions"></a><span data-ttu-id="e8ae2-154">Можно ли видеть мои PSSession в других сеансах?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-154">Can I See My PSSessions in Other Sessions?</span></span>

<span data-ttu-id="e8ae2-155">Начиная с Windows PowerShell 3,0, параметр **ComputerName** `Get-PSSession` командлета получает PSSession, созданный на указанных удаленных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-155">Beginning in Windows PowerShell 3.0, the **ComputerName** parameter of the `Get-PSSession` cmdlet gets PSSessions that you created on the specified remote computers.</span></span>

<span data-ttu-id="e8ae2-156">Активные PSSession хранятся на удаленном компьютере (на стороне сервера), и их можно получить из любого сеанса на любом компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-156">Active PSSessions are maintained on the remote computer (the "server-side" of a connection) and you can get them from any session on any computer.</span></span>

<span data-ttu-id="e8ae2-157">Например, если сеанс PSSession создается с компьютера Server01 на компьютере Server02, а затем переключается на компьютер Server03, для получения сеанса можно использовать следующую команду:</span><span class="sxs-lookup"><span data-stu-id="e8ae2-157">For example, if you create a PSSession from the Server01 computer to the Server02 computer, and then switch to the Server03 computer, you can use a command like the following one to get the session.</span></span>

```powershell
Get-PSSession -ComputerName Server02
```

<span data-ttu-id="e8ae2-158">Даже при отключении от сеанса сеанс сохраняется на удаленном компьютере до тех пор, пока вы не удалите его или не истечет время ожидания.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-158">Even if you disconnect from the session, the session is maintained on the remote computer until you delete it or it times out.</span></span>

<span data-ttu-id="e8ae2-159">В Windows PowerShell 2,0 можно получить только PSSession, созданные в текущем сеансе.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-159">In Windows PowerShell 2.0, you can get only the PSSessions that you have created in the current session.</span></span> <span data-ttu-id="e8ae2-160">Вы не можете получить PSSession, созданный в других сеансах.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-160">You cannot get PSSessions that you created in other sessions.</span></span>

<span data-ttu-id="e8ae2-161">Дополнительные сведения см. в разделе [Get-PSSession](xref:Microsoft.PowerShell.Core.Get-PSSession).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-161">For more information, see [Get-PSSession](xref:Microsoft.PowerShell.Core.Get-PSSession).</span></span>

## <a name="can-i-see-the-pssessions-that-others-have-created-on-my-computer"></a><span data-ttu-id="e8ae2-162">Можно ли увидеть PSSession, созданные другими пользователями на Мой компьютер?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-162">Can I See the PSSessions That Others Have Created on My Computer?</span></span>

<span data-ttu-id="e8ae2-163">Вы можете получать и управлять только PSSession, которые были созданы другими пользователями, только если вы можете указать учетные данные пользователя, создавшего сеанс PSSession, или конфигурацию сеанса, которую использует PSSession, включая учетные данные запуска от имени.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-163">You can get and manage only the PSSessions that others have created only if you can supply the credentials of the user who created the PSSession or the session configuration that the PSSession uses includes RunAs credentials.</span></span> <span data-ttu-id="e8ae2-164">В противном случае можно получить, подключиться к, использовать и управлять только созданными PSSession.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-164">Otherwise, you can get, connect to, use, and manage only the PSSessions that you created.</span></span>

## <a name="can-i-connect-to-a-pssession-from-a-different-computer"></a><span data-ttu-id="e8ae2-165">Можно ли подключиться к сеансу PSSession с другого компьютера?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-165">Can I Connect to a PSSession From a Different Computer?</span></span>

<span data-ttu-id="e8ae2-166">Начиная с Windows PowerShell 3,0, PSSession не зависят от сеансов, в которых они были созданы.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-166">Beginning in Windows PowerShell 3.0, PSSessions are independent of the sessions in which they were created.</span></span> <span data-ttu-id="e8ae2-167">Активные PSSession хранятся на компьютере на удаленном или "серверном" подключении.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-167">Active PSSessions are maintained on the computer at the remote or "server-side" of a connection.</span></span>

<span data-ttu-id="e8ae2-168">Командлет можно использовать `Disconnect-PSSession` для отключения от PSSession.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-168">You can use the `Disconnect-PSSession` cmdlet to disconnect from a PSSession.</span></span> <span data-ttu-id="e8ae2-169">Сеанс PSSession отключен от локального сеанса, но сохраняется на удаленном компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-169">The PSSession is disconnected from the local session, but is maintained on the remote computer.</span></span>
<span data-ttu-id="e8ae2-170">Команды продолжают выполняться в отключенном сеансе PSSession.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-170">Commands continue to run in the disconnected PSSession.</span></span> <span data-ttu-id="e8ae2-171">Вы можете закрыть PowerShell и завершить работу исходного компьютера, не прерывая сеанс PSSession.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-171">You can close PowerShell and shut down the originating computer without interrupting the PSSession.</span></span>

<span data-ttu-id="e8ae2-172">Затем, даже ч, можно использовать `Get-PSSession` командлет, чтобы получить PSSession и `Connect-PSSession` командлет для подключения к сеансу PSSession из нового сеанса на другом компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-172">Then, even hours later, you can use the `Get-PSSession` cmdlet to get the PSSession and the `Connect-PSSession` cmdlet to connect to the PSSession from a new session on a different computer.</span></span>

<span data-ttu-id="e8ae2-173">Дополнительные сведения см. в разделе [about_Remote_Disconnected_Sessions](about_Remote_Disconnected_Sessions.md).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-173">For more information, see [about_Remote_Disconnected_Sessions](about_Remote_Disconnected_Sessions.md).</span></span>

## <a name="what-happens-to-my-pssession-if-my-computer-stops"></a><span data-ttu-id="e8ae2-174">Что происходит с моим сеансом PSSession, если Мой компьютер останавливается?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-174">What Happens to My PSSession if My Computer Stops?</span></span>

<span data-ttu-id="e8ae2-175">Отключенные PSSession не зависят от сеансов, в которых они были созданы.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-175">Disconnected PSSessions are independent of the sessions in which they were created.</span></span> <span data-ttu-id="e8ae2-176">При отключении сеанса PSSession и последующем закрытии исходного компьютера сеанс PSSession сохраняется на удаленном компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-176">If you disconnect a PSSession and then close the originating computer, the PSSession is maintained on the remote computer.</span></span>

<span data-ttu-id="e8ae2-177">Кроме того, PowerShell пытается восстановить активные PSSession, которые были отключены непреднамеренно, например перезагрузку компьютера, временный сбой питания или перерыв в работе сети.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-177">In addition, PowerShell attempts to recover active PSSessions that are disconnected unintentionally, such as by a computer reboot, a temporary power outage or network disruption.</span></span> <span data-ttu-id="e8ae2-178">PowerShell пытается сохранить или восстановить сеанс PSSession в открытом состоянии, если исходный сеанс по-прежнему доступен, или в отключенном состоянии, если это не так.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-178">PowerShell attempts to maintain or recover the PSSession to an Opened state, if the originating session is still available, or to a disconnected state if it is not.</span></span>

<span data-ttu-id="e8ae2-179">"Активный" сеанс PSSession — это один из команд, выполняющий команды.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-179">An "active" PSSession is one that is running commands.</span></span> <span data-ttu-id="e8ae2-180">Если сеанс PSSession подключен (не отключен) и команды выполняются в сеансе PSSession при закрытии подключенного сеанса, то PowerShell пытается сохранить сеанс PSSession на удаленном компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-180">If a PSSession is connected (not disconnected) and commands are running in the PSSession when the connected session closes, PowerShell attempts to maintain the PSSession on the remote computer.</span></span> <span data-ttu-id="e8ae2-181">Однако если в PSSession не выполняется ни одной команды, PowerShell закрывает сеанс PSSession при закрытии подключенного сеанса.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-181">However, if no commands are running in the PSSession, PowerShell closes the PSSession when the connected session closes.</span></span>

<span data-ttu-id="e8ae2-182">Дополнительные сведения см. в разделе [about_Remote_Disconnected_Sessions](about_Remote_Disconnected_Sessions.md).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-182">For more information, see [about_Remote_Disconnected_Sessions](about_Remote_Disconnected_Sessions.md).</span></span>

## <a name="can-i-run-a-background-job-in-a-pssession"></a><span data-ttu-id="e8ae2-183">Можно ли запустить фоновое задание в PSSession?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-183">Can I Run a Background Job in a PSSession?</span></span>

<span data-ttu-id="e8ae2-184">Да.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-184">Yes.</span></span> <span data-ttu-id="e8ae2-185">Фоновое задание — это команда, которая выполняется асинхронно в фоновом режиме без взаимодействия с текущим сеансом.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-185">A background job is a command that runs asynchronously in the background without interacting with the current session.</span></span> <span data-ttu-id="e8ae2-186">При отправке команды для запуска задания команда возвращает объект задания, но задание будет продолжать выполняться в фоновом режиме, пока оно не будет завершено.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-186">When you submit a command to start a job, the command returns a job object, but the job continues to run in the background until it is complete.</span></span>

<span data-ttu-id="e8ae2-187">Чтобы запустить фоновое задание на локальном компьютере, используйте `Start-Job` команду.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-187">To start a background job on a local computer, use the `Start-Job` command.</span></span>
<span data-ttu-id="e8ae2-188">Фоновое задание можно запустить во временном подключении (с помощью параметра **ComputerName** ) или в PSSession (с помощью параметра **сеанса** ).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-188">You can run the background job in a temporary connection (by using the **ComputerName** parameter) or in a PSSession (by using the **Session** parameter).</span></span>

<span data-ttu-id="e8ae2-189">Чтобы запустить фоновое задание на удаленном компьютере, используйте `Invoke-Command` командлет с параметром **AsJob** или используйте `Invoke-Command` командлет для выполнения `Start-Job` команды на удаленном компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-189">To start a background job on a remote computer, use the `Invoke-Command` cmdlet with its **AsJob** parameter, or use the `Invoke-Command` cmdlet to run a `Start-Job` command on a remote computer.</span></span> <span data-ttu-id="e8ae2-190">При использовании параметра **AsJob** можно использовать параметры **ComputerName** или **Session** .</span><span class="sxs-lookup"><span data-stu-id="e8ae2-190">When using the **AsJob** parameter, you can use the **ComputerName** or **Session** parameters.</span></span>

<span data-ttu-id="e8ae2-191">При использовании `Invoke-Command` для выполнения `Start-Job` команды необходимо выполнить команду в PSSession.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-191">When using `Invoke-Command` to run a `Start-Job` command, you must run the command in a PSSession.</span></span> <span data-ttu-id="e8ae2-192">Если используется параметр **ComputerName** , то при возврате объекта задания PowerShell завершает соединение, а задание прерывается.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-192">If you use the **ComputerName** parameter, PowerShell ends the connection when the job object returns, and the job is interrupted.</span></span>

<span data-ttu-id="e8ae2-193">См. дополнительные сведения о [заданиях](about_Jobs.md).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-193">For more information, see [about_Jobs](about_Jobs.md).</span></span>

## <a name="can-i-run-an-interactive-session"></a><span data-ttu-id="e8ae2-194">Можно ли запустить интерактивный сеанс?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-194">Can I Run an Interactive Session?</span></span>

<span data-ttu-id="e8ae2-195">Да.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-195">Yes.</span></span> <span data-ttu-id="e8ae2-196">Чтобы запустить интерактивный сеанс с удаленным компьютером, используйте `Enter-PSSession` командлет.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-196">To start an interactive session with a remote computer, use the `Enter-PSSession` cmdlet.</span></span> <span data-ttu-id="e8ae2-197">В интерактивном сеансе вводимые команды выполняются на удаленном компьютере, как если бы они были введены непосредственно на удаленном компьютере.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-197">In an interactive session, the commands that you type run on the remote computer, just as if you typed them directly on the remote computer.</span></span>

<span data-ttu-id="e8ae2-198">Интерактивный сеанс можно запустить во временном сеансе (с помощью параметра **ComputerName** ) или в PSSession (с помощью параметра **сеанса** ).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-198">You can run an interactive session in a temporary session (by using the **ComputerName** parameter) or in a PSSession (by using the **Session** parameter).</span></span>
<span data-ttu-id="e8ae2-199">Если используется сеанс PSSession, то сеанс PSSession оставляет данные из предыдущих команд, а сеанс PSSession оставляет все данные, созданные во время интерактивного сеанса, для использования в последующих командах.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-199">If you use a PSSession, the PSSession retains the data from previous commands, and the PSSession retains any data generated during the interactive session for use in later commands.</span></span>

<span data-ttu-id="e8ae2-200">После завершения интерактивного сеанса сеанс PSSession остается открытым и доступен для использования.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-200">When you end the interactive session, the PSSession remains open and available for use.</span></span>

<span data-ttu-id="e8ae2-201">Дополнительные сведения см. в статье [Ввод-PSSession](xref:Microsoft.PowerShell.Core.Enter-PSSession) и [Exit-PSSession](xref:Microsoft.PowerShell.Core.Exit-PSSession).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-201">For more information, see [Enter-PSSession](xref:Microsoft.PowerShell.Core.Enter-PSSession) and [Exit-PSSession](xref:Microsoft.PowerShell.Core.Exit-PSSession).</span></span>

## <a name="must-i-delete-the-pssessions"></a><span data-ttu-id="e8ae2-202">Нужно ли удалить PSSession?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-202">Must I Delete the PSSessions?</span></span>

<span data-ttu-id="e8ae2-203">Да.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-203">Yes.</span></span> <span data-ttu-id="e8ae2-204">PSSession — это процесс, который является автономной средой, использующей память и другие ресурсы, даже если вы не используете ее.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-204">A PSSession is a process, which is a self-contained environment that uses memory and other resources even when you are not using it.</span></span> <span data-ttu-id="e8ae2-205">По завершении работы с PSSession удалите его.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-205">When you are finished with a PSSession, delete it.</span></span> <span data-ttu-id="e8ae2-206">Если вы создаете несколько PSSession, закройте те из них, которые не используются, и обслуживайте только те из них, которые сейчас используются.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-206">If you create multiple PSSessions, close the ones that you are not using, and maintain only the ones currently in use.</span></span>

<span data-ttu-id="e8ae2-207">Чтобы удалить PSSession, используйте `Remove-PSSession` командлет.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-207">To delete PSSessions, use the `Remove-PSSession` cmdlet.</span></span> <span data-ttu-id="e8ae2-208">Он удаляет PSSession и освобождает все ресурсы, которые они использовали.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-208">It deletes the PSSessions and releases all of the resources that they were using.</span></span>

<span data-ttu-id="e8ae2-209">Можно также использовать параметр **IdleTimeOut** параметра, `New-PSSessionOption` чтобы закрыть бездействующий сеанс PSSession через указанный интервал.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-209">You can also use the **IdleTimeOut** parameter of `New-PSSessionOption` to close an idle PSSession after an interval that you specify.</span></span> <span data-ttu-id="e8ae2-210">Дополнительные сведения см. в разделе [New-PSSessionOption](xref:Microsoft.PowerShell.Core.New-PSSessionOption).</span><span class="sxs-lookup"><span data-stu-id="e8ae2-210">For more information, see [New-PSSessionOption](xref:Microsoft.PowerShell.Core.New-PSSessionOption).</span></span>

<span data-ttu-id="e8ae2-211">Если объект PSSession сохраняется в переменной, а затем удаляется сеанс PSSession или истекает время ожидания, переменная по-прежнему содержит объект PSSession, но сеанс PSSession неактивен и не может быть использован или восстановлен.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-211">If you save a PSSession object in a variable and then delete the PSSession or let it time out, the variable still contains the PSSession object, but the PSSession is not active and cannot be used or repaired.</span></span>

## <a name="are-all-sessions-and-pssessions-alike"></a><span data-ttu-id="e8ae2-212">Являются ли все сеансы и PSSession одинаковыми?</span><span class="sxs-lookup"><span data-stu-id="e8ae2-212">Are All Sessions and PSSessions Alike?</span></span>

<span data-ttu-id="e8ae2-213">Нет.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-213">No.</span></span> <span data-ttu-id="e8ae2-214">Разработчики могут создавать пользовательские сеансы, включающие только выбранные поставщики и командлеты.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-214">Developers can create custom sessions that include only selected providers and cmdlets.</span></span> <span data-ttu-id="e8ae2-215">Если команда работает в одном сеансе, но не в другой, это может быть вызвано тем, что сеанс ограничен.</span><span class="sxs-lookup"><span data-stu-id="e8ae2-215">If a command works in one session but not in another, it might be because the session is restricted.</span></span>

## <a name="see-also"></a><span data-ttu-id="e8ae2-216">См. также:</span><span class="sxs-lookup"><span data-stu-id="e8ae2-216">See Also</span></span>

[<span data-ttu-id="e8ae2-217">about_Jobs</span><span class="sxs-lookup"><span data-stu-id="e8ae2-217">about_Jobs</span></span>](about_Jobs.md)

[<span data-ttu-id="e8ae2-218">about_PSSessions</span><span class="sxs-lookup"><span data-stu-id="e8ae2-218">about_PSSessions</span></span>](about_PSSessions.md)

[<span data-ttu-id="e8ae2-219">about_Remote</span><span class="sxs-lookup"><span data-stu-id="e8ae2-219">about_Remote</span></span>](about_Remote.md)

[<span data-ttu-id="e8ae2-220">about_Remote_Disconnected_Sessions</span><span class="sxs-lookup"><span data-stu-id="e8ae2-220">about_Remote_Disconnected_Sessions</span></span>](about_Remote_Disconnected_Sessions.md)

[<span data-ttu-id="e8ae2-221">about_Remote_Requirements</span><span class="sxs-lookup"><span data-stu-id="e8ae2-221">about_Remote_Requirements</span></span>](about_Remote_Requirements.md)

[<span data-ttu-id="e8ae2-222">Invoke-Command</span><span class="sxs-lookup"><span data-stu-id="e8ae2-222">Invoke-Command</span></span>](xref:Microsoft.PowerShell.Core.Invoke-Command)

[<span data-ttu-id="e8ae2-223">Enter-PSSession</span><span class="sxs-lookup"><span data-stu-id="e8ae2-223">Enter-PSSession</span></span>](xref:Microsoft.PowerShell.Core.Enter-PSSession)

[<span data-ttu-id="e8ae2-224">Exit-PSSession;</span><span class="sxs-lookup"><span data-stu-id="e8ae2-224">Exit-PSSession</span></span>](xref:Microsoft.PowerShell.Core.Exit-PSSession)

[<span data-ttu-id="e8ae2-225">Get-PSSession</span><span class="sxs-lookup"><span data-stu-id="e8ae2-225">Get-PSSession</span></span>](xref:Microsoft.PowerShell.Core.Get-PSSession)

[<span data-ttu-id="e8ae2-226">New-PSSession</span><span class="sxs-lookup"><span data-stu-id="e8ae2-226">New-PSSession</span></span>](xref:Microsoft.PowerShell.Core.New-PSSession)

[<span data-ttu-id="e8ae2-227">Remove-PSSession</span><span class="sxs-lookup"><span data-stu-id="e8ae2-227">Remove-PSSession</span></span>](xref:Microsoft.PowerShell.Core.Remove-PSSession)

